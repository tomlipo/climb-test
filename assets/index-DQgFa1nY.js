(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Da(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const ut={},go=[],sn=()=>{},Cu=()=>!1,Pr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$a=e=>e.startsWith("onUpdate:"),Ct=Object.assign,Ha=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Au=Object.prototype.hasOwnProperty,Oe=(e,t)=>Au.call(e,t),ve=Array.isArray,fo=e=>Cr(e)==="[object Map]",fc=e=>Cr(e)==="[object Set]",xe=e=>typeof e=="function",It=e=>typeof e=="string",Es=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",mc=e=>(yt(e)||xe(e))&&xe(e.then)&&xe(e.catch),pc=Object.prototype.toString,Cr=e=>pc.call(e),Bu=e=>Cr(e).slice(8,-1),_c=e=>Cr(e)==="[object Object]",Pa=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Uo=Da(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ar=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qu=/-(\w)/g,$n=Ar(e=>e.replace(qu,(t,n)=>n?n.toUpperCase():"")),Uu=/\B([A-Z])/g,vo=Ar(e=>e.replace(Uu,"-$1").toLowerCase()),Br=Ar(e=>e.charAt(0).toUpperCase()+e.slice(1)),zr=Ar(e=>e?`on${Br(e)}`:""),Zn=(e,t)=>!Object.is(e,t),kr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},hc=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},pa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Za;const yc=()=>Za||(Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qr(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=It(s)?Wu(s):qr(s);if(o)for(const a in o)t[a]=o[a]}return t}else if(It(e)||yt(e))return e}const Fu=/;(?![^(]*\))/g,Lu=/:([^]+)/,Ou=/\/\*[^]*?\*\//g;function Wu(e){const t={};return e.replace(Ou,"").split(Fu).forEach(n=>{if(n){const s=n.split(Lu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ie(e){let t="";if(It(e))t=e;else if(ve(e))for(let n=0;n<e.length;n++){const s=ie(e[n]);s&&(t+=s+" ")}else if(yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ku="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gu=Da(Ku);function vc(e){return!!e||e===""}const C=e=>It(e)?e:e==null?"":ve(e)||yt(e)&&(e.toString===pc||!xe(e.toString))?JSON.stringify(e,kc,2):String(e),kc=(e,t)=>t&&t.__v_isRef?kc(e,t.value):fo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],a)=>(n[Xr(s,a)+" =>"]=o,n),{})}:fc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xr(n))}:Es(t)?Xr(t):yt(t)&&!ve(t)&&!_c(t)?String(t):t,Xr=(e,t="")=>{var n;return Es(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dn;class Vu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dn,!t&&dn&&(this.index=(dn.scopes||(dn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=dn;try{return dn=this,t()}finally{dn=n}}}on(){dn=this}off(){dn=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function ju(e,t=dn){t&&t.active&&t.effects.push(e)}function Nu(){return dn}let ks;class Ca{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ju(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ts();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Qu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ns()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=zn,n=ks;try{return zn=!0,ks=this,this._runnings++,el(this),this.fn()}finally{tl(this),this._runnings--,ks=n,zn=t}}stop(){this.active&&(el(this),tl(this),this.onStop&&this.onStop(),this.active=!1)}}function Qu(e){return e.value}function el(e){e._trackId++,e._depsLength=0}function tl(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)wc(e.deps[t],e);e.deps.length=e._depsLength}}function wc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let zn=!0,_a=0;const bc=[];function ts(){bc.push(zn),zn=!1}function ns(){const e=bc.pop();zn=e===void 0?!0:e}function Aa(){_a++}function Ba(){for(_a--;!_a&&ha.length;)ha.shift()()}function Ec(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&wc(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ha=[];function Ic(e,t,n){Aa();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ha.push(s.scheduler)))}Ba()}const Sc=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ya=new WeakMap,ws=Symbol(""),va=Symbol("");function Gt(e,t,n){if(zn&&ks){let s=ya.get(e);s||ya.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Sc(()=>s.delete(n))),Ec(ks,o)}}function Un(e,t,n,s,o,a){const c=ya.get(e);if(!c)return;let f=[];if(t==="clear")f=[...c.values()];else if(n==="length"&&ve(e)){const h=Number(s);c.forEach((E,S)=>{(S==="length"||!Es(S)&&S>=h)&&f.push(E)})}else switch(n!==void 0&&f.push(c.get(n)),t){case"add":ve(e)?Pa(n)&&f.push(c.get("length")):(f.push(c.get(ws)),fo(e)&&f.push(c.get(va)));break;case"delete":ve(e)||(f.push(c.get(ws)),fo(e)&&f.push(c.get(va)));break;case"set":fo(e)&&f.push(c.get(ws));break}Aa();for(const h of f)h&&Ic(h,4);Ba()}const Ju=Da("__proto__,__v_isRef,__isVue"),xc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Es)),nl=Yu();function Yu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=We(this);for(let a=0,c=this.length;a<c;a++)Gt(s,"get",a+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(We)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ts(),Aa();const s=We(this)[t].apply(this,n);return Ba(),ns(),s}}),e}function zu(e){Es(e)||(e=String(e));const t=We(this);return Gt(t,"has",e),t.hasOwnProperty(e)}class Mc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(o?a?ud:$c:a?Dc:Tc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=ve(t);if(!o){if(c&&Oe(nl,n))return Reflect.get(nl,n,s);if(n==="hasOwnProperty")return zu}const f=Reflect.get(t,n,s);return(Es(n)?xc.has(n):Ju(n))||(o||Gt(t,"get",n),a)?f:St(f)?c&&Pa(n)?f:f.value:yt(f)?o?Hc(f):zo(f):f}}class Rc extends Mc{constructor(t=!1){super(!1,t)}set(t,n,s,o){let a=t[n];if(!this._isShallow){const h=Go(a);if(!xr(s)&&!Go(s)&&(a=We(a),s=We(s)),!ve(t)&&St(a)&&!St(s))return h?!1:(a.value=s,!0)}const c=ve(t)&&Pa(n)?Number(n)<t.length:Oe(t,n),f=Reflect.set(t,n,s,o);return t===We(o)&&(c?Zn(s,a)&&Un(t,"set",n,s):Un(t,"add",n,s)),f}deleteProperty(t,n){const s=Oe(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Un(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Es(n)||!xc.has(n))&&Gt(t,"has",n),s}ownKeys(t){return Gt(t,"iterate",ve(t)?"length":ws),Reflect.ownKeys(t)}}class Xu extends Mc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zu=new Rc,ed=new Xu,td=new Rc(!0);const qa=e=>e,Ur=e=>Reflect.getPrototypeOf(e);function ir(e,t,n=!1,s=!1){e=e.__v_raw;const o=We(e),a=We(t);n||(Zn(t,a)&&Gt(o,"get",t),Gt(o,"get",a));const{has:c}=Ur(o),f=s?qa:n?La:Vo;if(c.call(o,t))return f(e.get(t));if(c.call(o,a))return f(e.get(a));e!==o&&e.get(t)}function or(e,t=!1){const n=this.__v_raw,s=We(n),o=We(e);return t||(Zn(e,o)&&Gt(s,"has",e),Gt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function rr(e,t=!1){return e=e.__v_raw,!t&&Gt(We(e),"iterate",ws),Reflect.get(e,"size",e)}function sl(e){e=We(e);const t=We(this);return Ur(t).has.call(t,e)||(t.add(e),Un(t,"add",e,e)),this}function il(e,t){t=We(t);const n=We(this),{has:s,get:o}=Ur(n);let a=s.call(n,e);a||(e=We(e),a=s.call(n,e));const c=o.call(n,e);return n.set(e,t),a?Zn(t,c)&&Un(n,"set",e,t):Un(n,"add",e,t),this}function ol(e){const t=We(this),{has:n,get:s}=Ur(t);let o=n.call(t,e);o||(e=We(e),o=n.call(t,e)),s&&s.call(t,e);const a=t.delete(e);return o&&Un(t,"delete",e,void 0),a}function rl(){const e=We(this),t=e.size!==0,n=e.clear();return t&&Un(e,"clear",void 0,void 0),n}function ar(e,t){return function(s,o){const a=this,c=a.__v_raw,f=We(c),h=t?qa:e?La:Vo;return!e&&Gt(f,"iterate",ws),c.forEach((E,S)=>s.call(o,h(E),h(S),a))}}function lr(e,t,n){return function(...s){const o=this.__v_raw,a=We(o),c=fo(a),f=e==="entries"||e===Symbol.iterator&&c,h=e==="keys"&&c,E=o[e](...s),S=n?qa:t?La:Vo;return!t&&Gt(a,"iterate",h?va:ws),{next(){const{value:T,done:W}=E.next();return W?{value:T,done:W}:{value:f?[S(T[0]),S(T[1])]:S(T),done:W}},[Symbol.iterator](){return this}}}}function Kn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function nd(){const e={get(a){return ir(this,a)},get size(){return rr(this)},has:or,add:sl,set:il,delete:ol,clear:rl,forEach:ar(!1,!1)},t={get(a){return ir(this,a,!1,!0)},get size(){return rr(this)},has:or,add:sl,set:il,delete:ol,clear:rl,forEach:ar(!1,!0)},n={get(a){return ir(this,a,!0)},get size(){return rr(this,!0)},has(a){return or.call(this,a,!0)},add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear"),forEach:ar(!0,!1)},s={get(a){return ir(this,a,!0,!0)},get size(){return rr(this,!0)},has(a){return or.call(this,a,!0)},add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear"),forEach:ar(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=lr(a,!1,!1),n[a]=lr(a,!0,!1),t[a]=lr(a,!1,!0),s[a]=lr(a,!0,!0)}),[e,n,t,s]}const[sd,id,od,rd]=nd();function Ua(e,t){const n=t?e?rd:od:e?id:sd;return(s,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Oe(n,o)&&o in s?n:s,o,a)}const ad={get:Ua(!1,!1)},ld={get:Ua(!1,!0)},cd={get:Ua(!0,!1)};const Tc=new WeakMap,Dc=new WeakMap,$c=new WeakMap,ud=new WeakMap;function dd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gd(e){return e.__v_skip||!Object.isExtensible(e)?0:dd(Bu(e))}function zo(e){return Go(e)?e:Fa(e,!1,Zu,ad,Tc)}function fd(e){return Fa(e,!1,td,ld,Dc)}function Hc(e){return Fa(e,!0,ed,cd,$c)}function Fa(e,t,n,s,o){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const c=gd(e);if(c===0)return e;const f=new Proxy(e,c===2?s:n);return o.set(e,f),f}function Fo(e){return Go(e)?Fo(e.__v_raw):!!(e&&e.__v_isReactive)}function Go(e){return!!(e&&e.__v_isReadonly)}function xr(e){return!!(e&&e.__v_isShallow)}function Pc(e){return e?!!e.__v_raw:!1}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function pe(e){return Object.isExtensible(e)&&hc(e,"__v_skip",!0),e}const Vo=e=>yt(e)?zo(e):e,La=e=>yt(e)?Hc(e):e;class Cc{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ca(()=>t(this._value),()=>wr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=We(this);return(!t._cacheable||t.effect.dirty)&&Zn(t._value,t._value=t.effect.run())&&wr(t,4),Ac(t),t.effect._dirtyLevel>=2&&wr(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function md(e,t,n=!1){let s,o;const a=xe(e);return a?(s=e,o=sn):(s=e.get,o=e.set),new Cc(s,o,a||!o,n)}function Ac(e){var t;zn&&ks&&(e=We(e),Ec(ks,(t=e.dep)!=null?t:e.dep=Sc(()=>e.dep=void 0,e instanceof Cc?e:void 0)))}function wr(e,t=4,n){e=We(e);const s=e.dep;s&&Ic(s,t)}function St(e){return!!(e&&e.__v_isRef===!0)}function Ye(e){return pd(e,!1)}function pd(e,t){return St(e)?e:new _d(e,t)}class _d{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:We(t),this._value=n?t:Vo(t)}get value(){return Ac(this),this._value}set value(t){const n=this.__v_isShallow||xr(t)||Go(t);t=n?t:We(t),Zn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Vo(t),wr(this,4))}}function r(e){return St(e)?e.value:e}const hd={get:(e,t,n)=>r(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return St(o)&&!St(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Bc(e){return Fo(e)?e:new Proxy(e,hd)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xn(e,t,n,s){try{return s?e(...s):e()}catch(o){Fr(o,t,n)}}function pn(e,t,n,s){if(xe(e)){const o=Xn(e,t,n,s);return o&&mc(o)&&o.catch(a=>{Fr(a,t,n)}),o}if(ve(e)){const o=[];for(let a=0;a<e.length;a++)o.push(pn(e[a],t,n,s));return o}}function Fr(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let a=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const E=a.ec;if(E){for(let S=0;S<E.length;S++)if(E[S](e,c,f)===!1)return}a=a.parent}const h=t.appContext.config.errorHandler;if(h){ts(),Xn(h,null,10,[e,c,f]),ns();return}}yd(e,n,o,s)}function yd(e,t,n,s=!0){console.error(e)}let jo=!1,ka=!1;const qt=[];let Tn=0;const mo=[];let Qn=null,ys=0;const qc=Promise.resolve();let Oa=null;function Wa(e){const t=Oa||qc;return e?t.then(this?e.bind(this):e):t}function vd(e){let t=Tn+1,n=qt.length;for(;t<n;){const s=t+n>>>1,o=qt[s],a=No(o);a<e||a===e&&o.pre?t=s+1:n=s}return t}function Ka(e){(!qt.length||!qt.includes(e,jo&&e.allowRecurse?Tn+1:Tn))&&(e.id==null?qt.push(e):qt.splice(vd(e.id),0,e),Uc())}function Uc(){!jo&&!ka&&(ka=!0,Oa=qc.then(Lc))}function kd(e){const t=qt.indexOf(e);t>Tn&&qt.splice(t,1)}function wd(e){ve(e)?mo.push(...e):(!Qn||!Qn.includes(e,e.allowRecurse?ys+1:ys))&&mo.push(e),Uc()}function al(e,t,n=jo?Tn+1:0){for(;n<qt.length;n++){const s=qt[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;qt.splice(n,1),n--,s()}}}function Fc(e){if(mo.length){const t=[...new Set(mo)].sort((n,s)=>No(n)-No(s));if(mo.length=0,Qn){Qn.push(...t);return}for(Qn=t,ys=0;ys<Qn.length;ys++)Qn[ys]();Qn=null,ys=0}}const No=e=>e.id==null?1/0:e.id,bd=(e,t)=>{const n=No(e)-No(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Lc(e){ka=!1,jo=!0,qt.sort(bd);try{for(Tn=0;Tn<qt.length;Tn++){const t=qt[Tn];t&&t.active!==!1&&Xn(t,null,14)}}finally{Tn=0,qt.length=0,Fc(),jo=!1,Oa=null,(qt.length||mo.length)&&Lc()}}function Ed(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ut;let o=n;const a=t.startsWith("update:"),c=a&&t.slice(7);if(c&&c in s){const S=`${c==="modelValue"?"model":c}Modifiers`,{number:T,trim:W}=s[S]||ut;W&&(o=n.map(ne=>It(ne)?ne.trim():ne)),T&&(o=n.map(pa))}let f,h=s[f=zr(t)]||s[f=zr($n(t))];!h&&a&&(h=s[f=zr(vo(t))]),h&&pn(h,e,6,o);const E=s[f+"Once"];if(E){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,pn(E,e,6,o)}}function Oc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const a=e.emits;let c={},f=!1;if(!xe(e)){const h=E=>{const S=Oc(E,t,!0);S&&(f=!0,Ct(c,S))};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!a&&!f?(yt(e)&&s.set(e,null),null):(ve(a)?a.forEach(h=>c[h]=null):Ct(c,a),yt(e)&&s.set(e,c),c)}function Lr(e,t){return!e||!Pr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,vo(t))||Oe(e,t))}let Pt=null,Or=null;function Mr(e){const t=Pt;return Pt=e,Or=e&&e.type.__scopeId||null,t}function ft(e){Or=e}function mt(){Or=null}function Wr(e,t=Pt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&yl(-1);const a=Mr(t);let c;try{c=e(...o)}finally{Mr(a),s._d&&yl(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function Zr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[a],slots:c,attrs:f,emit:h,render:E,renderCache:S,props:T,data:W,setupState:ne,ctx:Te,inheritAttrs:le}=e,Ne=Mr(e);let it,pt;try{if(n.shapeFlag&4){const dt=o||s,Tt=dt;it=Rn(E.call(Tt,dt,S,T,ne,W,Te)),pt=f}else{const dt=t;it=Rn(dt.length>1?dt(T,{attrs:f,slots:c,emit:h}):dt(T,null)),pt=t.props?f:Id(f)}}catch(dt){Ko.length=0,Fr(dt,e,1),it=X(es)}let Le=it;if(pt&&le!==!1){const dt=Object.keys(pt),{shapeFlag:Tt}=Le;dt.length&&Tt&7&&(a&&dt.some($a)&&(pt=Sd(pt,a)),Le=_o(Le,pt,!1,!0))}return n.dirs&&(Le=_o(Le,null,!1,!0),Le.dirs=Le.dirs?Le.dirs.concat(n.dirs):n.dirs),n.transition&&(Le.transition=n.transition),it=Le,Mr(Ne),it}const Id=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pr(n))&&((t||(t={}))[n]=e[n]);return t},Sd=(e,t)=>{const n={};for(const s in e)(!$a(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function xd(e,t,n){const{props:s,children:o,component:a}=e,{props:c,children:f,patchFlag:h}=t,E=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return s?ll(s,c,E):!!c;if(h&8){const S=t.dynamicProps;for(let T=0;T<S.length;T++){const W=S[T];if(c[W]!==s[W]&&!Lr(E,W))return!0}}}else return(o||f)&&(!f||!f.$stable)?!0:s===c?!1:s?c?ll(s,c,E):!0:!!c;return!1}function ll(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const a=s[o];if(t[a]!==e[a]&&!Lr(n,a))return!0}return!1}function Md({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Rd="components",Wc=Symbol.for("v-ndc");function ko(e){return It(e)?Td(Rd,e,!1)||e:e||Wc}function Td(e,t,n=!0,s=!1){const o=Pt||Ut;if(o){const a=o.type;{const f=wg(a,!1);if(f&&(f===t||f===$n(t)||f===Br($n(t))))return a}const c=cl(o[e]||a[e],t)||cl(o.appContext[e],t);return!c&&s?a:c}}function cl(e,t){return e&&(e[t]||e[$n(t)]||e[Br($n(t))])}const Dd=e=>e.__isSuspense;function $d(e,t){t&&t.pendingBranch?ve(e)?t.effects.push(...e):t.effects.push(e):wd(e)}const Hd=Symbol.for("v-scx"),Pd=()=>br(Hd),cr={};function po(e,t,n){return Kc(e,t,n)}function Kc(e,t,{immediate:n,deep:s,flush:o,once:a,onTrack:c,onTrigger:f}=ut){if(t&&a){const He=t;t=(...Ft)=>{He(...Ft),Tt()}}const h=Ut,E=He=>s===!0?He:vs(He,s===!1?1:void 0);let S,T=!1,W=!1;if(St(e)?(S=()=>e.value,T=xr(e)):Fo(e)?(S=()=>E(e),T=!0):ve(e)?(W=!0,T=e.some(He=>Fo(He)||xr(He)),S=()=>e.map(He=>{if(St(He))return He.value;if(Fo(He))return E(He);if(xe(He))return Xn(He,h,2)})):xe(e)?t?S=()=>Xn(e,h,2):S=()=>(ne&&ne(),pn(e,h,3,[Te])):S=sn,t&&s){const He=S;S=()=>vs(He())}let ne,Te=He=>{ne=Le.onStop=()=>{Xn(He,h,4),ne=Le.onStop=void 0}},le;if(Vr)if(Te=sn,t?n&&pn(t,h,3,[S(),W?[]:void 0,Te]):S(),o==="sync"){const He=Pd();le=He.__watcherHandles||(He.__watcherHandles=[])}else return sn;let Ne=W?new Array(e.length).fill(cr):cr;const it=()=>{if(!(!Le.active||!Le.dirty))if(t){const He=Le.run();(s||T||(W?He.some((Ft,At)=>Zn(Ft,Ne[At])):Zn(He,Ne)))&&(ne&&ne(),pn(t,h,3,[He,Ne===cr?void 0:W&&Ne[0]===cr?[]:Ne,Te]),Ne=He)}else Le.run()};it.allowRecurse=!!t;let pt;o==="sync"?pt=it:o==="post"?pt=()=>Kt(it,h&&h.suspense):(it.pre=!0,h&&(it.id=h.uid),pt=()=>Ka(it));const Le=new Ca(S,sn,pt),dt=Nu(),Tt=()=>{Le.stop(),dt&&Ha(dt.effects,Le)};return t?n?it():Ne=Le.run():o==="post"?Kt(Le.run.bind(Le),h&&h.suspense):Le.run(),le&&le.push(Tt),Tt}function Cd(e,t,n){const s=this.proxy,o=It(e)?e.includes(".")?Gc(s,e):()=>s[e]:e.bind(s,s);let a;xe(t)?a=t:(a=t.handler,n=t);const c=Xo(this),f=Kc(o,a.bind(s),n);return c(),f}function Gc(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function vs(e,t=1/0,n){if(t<=0||!yt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,St(e))vs(e.value,t,n);else if(ve(e))for(let s=0;s<e.length;s++)vs(e[s],t,n);else if(fc(e)||fo(e))e.forEach(s=>{vs(s,t,n)});else if(_c(e))for(const s in e)vs(e[s],t,n);return e}function Vc(e,t){if(Pt===null)return e;const n=jr(Pt)||Pt.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,c,f,h=ut]=t[o];a&&(xe(a)&&(a={mounted:a,updated:a}),a.deep&&vs(c),s.push({dir:a,instance:n,value:c,oldValue:void 0,arg:f,modifiers:h}))}return e}function cs(e,t,n,s){const o=e.dirs,a=t&&t.dirs;for(let c=0;c<o.length;c++){const f=o[c];a&&(f.oldValue=a[c].value);let h=f.dir[s];h&&(ts(),pn(h,n,8,[e.el,f,e,t]),ns())}}const Lo=e=>!!e.type.__asyncLoader,jc=e=>e.type.__isKeepAlive;function Ad(e,t){Nc(e,"a",t)}function Bd(e,t){Nc(e,"da",t)}function Nc(e,t,n=Ut){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Kr(t,s,n),n){let o=n.parent;for(;o&&o.parent;)jc(o.parent.vnode)&&qd(s,t,n,o),o=o.parent}}function qd(e,t,n,s){const o=Kr(t,e,s,!0);Ss(()=>{Ha(s[t],o)},n)}function Kr(e,t,n=Ut,s=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{if(n.isUnmounted)return;ts();const f=Xo(n),h=pn(t,n,e,c);return f(),ns(),h});return s?o.unshift(a):o.push(a),a}}const On=e=>(t,n=Ut)=>(!Vr||e==="sp")&&Kr(e,(...s)=>t(...s),n),Ud=On("bm"),Is=On("m"),Fd=On("bu"),Qc=On("u"),Jc=On("bum"),Ss=On("um"),Ld=On("sp"),Od=On("rtg"),Wd=On("rtc");function Kd(e,t=Ut){Kr("ec",e,t)}function re(e,t,n,s){let o;const a=n;if(ve(e)||It(e)){o=new Array(e.length);for(let c=0,f=e.length;c<f;c++)o[c]=t(e[c],c,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,a)}else if(yt(e))if(e[Symbol.iterator])o=Array.from(e,(c,f)=>t(c,f,void 0,a));else{const c=Object.keys(e);o=new Array(c.length);for(let f=0,h=c.length;f<h;f++){const E=c[f];o[f]=t(e[E],E,f,a)}}else o=[];return o}function Gd(e,t,n={},s,o){if(Pt.isCE||Pt.parent&&Lo(Pt.parent)&&Pt.parent.isCE)return X("slot",n,s);let a=e[t];a&&a._c&&(a._d=!1),d();const c=a&&Yc(a(n)),f=Se(B,{key:n.key||c&&c.key||`_${t}`},c||[],c&&e._===1?64:-2);return a&&a._c&&(a._d=!0),f}function Yc(e){return e.some(t=>uu(t)?!(t.type===es||t.type===B&&!Yc(t.children)):!0)?e:null}const wa=e=>e?gu(e)?jr(e)||e.proxy:wa(e.parent):null,Oo=Ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wa(e.parent),$root:e=>wa(e.root),$emit:e=>e.emit,$options:e=>Ga(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ka(e.update)}),$nextTick:e=>e.n||(e.n=Wa.bind(e.proxy)),$watch:e=>Cd.bind(e)}),ea=(e,t)=>e!==ut&&!e.__isScriptSetup&&Oe(e,t),Vd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:a,accessCache:c,type:f,appContext:h}=e;let E;if(t[0]!=="$"){const ne=c[t];if(ne!==void 0)switch(ne){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(ea(s,t))return c[t]=1,s[t];if(o!==ut&&Oe(o,t))return c[t]=2,o[t];if((E=e.propsOptions[0])&&Oe(E,t))return c[t]=3,a[t];if(n!==ut&&Oe(n,t))return c[t]=4,n[t];ba&&(c[t]=0)}}const S=Oo[t];let T,W;if(S)return t==="$attrs"&&Gt(e.attrs,"get",""),S(e);if((T=f.__cssModules)&&(T=T[t]))return T;if(n!==ut&&Oe(n,t))return c[t]=4,n[t];if(W=h.config.globalProperties,Oe(W,t))return W[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:a}=e;return ea(o,t)?(o[t]=n,!0):s!==ut&&Oe(s,t)?(s[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:a}},c){let f;return!!n[c]||e!==ut&&Oe(e,c)||ea(t,c)||(f=a[0])&&Oe(f,c)||Oe(s,c)||Oe(Oo,c)||Oe(o.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ul(e){return ve(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ba=!0;function jd(e){const t=Ga(e),n=e.proxy,s=e.ctx;ba=!1,t.beforeCreate&&dl(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:c,watch:f,provide:h,inject:E,created:S,beforeMount:T,mounted:W,beforeUpdate:ne,updated:Te,activated:le,deactivated:Ne,beforeDestroy:it,beforeUnmount:pt,destroyed:Le,unmounted:dt,render:Tt,renderTracked:He,renderTriggered:Ft,errorCaptured:At,serverPrefetch:hn,expose:we,inheritAttrs:cn,components:yn,directives:_t,filters:Ms}=t;if(E&&Nd(E,s,null),c)for(const ot in c){const Qe=c[ot];xe(Qe)&&(s[ot]=Qe.bind(n))}if(o){const ot=o.call(n,n);yt(ot)&&(e.data=zo(ot))}if(ba=!0,a)for(const ot in a){const Qe=a[ot],vn=xe(Qe)?Qe.bind(n,n):xe(Qe.get)?Qe.get.bind(n,n):sn,as=!xe(Qe)&&xe(Qe.set)?Qe.set.bind(n):sn,kn=D({get:vn,set:as});Object.defineProperty(s,ot,{enumerable:!0,configurable:!0,get:()=>kn.value,set:Vt=>kn.value=Vt})}if(f)for(const ot in f)zc(f[ot],s,n,ot);if(h){const ot=xe(h)?h.call(n):h;Reflect.ownKeys(ot).forEach(Qe=>{Zd(Qe,ot[Qe])})}S&&dl(S,e,"c");function Dt(ot,Qe){ve(Qe)?Qe.forEach(vn=>ot(vn.bind(n))):Qe&&ot(Qe.bind(n))}if(Dt(Ud,T),Dt(Is,W),Dt(Fd,ne),Dt(Qc,Te),Dt(Ad,le),Dt(Bd,Ne),Dt(Kd,At),Dt(Wd,He),Dt(Od,Ft),Dt(Jc,pt),Dt(Ss,dt),Dt(Ld,hn),ve(we))if(we.length){const ot=e.exposed||(e.exposed={});we.forEach(Qe=>{Object.defineProperty(ot,Qe,{get:()=>n[Qe],set:vn=>n[Qe]=vn})})}else e.exposed||(e.exposed={});Tt&&e.render===sn&&(e.render=Tt),cn!=null&&(e.inheritAttrs=cn),yn&&(e.components=yn),_t&&(e.directives=_t)}function Nd(e,t,n=sn){ve(e)&&(e=Ea(e));for(const s in e){const o=e[s];let a;yt(o)?"default"in o?a=br(o.from||s,o.default,!0):a=br(o.from||s):a=br(o),St(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[s]=a}}function dl(e,t,n){pn(ve(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function zc(e,t,n,s){const o=s.includes(".")?Gc(n,s):()=>n[s];if(It(e)){const a=t[e];xe(a)&&po(o,a)}else if(xe(e))po(o,e.bind(n));else if(yt(e))if(ve(e))e.forEach(a=>zc(a,t,n,s));else{const a=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(a)&&po(o,a,e)}}function Ga(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,f=a.get(t);let h;return f?h=f:!o.length&&!n&&!s?h=t:(h={},o.length&&o.forEach(E=>Rr(h,E,c,!0)),Rr(h,t,c)),yt(t)&&a.set(t,h),h}function Rr(e,t,n,s=!1){const{mixins:o,extends:a}=t;a&&Rr(e,a,n,!0),o&&o.forEach(c=>Rr(e,c,n,!0));for(const c in t)if(!(s&&c==="expose")){const f=Qd[c]||n&&n[c];e[c]=f?f(e[c],t[c]):t[c]}return e}const Qd={data:gl,props:fl,emits:fl,methods:qo,computed:qo,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:qo,directives:qo,watch:Yd,provide:gl,inject:Jd};function gl(e,t){return t?e?function(){return Ct(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function Jd(e,t){return qo(Ea(e),Ea(t))}function Ea(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function qo(e,t){return e?Ct(Object.create(null),e,t):t}function fl(e,t){return e?ve(e)&&ve(t)?[...new Set([...e,...t])]:Ct(Object.create(null),ul(e),ul(t??{})):t}function Yd(e,t){if(!e)return t;if(!t)return e;const n=Ct(Object.create(null),e);for(const s in t)n[s]=Lt(e[s],t[s]);return n}function Xc(){return{app:null,config:{isNativeTag:Cu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zd=0;function Xd(e,t){return function(s,o=null){xe(s)||(s=Ct({},s)),o!=null&&!yt(o)&&(o=null);const a=Xc(),c=new WeakSet;let f=!1;const h=a.app={_uid:zd++,_component:s,_props:o,_container:null,_context:a,_instance:null,version:Eg,get config(){return a.config},set config(E){},use(E,...S){return c.has(E)||(E&&xe(E.install)?(c.add(E),E.install(h,...S)):xe(E)&&(c.add(E),E(h,...S))),h},mixin(E){return a.mixins.includes(E)||a.mixins.push(E),h},component(E,S){return S?(a.components[E]=S,h):a.components[E]},directive(E,S){return S?(a.directives[E]=S,h):a.directives[E]},mount(E,S,T){if(!f){const W=X(s,o);return W.appContext=a,T===!0?T="svg":T===!1&&(T=void 0),S&&t?t(W,E):e(W,E,T),f=!0,h._container=E,E.__vue_app__=h,jr(W.component)||W.component.proxy}},unmount(){f&&(e(null,h._container),delete h._container.__vue_app__)},provide(E,S){return a.provides[E]=S,h},runWithContext(E){const S=Wo;Wo=h;try{return E()}finally{Wo=S}}};return h}}let Wo=null;function Zd(e,t){if(Ut){let n=Ut.provides;const s=Ut.parent&&Ut.parent.provides;s===n&&(n=Ut.provides=Object.create(s)),n[e]=t}}function br(e,t,n=!1){const s=Ut||Pt;if(s||Wo){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Wo._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&xe(t)?t.call(s&&s.proxy):t}}const Zc={},eu=()=>Object.create(Zc),tu=e=>Object.getPrototypeOf(e)===Zc;function eg(e,t,n,s=!1){const o={},a=eu();e.propsDefaults=Object.create(null),nu(e,t,o,a);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);n?e.props=s?o:fd(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function tg(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:c}}=e,f=We(o),[h]=e.propsOptions;let E=!1;if((s||c>0)&&!(c&16)){if(c&8){const S=e.vnode.dynamicProps;for(let T=0;T<S.length;T++){let W=S[T];if(Lr(e.emitsOptions,W))continue;const ne=t[W];if(h)if(Oe(a,W))ne!==a[W]&&(a[W]=ne,E=!0);else{const Te=$n(W);o[Te]=Ia(h,f,Te,ne,e,!1)}else ne!==a[W]&&(a[W]=ne,E=!0)}}}else{nu(e,t,o,a)&&(E=!0);let S;for(const T in f)(!t||!Oe(t,T)&&((S=vo(T))===T||!Oe(t,S)))&&(h?n&&(n[T]!==void 0||n[S]!==void 0)&&(o[T]=Ia(h,f,T,void 0,e,!0)):delete o[T]);if(a!==f)for(const T in a)(!t||!Oe(t,T))&&(delete a[T],E=!0)}E&&Un(e.attrs,"set","")}function nu(e,t,n,s){const[o,a]=e.propsOptions;let c=!1,f;if(t)for(let h in t){if(Uo(h))continue;const E=t[h];let S;o&&Oe(o,S=$n(h))?!a||!a.includes(S)?n[S]=E:(f||(f={}))[S]=E:Lr(e.emitsOptions,h)||(!(h in s)||E!==s[h])&&(s[h]=E,c=!0)}if(a){const h=We(n),E=f||ut;for(let S=0;S<a.length;S++){const T=a[S];n[T]=Ia(o,h,T,E[T],e,!Oe(E,T))}}return c}function Ia(e,t,n,s,o,a){const c=e[n];if(c!=null){const f=Oe(c,"default");if(f&&s===void 0){const h=c.default;if(c.type!==Function&&!c.skipFactory&&xe(h)){const{propsDefaults:E}=o;if(n in E)s=E[n];else{const S=Xo(o);s=E[n]=h.call(null,t),S()}}else s=h}c[0]&&(a&&!f?s=!1:c[1]&&(s===""||s===vo(n))&&(s=!0))}return s}function su(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const a=e.props,c={},f=[];let h=!1;if(!xe(e)){const S=T=>{h=!0;const[W,ne]=su(T,t,!0);Ct(c,W),ne&&f.push(...ne)};!n&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}if(!a&&!h)return yt(e)&&s.set(e,go),go;if(ve(a))for(let S=0;S<a.length;S++){const T=$n(a[S]);ml(T)&&(c[T]=ut)}else if(a)for(const S in a){const T=$n(S);if(ml(T)){const W=a[S],ne=c[T]=ve(W)||xe(W)?{type:W}:Ct({},W);if(ne){const Te=hl(Boolean,ne.type),le=hl(String,ne.type);ne[0]=Te>-1,ne[1]=le<0||Te<le,(Te>-1||Oe(ne,"default"))&&f.push(T)}}}const E=[c,f];return yt(e)&&s.set(e,E),E}function ml(e){return e[0]!=="$"&&!Uo(e)}function pl(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function _l(e,t){return pl(e)===pl(t)}function hl(e,t){return ve(t)?t.findIndex(n=>_l(n,e)):xe(t)&&_l(t,e)?0:-1}const iu=e=>e[0]==="_"||e==="$stable",Va=e=>ve(e)?e.map(Rn):[Rn(e)],ng=(e,t,n)=>{if(t._n)return t;const s=Wr((...o)=>Va(t(...o)),n);return s._c=!1,s},ou=(e,t,n)=>{const s=e._ctx;for(const o in e){if(iu(o))continue;const a=e[o];if(xe(a))t[o]=ng(o,a,s);else if(a!=null){const c=Va(a);t[o]=()=>c}}},ru=(e,t)=>{const n=Va(t);e.slots.default=()=>n},sg=(e,t)=>{const n=e.slots=eu();if(e.vnode.shapeFlag&32){const s=t._;s?(Ct(n,t),hc(n,"_",s,!0)):ou(t,n)}else t&&ru(e,t)},ig=(e,t,n)=>{const{vnode:s,slots:o}=e;let a=!0,c=ut;if(s.shapeFlag&32){const f=t._;f?n&&f===1?a=!1:(Ct(o,t),!n&&f===1&&delete o._):(a=!t.$stable,ou(t,o)),c=t}else t&&(ru(e,t),c={default:1});if(a)for(const f in o)!iu(f)&&c[f]==null&&delete o[f]};function Sa(e,t,n,s,o=!1){if(ve(e)){e.forEach((W,ne)=>Sa(W,t&&(ve(t)?t[ne]:t),n,s,o));return}if(Lo(s)&&!o)return;const a=s.shapeFlag&4?jr(s.component)||s.component.proxy:s.el,c=o?null:a,{i:f,r:h}=e,E=t&&t.r,S=f.refs===ut?f.refs={}:f.refs,T=f.setupState;if(E!=null&&E!==h&&(It(E)?(S[E]=null,Oe(T,E)&&(T[E]=null)):St(E)&&(E.value=null)),xe(h))Xn(h,f,12,[c,S]);else{const W=It(h),ne=St(h);if(W||ne){const Te=()=>{if(e.f){const le=W?Oe(T,h)?T[h]:S[h]:h.value;o?ve(le)&&Ha(le,a):ve(le)?le.includes(a)||le.push(a):W?(S[h]=[a],Oe(T,h)&&(T[h]=S[h])):(h.value=[a],e.k&&(S[e.k]=h.value))}else W?(S[h]=c,Oe(T,h)&&(T[h]=c)):ne&&(h.value=c,e.k&&(S[e.k]=c))};c?(Te.id=-1,Kt(Te,n)):Te()}}}const Kt=$d;function og(e){return rg(e)}function rg(e,t){const n=yc();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:c,createText:f,createComment:h,setText:E,setElementText:S,parentNode:T,nextSibling:W,setScopeId:ne=sn,insertStaticContent:Te}=e,le=(v,I,$,U=null,F=null,N=null,Z=void 0,G=null,z=!!I.dynamicChildren)=>{if(v===I)return;v&&!Mo(v,I)&&(U=ls(v),Vt(v,F,N,!0),v=null),I.patchFlag===-2&&(z=!1,I.dynamicChildren=null);const{type:O,ref:te,shapeFlag:me}=I;switch(O){case Gr:Ne(v,I,$,U);break;case es:it(v,I,$,U);break;case na:v==null&&pt(I,$,U,Z);break;case B:yn(v,I,$,U,F,N,Z,G,z);break;default:me&1?Tt(v,I,$,U,F,N,Z,G,z):me&6?_t(v,I,$,U,F,N,Z,G,z):(me&64||me&128)&&O.process(v,I,$,U,F,N,Z,G,z,So)}te!=null&&F&&Sa(te,v&&v.ref,N,I||v,!I)},Ne=(v,I,$,U)=>{if(v==null)s(I.el=f(I.children),$,U);else{const F=I.el=v.el;I.children!==v.children&&E(F,I.children)}},it=(v,I,$,U)=>{v==null?s(I.el=h(I.children||""),$,U):I.el=v.el},pt=(v,I,$,U)=>{[v.el,v.anchor]=Te(v.children,I,$,U,v.el,v.anchor)},Le=({el:v,anchor:I},$,U)=>{let F;for(;v&&v!==I;)F=W(v),s(v,$,U),v=F;s(I,$,U)},dt=({el:v,anchor:I})=>{let $;for(;v&&v!==I;)$=W(v),o(v),v=$;o(I)},Tt=(v,I,$,U,F,N,Z,G,z)=>{I.type==="svg"?Z="svg":I.type==="math"&&(Z="mathml"),v==null?He(I,$,U,F,N,Z,G,z):hn(v,I,F,N,Z,G,z)},He=(v,I,$,U,F,N,Z,G)=>{let z,O;const{props:te,shapeFlag:me,transition:de,dirs:ke}=v;if(z=v.el=c(v.type,N,te&&te.is,te),me&8?S(z,v.children):me&16&&At(v.children,z,null,U,F,ta(v,N),Z,G),ke&&cs(v,null,U,"created"),Ft(z,v,v.scopeId,Z,U),te){for(const ze in te)ze!=="value"&&!Uo(ze)&&a(z,ze,null,te[ze],N,v.children,U,F,Zt);"value"in te&&a(z,"value",null,te.value,N),(O=te.onVnodeBeforeMount)&&bn(O,U,v)}ke&&cs(v,null,U,"beforeMount");const Pe=ag(F,de);Pe&&de.beforeEnter(z),s(z,I,$),((O=te&&te.onVnodeMounted)||Pe||ke)&&Kt(()=>{O&&bn(O,U,v),Pe&&de.enter(z),ke&&cs(v,null,U,"mounted")},F)},Ft=(v,I,$,U,F)=>{if($&&ne(v,$),U)for(let N=0;N<U.length;N++)ne(v,U[N]);if(F){let N=F.subTree;if(I===N){const Z=F.vnode;Ft(v,Z,Z.scopeId,Z.slotScopeIds,F.parent)}}},At=(v,I,$,U,F,N,Z,G,z=0)=>{for(let O=z;O<v.length;O++){const te=v[O]=G?Jn(v[O]):Rn(v[O]);le(null,te,I,$,U,F,N,Z,G)}},hn=(v,I,$,U,F,N,Z)=>{const G=I.el=v.el;let{patchFlag:z,dynamicChildren:O,dirs:te}=I;z|=v.patchFlag&16;const me=v.props||ut,de=I.props||ut;let ke;if($&&us($,!1),(ke=de.onVnodeBeforeUpdate)&&bn(ke,$,I,v),te&&cs(I,v,$,"beforeUpdate"),$&&us($,!0),O?we(v.dynamicChildren,O,G,$,U,ta(I,F),N):Z||Qe(v,I,G,null,$,U,ta(I,F),N,!1),z>0){if(z&16)cn(G,I,me,de,$,U,F);else if(z&2&&me.class!==de.class&&a(G,"class",null,de.class,F),z&4&&a(G,"style",me.style,de.style,F),z&8){const Pe=I.dynamicProps;for(let ze=0;ze<Pe.length;ze++){const gt=Pe[ze],$t=me[gt],un=de[gt];(un!==$t||gt==="value")&&a(G,gt,$t,un,F,v.children,$,U,Zt)}}z&1&&v.children!==I.children&&S(G,I.children)}else!Z&&O==null&&cn(G,I,me,de,$,U,F);((ke=de.onVnodeUpdated)||te)&&Kt(()=>{ke&&bn(ke,$,I,v),te&&cs(I,v,$,"updated")},U)},we=(v,I,$,U,F,N,Z)=>{for(let G=0;G<I.length;G++){const z=v[G],O=I[G],te=z.el&&(z.type===B||!Mo(z,O)||z.shapeFlag&70)?T(z.el):$;le(z,O,te,null,U,F,N,Z,!0)}},cn=(v,I,$,U,F,N,Z)=>{if($!==U){if($!==ut)for(const G in $)!Uo(G)&&!(G in U)&&a(v,G,$[G],null,Z,I.children,F,N,Zt);for(const G in U){if(Uo(G))continue;const z=U[G],O=$[G];z!==O&&G!=="value"&&a(v,G,O,z,Z,I.children,F,N,Zt)}"value"in U&&a(v,"value",$.value,U.value,Z)}},yn=(v,I,$,U,F,N,Z,G,z)=>{const O=I.el=v?v.el:f(""),te=I.anchor=v?v.anchor:f("");let{patchFlag:me,dynamicChildren:de,slotScopeIds:ke}=I;ke&&(G=G?G.concat(ke):ke),v==null?(s(O,$,U),s(te,$,U),At(I.children||[],$,te,F,N,Z,G,z)):me>0&&me&64&&de&&v.dynamicChildren?(we(v.dynamicChildren,de,$,F,N,Z,G),(I.key!=null||F&&I===F.subTree)&&au(v,I,!0)):Qe(v,I,$,te,F,N,Z,G,z)},_t=(v,I,$,U,F,N,Z,G,z)=>{I.slotScopeIds=G,v==null?I.shapeFlag&512?F.ctx.activate(I,$,U,Z,z):Ms(I,$,U,F,N,Z,z):Eo(v,I,z)},Ms=(v,I,$,U,F,N,Z)=>{const G=v.component=_g(v,U,F);if(jc(v)&&(G.ctx.renderer=So),hg(G),G.asyncDep){if(F&&F.registerDep(G,Dt),!v.el){const z=G.subTree=X(es);it(null,z,I,$)}}else Dt(G,v,I,$,F,N,Z)},Eo=(v,I,$)=>{const U=I.component=v.component;if(xd(v,I,$))if(U.asyncDep&&!U.asyncResolved){ot(U,I,$);return}else U.next=I,kd(U.update),U.effect.dirty=!0,U.update();else I.el=v.el,U.vnode=I},Dt=(v,I,$,U,F,N,Z)=>{const G=()=>{if(v.isMounted){let{next:te,bu:me,u:de,parent:ke,vnode:Pe}=v;{const Ts=lu(v);if(Ts){te&&(te.el=Pe.el,ot(v,te,Z)),Ts.asyncDep.then(()=>{v.isUnmounted||G()});return}}let ze=te,gt;us(v,!1),te?(te.el=Pe.el,ot(v,te,Z)):te=Pe,me&&kr(me),(gt=te.props&&te.props.onVnodeBeforeUpdate)&&bn(gt,ke,te,Pe),us(v,!0);const $t=Zr(v),un=v.subTree;v.subTree=$t,le(un,$t,T(un.el),ls(un),v,F,N),te.el=$t.el,ze===null&&Md(v,$t.el),de&&Kt(de,F),(gt=te.props&&te.props.onVnodeUpdated)&&Kt(()=>bn(gt,ke,te,Pe),F)}else{let te;const{el:me,props:de}=I,{bm:ke,m:Pe,parent:ze}=v,gt=Lo(I);if(us(v,!1),ke&&kr(ke),!gt&&(te=de&&de.onVnodeBeforeMount)&&bn(te,ze,I),us(v,!0),me&&Ja){const $t=()=>{v.subTree=Zr(v),Ja(me,v.subTree,v,F,null)};gt?I.type.__asyncLoader().then(()=>!v.isUnmounted&&$t()):$t()}else{const $t=v.subTree=Zr(v);le(null,$t,$,U,v,F,N),I.el=$t.el}if(Pe&&Kt(Pe,F),!gt&&(te=de&&de.onVnodeMounted)){const $t=I;Kt(()=>bn(te,ze,$t),F)}(I.shapeFlag&256||ze&&Lo(ze.vnode)&&ze.vnode.shapeFlag&256)&&v.a&&Kt(v.a,F),v.isMounted=!0,I=$=U=null}},z=v.effect=new Ca(G,sn,()=>Ka(O),v.scope),O=v.update=()=>{z.dirty&&z.run()};O.id=v.uid,us(v,!0),O()},ot=(v,I,$)=>{I.component=v;const U=v.vnode.props;v.vnode=I,v.next=null,tg(v,I.props,U,$),ig(v,I.children,$),ts(),al(v),ns()},Qe=(v,I,$,U,F,N,Z,G,z=!1)=>{const O=v&&v.children,te=v?v.shapeFlag:0,me=I.children,{patchFlag:de,shapeFlag:ke}=I;if(de>0){if(de&128){as(O,me,$,U,F,N,Z,G,z);return}else if(de&256){vn(O,me,$,U,F,N,Z,G,z);return}}ke&8?(te&16&&Zt(O,F,N),me!==O&&S($,me)):te&16?ke&16?as(O,me,$,U,F,N,Z,G,z):Zt(O,F,N,!0):(te&8&&S($,""),ke&16&&At(me,$,U,F,N,Z,G,z))},vn=(v,I,$,U,F,N,Z,G,z)=>{v=v||go,I=I||go;const O=v.length,te=I.length,me=Math.min(O,te);let de;for(de=0;de<me;de++){const ke=I[de]=z?Jn(I[de]):Rn(I[de]);le(v[de],ke,$,null,F,N,Z,G,z)}O>te?Zt(v,F,N,!0,!1,me):At(I,$,U,F,N,Z,G,z,me)},as=(v,I,$,U,F,N,Z,G,z)=>{let O=0;const te=I.length;let me=v.length-1,de=te-1;for(;O<=me&&O<=de;){const ke=v[O],Pe=I[O]=z?Jn(I[O]):Rn(I[O]);if(Mo(ke,Pe))le(ke,Pe,$,null,F,N,Z,G,z);else break;O++}for(;O<=me&&O<=de;){const ke=v[me],Pe=I[de]=z?Jn(I[de]):Rn(I[de]);if(Mo(ke,Pe))le(ke,Pe,$,null,F,N,Z,G,z);else break;me--,de--}if(O>me){if(O<=de){const ke=de+1,Pe=ke<te?I[ke].el:U;for(;O<=de;)le(null,I[O]=z?Jn(I[O]):Rn(I[O]),$,Pe,F,N,Z,G,z),O++}}else if(O>de)for(;O<=me;)Vt(v[O],F,N,!0),O++;else{const ke=O,Pe=O,ze=new Map;for(O=Pe;O<=de;O++){const jt=I[O]=z?Jn(I[O]):Rn(I[O]);jt.key!=null&&ze.set(jt.key,O)}let gt,$t=0;const un=de-Pe+1;let Ts=!1,Ya=0;const xo=new Array(un);for(O=0;O<un;O++)xo[O]=0;for(O=ke;O<=me;O++){const jt=v[O];if($t>=un){Vt(jt,F,N,!0);continue}let wn;if(jt.key!=null)wn=ze.get(jt.key);else for(gt=Pe;gt<=de;gt++)if(xo[gt-Pe]===0&&Mo(jt,I[gt])){wn=gt;break}wn===void 0?Vt(jt,F,N,!0):(xo[wn-Pe]=O+1,wn>=Ya?Ya=wn:Ts=!0,le(jt,I[wn],$,null,F,N,Z,G,z),$t++)}const za=Ts?lg(xo):go;for(gt=za.length-1,O=un-1;O>=0;O--){const jt=Pe+O,wn=I[jt],Xa=jt+1<te?I[jt+1].el:U;xo[O]===0?le(null,wn,$,Xa,F,N,Z,G,z):Ts&&(gt<0||O!==za[gt]?kn(wn,$,Xa,2):gt--)}}},kn=(v,I,$,U,F=null)=>{const{el:N,type:Z,transition:G,children:z,shapeFlag:O}=v;if(O&6){kn(v.component.subTree,I,$,U);return}if(O&128){v.suspense.move(I,$,U);return}if(O&64){Z.move(v,I,$,So);return}if(Z===B){s(N,I,$);for(let me=0;me<z.length;me++)kn(z[me],I,$,U);s(v.anchor,I,$);return}if(Z===na){Le(v,I,$);return}if(U!==2&&O&1&&G)if(U===0)G.beforeEnter(N),s(N,I,$),Kt(()=>G.enter(N),F);else{const{leave:me,delayLeave:de,afterLeave:ke}=G,Pe=()=>s(N,I,$),ze=()=>{me(N,()=>{Pe(),ke&&ke()})};de?de(N,Pe,ze):ze()}else s(N,I,$)},Vt=(v,I,$,U=!1,F=!1)=>{const{type:N,props:Z,ref:G,children:z,dynamicChildren:O,shapeFlag:te,patchFlag:me,dirs:de}=v;if(G!=null&&Sa(G,null,$,v,!0),te&256){I.ctx.deactivate(v);return}const ke=te&1&&de,Pe=!Lo(v);let ze;if(Pe&&(ze=Z&&Z.onVnodeBeforeUnmount)&&bn(ze,I,v),te&6)sr(v.component,$,U);else{if(te&128){v.suspense.unmount($,U);return}ke&&cs(v,null,I,"beforeUnmount"),te&64?v.type.remove(v,I,$,F,So,U):O&&(N!==B||me>0&&me&64)?Zt(O,I,$,!1,!0):(N===B&&me&384||!F&&te&16)&&Zt(z,I,$),U&&Io(v)}(Pe&&(ze=Z&&Z.onVnodeUnmounted)||ke)&&Kt(()=>{ze&&bn(ze,I,v),ke&&cs(v,null,I,"unmounted")},$)},Io=v=>{const{type:I,el:$,anchor:U,transition:F}=v;if(I===B){nr($,U);return}if(I===na){dt(v);return}const N=()=>{o($),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(v.shapeFlag&1&&F&&!F.persisted){const{leave:Z,delayLeave:G}=F,z=()=>Z($,N);G?G(v.el,N,z):z()}else N()},nr=(v,I)=>{let $;for(;v!==I;)$=W(v),o(v),v=$;o(I)},sr=(v,I,$)=>{const{bum:U,scope:F,update:N,subTree:Z,um:G}=v;U&&kr(U),F.stop(),N&&(N.active=!1,Vt(Z,v,I,$)),G&&Kt(G,I),Kt(()=>{v.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Zt=(v,I,$,U=!1,F=!1,N=0)=>{for(let Z=N;Z<v.length;Z++)Vt(v[Z],I,$,U,F)},ls=v=>v.shapeFlag&6?ls(v.component.subTree):v.shapeFlag&128?v.suspense.next():W(v.anchor||v.el);let Cn=!1;const Rs=(v,I,$)=>{v==null?I._vnode&&Vt(I._vnode,null,null,!0):le(I._vnode||null,v,I,null,null,null,$),Cn||(Cn=!0,al(),Fc(),Cn=!1),I._vnode=v},So={p:le,um:Vt,m:kn,r:Io,mt:Ms,mc:At,pc:Qe,pbc:we,n:ls,o:e};let Qa,Ja;return{render:Rs,hydrate:Qa,createApp:Xd(Rs,Qa)}}function ta({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function us({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ag(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function au(e,t,n=!1){const s=e.children,o=t.children;if(ve(s)&&ve(o))for(let a=0;a<s.length;a++){const c=s[a];let f=o[a];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=o[a]=Jn(o[a]),f.el=c.el),n||au(c,f)),f.type===Gr&&(f.el=c.el)}}function lg(e){const t=e.slice(),n=[0];let s,o,a,c,f;const h=e.length;for(s=0;s<h;s++){const E=e[s];if(E!==0){if(o=n[n.length-1],e[o]<E){t[s]=o,n.push(s);continue}for(a=0,c=n.length-1;a<c;)f=a+c>>1,e[n[f]]<E?a=f+1:c=f;E<e[n[a]]&&(a>0&&(t[s]=n[a-1]),n[a]=s)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function lu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lu(t)}const cg=e=>e.__isTeleport,B=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),es=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Ko=[];let mn=null;function d(e=!1){Ko.push(mn=e?null:[])}function ug(){Ko.pop(),mn=Ko[Ko.length-1]||null}let Qo=1;function yl(e){Qo+=e}function cu(e){return e.dynamicChildren=Qo>0?mn||go:null,ug(),Qo>0&&mn&&mn.push(e),e}function m(e,t,n,s,o,a){return cu(g(e,t,n,s,o,a,!0))}function Se(e,t,n,s,o){return cu(X(e,t,n,s,o,!0))}function uu(e){return e?e.__v_isVNode===!0:!1}function Mo(e,t){return e.type===t.type&&e.key===t.key}const du=({key:e})=>e??null,Er=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?It(e)||St(e)||xe(e)?{i:Pt,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,s=0,o=null,a=e===B?0:1,c=!1,f=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&du(t),ref:t&&Er(t),scopeId:Or,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Pt};return f?(ja(h,n),a&128&&e.normalize(h)):n&&(h.shapeFlag|=It(n)?8:16),Qo>0&&!c&&mn&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&mn.push(h),h}const X=dg;function dg(e,t=null,n=null,s=0,o=null,a=!1){if((!e||e===Wc)&&(e=es),uu(e)){const f=_o(e,t,!0);return n&&ja(f,n),Qo>0&&!a&&mn&&(f.shapeFlag&6?mn[mn.indexOf(e)]=f:mn.push(f)),f.patchFlag|=-2,f}if(bg(e)&&(e=e.__vccOpts),t){t=gg(t);let{class:f,style:h}=t;f&&!It(f)&&(t.class=ie(f)),yt(h)&&(Pc(h)&&!ve(h)&&(h=Ct({},h)),t.style=qr(h))}const c=It(e)?1:Dd(e)?128:cg(e)?64:yt(e)?4:xe(e)?2:0;return g(e,t,n,s,o,c,a,!0)}function gg(e){return e?Pc(e)||tu(e)?Ct({},e):e:null}function _o(e,t,n=!1,s=!1){const{props:o,ref:a,patchFlag:c,children:f,transition:h}=e,E=t?fg(o||{},t):o,S={__v_isVNode:!0,__v_skip:!0,type:e.type,props:E,key:E&&du(E),ref:t&&t.ref?n&&a?ve(a)?a.concat(Er(t)):[a,Er(t)]:Er(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==B?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_o(e.ssContent),ssFallback:e.ssFallback&&_o(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&s&&(S.transition=h.clone(S)),S}function oe(e=" ",t=0){return X(Gr,null,e,t)}function R(e="",t=!1){return t?(d(),Se(es,null,e)):X(es,null,e)}function Rn(e){return e==null||typeof e=="boolean"?X(es):ve(e)?X(B,null,e.slice()):typeof e=="object"?Jn(e):X(Gr,null,String(e))}function Jn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_o(e)}function ja(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ve(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ja(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!tu(t)?t._ctx=Pt:o===3&&Pt&&(Pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),s&64?(n=16,t=[oe(t)]):n=8);e.children=t,e.shapeFlag|=n}function fg(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ie([t.class,s.class]));else if(o==="style")t.style=qr([t.style,s.style]);else if(Pr(o)){const a=t[o],c=s[o];c&&a!==c&&!(ve(a)&&a.includes(c))&&(t[o]=a?[].concat(a,c):c)}else o!==""&&(t[o]=s[o])}return t}function bn(e,t,n,s=null){pn(e,t,7,[n,s])}const mg=Xc();let pg=0;function _g(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||mg,a={uid:pg++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:su(s,o),emitsOptions:Oc(s,o),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Ed.bind(null,a),e.ce&&e.ce(a),a}let Ut=null,Tr,xa;{const e=yc(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),a=>{o.length>1?o.forEach(c=>c(a)):o[0](a)}};Tr=t("__VUE_INSTANCE_SETTERS__",n=>Ut=n),xa=t("__VUE_SSR_SETTERS__",n=>Vr=n)}const Xo=e=>{const t=Ut;return Tr(e),e.scope.on(),()=>{e.scope.off(),Tr(t)}},vl=()=>{Ut&&Ut.scope.off(),Tr(null)};function gu(e){return e.vnode.shapeFlag&4}let Vr=!1;function hg(e,t=!1){t&&xa(t);const{props:n,children:s}=e.vnode,o=gu(e);eg(e,n,o,t),sg(e,s);const a=o?yg(e,t):void 0;return t&&xa(!1),a}function yg(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vd);const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?kg(e):null,a=Xo(e);ts();const c=Xn(s,e,0,[e.props,o]);if(ns(),a(),mc(c)){if(c.then(vl,vl),t)return c.then(f=>{kl(e,f,t)}).catch(f=>{Fr(f,e,0)});e.asyncDep=c}else kl(e,c,t)}else fu(e,t)}function kl(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=Bc(t)),fu(e,n)}let wl;function fu(e,t,n){const s=e.type;if(!e.render){if(!t&&wl&&!s.render){const o=s.template||Ga(e).template;if(o){const{isCustomElement:a,compilerOptions:c}=e.appContext.config,{delimiters:f,compilerOptions:h}=s,E=Ct(Ct({isCustomElement:a,delimiters:f},c),h);s.render=wl(o,E)}}e.render=s.render||sn}{const o=Xo(e);ts();try{jd(e)}finally{ns(),o()}}}const vg={get(e,t){return Gt(e,"get",""),e[t]}};function kg(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vg),slots:e.slots,emit:e.emit,expose:t}}function jr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Bc(pe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oo)return Oo[n](e)},has(t,n){return n in t||n in Oo}}))}function wg(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function bg(e){return xe(e)&&"__vccOpts"in e}const D=(e,t)=>md(e,t,Vr),Eg="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ig="http://www.w3.org/2000/svg",Sg="http://www.w3.org/1998/Math/MathML",Yn=typeof document<"u"?document:null,bl=Yn&&Yn.createElement("template"),xg={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Yn.createElementNS(Ig,e):t==="mathml"?Yn.createElementNS(Sg,e):Yn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Yn.createTextNode(e),createComment:e=>Yn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,a){const c=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{bl.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const f=bl.content;if(s==="svg"||s==="mathml"){const h=f.firstChild;for(;h.firstChild;)f.appendChild(h.firstChild);f.removeChild(h)}t.insertBefore(f,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mg=Symbol("_vtc");function Rg(e,t,n){const s=e[Mg];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const El=Symbol("_vod"),Tg=Symbol("_vsh"),Dg=Symbol(""),$g=/(^|;)\s*display\s*:/;function Hg(e,t,n){const s=e.style,o=It(n);let a=!1;if(n&&!o){if(t)if(It(t))for(const c of t.split(";")){const f=c.slice(0,c.indexOf(":")).trim();n[f]==null&&Ir(s,f,"")}else for(const c in t)n[c]==null&&Ir(s,c,"");for(const c in n)c==="display"&&(a=!0),Ir(s,c,n[c])}else if(o){if(t!==n){const c=s[Dg];c&&(n+=";"+c),s.cssText=n,a=$g.test(n)}}else t&&e.removeAttribute("style");El in e&&(e[El]=a?s.display:"",e[Tg]&&(s.display="none"))}const Il=/\s*!important$/;function Ir(e,t,n){if(ve(n))n.forEach(s=>Ir(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Pg(e,t);Il.test(n)?e.setProperty(vo(s),n.replace(Il,""),"important"):e[s]=n}}const Sl=["Webkit","Moz","ms"],sa={};function Pg(e,t){const n=sa[t];if(n)return n;let s=$n(t);if(s!=="filter"&&s in e)return sa[t]=s;s=Br(s);for(let o=0;o<Sl.length;o++){const a=Sl[o]+s;if(a in e)return sa[t]=a}return t}const xl="http://www.w3.org/1999/xlink";function Cg(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xl,t.slice(6,t.length)):e.setAttributeNS(xl,t,n);else{const a=Gu(t);n==null||a&&!vc(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function Ag(e,t,n,s,o,a,c){if(t==="innerHTML"||t==="textContent"){s&&c(s,o,a),e[t]=n??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const E=f==="OPTION"?e.getAttribute("value")||"":e.value,S=n??"";(E!==S||!("_value"in e))&&(e.value=S),n==null&&e.removeAttribute(t),e._value=n;return}let h=!1;if(n===""||n==null){const E=typeof e[t];E==="boolean"?n=vc(n):n==null&&E==="string"?(n="",h=!0):E==="number"&&(n=0,h=!0)}try{e[t]=n}catch{}h&&e.removeAttribute(t)}function co(e,t,n,s){e.addEventListener(t,n,s)}function Bg(e,t,n,s){e.removeEventListener(t,n,s)}const Ml=Symbol("_vei");function qg(e,t,n,s,o=null){const a=e[Ml]||(e[Ml]={}),c=a[t];if(s&&c)c.value=s;else{const[f,h]=Ug(t);if(s){const E=a[t]=Og(s,o);co(e,f,E,h)}else c&&(Bg(e,f,c,h),a[t]=void 0)}}const Rl=/(?:Once|Passive|Capture)$/;function Ug(e){let t;if(Rl.test(e)){t={};let s;for(;s=e.match(Rl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vo(e.slice(2)),t]}let ia=0;const Fg=Promise.resolve(),Lg=()=>ia||(Fg.then(()=>ia=0),ia=Date.now());function Og(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;pn(Wg(s,n.value),t,5,[s])};return n.value=e,n.attached=Lg(),n}function Wg(e,t){if(ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Tl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kg=(e,t,n,s,o,a,c,f,h)=>{const E=o==="svg";t==="class"?Rg(e,s,E):t==="style"?Hg(e,n,s):Pr(t)?$a(t)||qg(e,t,n,s,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gg(e,t,s,E))?Ag(e,t,s,a,c,f,h):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Cg(e,t,s,E))};function Gg(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tl(t)&&xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Tl(t)&&It(n)?!1:t in e}const Dl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ve(t)?n=>kr(t,n):t};function Vg(e){e.target.composing=!0}function $l(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const oa=Symbol("_assign"),mu={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[oa]=Dl(o);const a=s||o.props&&o.props.type==="number";co(e,t?"change":"input",c=>{if(c.target.composing)return;let f=e.value;n&&(f=f.trim()),a&&(f=pa(f)),e[oa](f)}),n&&co(e,"change",()=>{e.value=e.value.trim()}),t||(co(e,"compositionstart",Vg),co(e,"compositionend",$l),co(e,"change",$l))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},a){if(e[oa]=Dl(a),e.composing)return;const c=(o||e.type==="number")&&!/^0\d/.test(e.value)?pa(e.value):e.value,f=t??"";c!==f&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===f)||(e.value=f))}},jg=["ctrl","shift","alt","meta"],Ng={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jg.some(n=>e[`${n}Key`]&&!t.includes(n))},Bt=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...a)=>{for(let c=0;c<t.length;c++){const f=Ng[t[c]];if(f&&f(o,t))return}return e(o,...a)})},Qg=Ct({patchProp:Kg},xg);let Hl;function Jg(){return Hl||(Hl=og(Qg))}const Yg=(...e)=>{const t=Jg().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Xg(s);if(!o)return;const a=t._component;!xe(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const c=n(o,!1,zg(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},t};function zg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xg(e){return It(e)?document.querySelector(e):e}const y=function(e){return{slug:e.slug,name:e.name,description:e.description,canBeUnlocked:e.canBeUnlocked||function(){return!1},getEffects:e.getEffects||function(){return[]},getRewards:e.getRewards||function(){return[]},getIcon:e.getIcon||function(){return this.slug},getEffectDescriptions:function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},ss=function(e){return{stat:e.stat,description:e.description,up:e.up||function(){},down:e.down||function(){},percentageSuffix:e.percentageSuffix||!1,getDescription:e.getDescription||function(t){return this.description+t+(this.percentageSuffix?"%":"")}}},Zg=function(e){return{__proto__:ss(e),caster:e.caster,target:e.target,statusEffect:e.statusEffect,durationMultiplier:e.durationMultiplier||1,eachTick:e.eachTick||!0,eachTickChance:e.eachTickChance||100,effectDescriptions:e.effectDescriptions||[],up:function(){return tt.statusEffectApplied(this,this.target),this.target==="player"?q.addStatusEffect(this):Ee.addStatusEffect(this)},getDescription:function(){let t=this.statusEffect.duration*this.durationMultiplier,n=t===1?" ("+t+" second)":" ("+t+" seconds)";return[...this.effectDescriptions,n].join("<br>")}}},Jo=(e,t)=>e+"_"+t,ht=function(e){return{__proto__:ss(e),valueType:e.valueType||"flat",up:function(t,n,s,o){t.stats[this.stat].modifiers[Jo(s,this.valueType)]={sourceType:o,value:n,valueType:this.valueType}},down:function(t,n){delete t.stats[this.stat].modifiers[Jo(n,this.valueType)]}}},ur=function(e){return e.valueType="percentage",e.percentageSuffix=!0,{__proto__:ht(e)}},ef=function(){return{maxHp:ht({stat:"maxHp",description:"<span class='c-hp'>MAX HP</span> + "}),maxHpPercentage:ur({stat:"maxHp",description:"<span class='c-hp'>MAX HP</span> + "}),maxMp:ht({stat:"maxMp",description:"<span class='c-mp'>MAX MP</span> + "}),maxMpPercentage:ur({stat:"maxMp",description:"<span class='c-mp'>MAX MP</span> + "}),str:ht({stat:"str",description:"<span class='c-str'>STR</span> + "}),strPercentage:ur({stat:"str",description:"<span class='c-str'>STR</span> + "}),dex:ht({stat:"dex",description:"<span class='c-dex'>DEX</span> + "}),int:ht({stat:"int",description:"<span class='c-int'>INT</span> + "}),intPercentage:ur({stat:"int",description:"<span class='c-int'>INT</span> + "}),def:ht({stat:"def",description:"<span class='c-def'>DEF</span> + "}),mdef:ht({stat:"mdef",description:"<span class='c-mdef'>MDEF</span> + "}),dr:ht({stat:"dr",description:"<span class='c-dr'>DR</span> + "}),bleedingResistance:ht({stat:"bleedingResistance",description:"<span class='c-red'>Bleeding Resistance</span> + ",percentageSuffix:!0}),burningResistance:ht({stat:"burningResistance",description:"<span class='c-fire'>Burning Resistance</span> + ",percentageSuffix:!0}),poisonResistance:ht({stat:"poisonResistance",description:"<span class='c-green'>Poison Resistance</span> + ",percentageSuffix:!0}),critPower:ht({stat:"critPower",description:"<span class='c-crit-power'>Crit Power</span> + "}),hpRegen:ht({stat:"hpRegen",description:"<span class='c-hp'>HP Regeneration</span> + "}),mpRegen:ht({stat:"mpRegen",description:"<span class='c-mp'>MP Regeneration</span> + "}),hpRegenPercentage:ht({stat:"hpRegenPercentage",description:"<span class='c-hp'>HP Regeneration</span> + ",percentageSuffix:!0}),mpRegenPercentage:ht({stat:"mpRegenPercentage",description:"<span class='c-mp'>MP Regeneration</span> + ",percentageSuffix:!0}),expModifier:ht({stat:"expModifier",description:"<span class='c-exp'>EXP Rate</span> + ",percentageSuffix:!0}),dropModifier:ht({stat:"dropModifier",description:"<span class='c-drop'>Drop Rate</span> + ",percentageSuffix:!0}),studyingSpeed:ht({stat:"studyingSpeed",description:"<span class='c-studying-speed'>Studying speed</span> + ",percentageSuffix:!0}),manaEfficiency:ht({stat:"manaEfficiency",description:"<span class='c-mana-efficiency'>Mana Efficiency</span> + ",percentageSuffix:!0}),discount:ht({stat:"discount",description:"<span class='c-discount'>Discount</span> + ",percentageSuffix:!0}),startingReputation:ss({description:"<span class='c-reputation'>Starting Reputation</span> = "}),createMaxHp:e=>i.createEffect(i.maxHp,e),createMaxHpPercentage:e=>i.createEffect(i.maxHpPercentage,e),createMaxMp:e=>i.createEffect(i.maxMp,e),createMaxMpPercentage:e=>i.createEffect(i.maxMpPercentage,e),createStr:e=>i.createEffect(i.str,e),createStrPercentage:e=>i.createEffect(i.strPercentage,e),createDex:e=>i.createEffect(i.dex,e),createInt:e=>i.createEffect(i.int,e),createIntPercentage:e=>i.createEffect(i.intPercentage,e),createDef:e=>i.createEffect(i.def,e),createMdef:e=>i.createEffect(i.mdef,e),createDr:e=>i.createEffect(i.dr,e),createBleedingResistance:e=>i.createEffect(i.bleedingResistance,e),createPoisonResistance:e=>i.createEffect(i.poisonResistance,e),createBurningResistance:e=>i.createEffect(i.burningResistance,e),createCritPower:e=>i.createEffect(i.critPower,e),createHpRegen:e=>i.createEffect(i.hpRegen,e),createHpRegenPercentage:e=>i.createEffect(i.hpRegenPercentage,e),createMpRegen:e=>i.createEffect(i.mpRegen,e),createMpRegenPercentage:e=>i.createEffect(i.mpRegenPercentage,e),createExpModifier:e=>i.createEffect(i.expModifier,e),createDropModifier:e=>i.createEffect(i.dropModifier,e),createStudyingSpeed:e=>i.createEffect(i.studyingSpeed,e),createManaEfficiency:e=>i.createEffect(i.manaEfficiency,e),createDiscount:e=>i.createEffect(i.discount,e),createStartingReputation:e=>i.createEffect(i.startingReputation,e)}},he=function(e){return{__proto__:ss(e),statType:e.statType,up:function(t,n,s,o){t.stats[this.statType][this.stat].modifiers[Jo(s,this.valueType)]={sourceType:o,value:n,valueType:"flat"}},down:function(t,n){delete t.stats[this.statType][this.stat].modifiers[Jo(n,this.valueType)]},getDescription:e.getDescription||function(t){return this.description+t+"%"}}},tf=function(){return{blacksmithingExpModifier:he({stat:"blacksmithing",statType:"skillExpModifiers",description:"Blacksmithing EXP + "}),tailoringExpModifier:he({stat:"tailoring",statType:"skillExpModifiers",description:"Tailoring EXP + "}),createTailoringExpModifier:e=>i.createEffect(i.tailoringExpModifier,e),createBlacksmithingExpModifier:e=>i.createEffect(i.blacksmithingExpModifier,e)}},nf=function(){return{neutralHatred:he({stat:"neutral",statType:"elementHatreds",description:"<span class='c-neutral'>Neutral Hatred</span> + "}),fireHatred:he({stat:"fire",statType:"elementHatreds",description:"<span class='c-fire'>Fire Hatred</span> + "}),waterHatred:he({stat:"water",statType:"elementHatreds",description:"<span class='c-water'>Water Hatred</span> + "}),earthHatred:he({stat:"earth",statType:"elementHatreds",description:"<span class='c-earth'>Earth Hatred</span> + "}),windHatred:he({stat:"wind",statType:"elementHatreds",description:"<span class='c-wind'>Wind Hatred</span> + "}),holyHatred:he({stat:"holy",statType:"elementHatreds",description:"<span class='c-holy'>Holy Hatred</span> + "}),shadowHatred:he({stat:"shadow",statType:"elementHatreds",description:"<span class='c-shadow'>Shadow Hatred</span> + "}),createNeutralHatred:e=>i.createEffect(i.neutralHatred,e),createFireHatred:e=>i.createEffect(i.fireHatred,e),createWaterHatred:e=>i.createEffect(i.waterHatred,e),createEarthHatred:e=>i.createEffect(i.earthHatred,e),createWindHatred:e=>i.createEffect(i.windHatred,e),createHolyHatred:e=>i.createEffect(i.holyHatred,e),createShadowHatred:e=>i.createEffect(i.shadowHatred,e)}},sf=function(){return{neutralPower:he({stat:"neutral",statType:"elementPowers",description:"<span class='c-neutral'>Neutral Power</span> + "}),firePower:he({stat:"fire",statType:"elementPowers",description:"<span class='c-fire'>Fire Power</span> + "}),waterPower:he({stat:"water",statType:"elementPowers",description:"<span class='c-water'>Water Power</span> + "}),earthPower:he({stat:"earth",statType:"elementPowers",description:"<span class='c-earth'>Earth Power</span> + "}),windPower:he({stat:"wind",statType:"elementPowers",description:"<span class='c-wind'>Wind Power</span> + "}),holyPower:he({stat:"holy",statType:"elementPowers",description:"<span class='c-holy'>Holy Power</span> + "}),shadowPower:he({stat:"shadow",statType:"elementPowers",description:"<span class='c-shadow'>Shadow Power</span> + "}),createNeutralPower:e=>i.createEffect(i.neutralPower,e),createFirePower:e=>i.createEffect(i.firePower,e),createWaterPower:e=>i.createEffect(i.waterPower,e),createEarthPower:e=>i.createEffect(i.earthPower,e),createWindPower:e=>i.createEffect(i.windPower,e),createHolyPower:e=>i.createEffect(i.holyPower,e),createShadowPower:e=>i.createEffect(i.shadowPower,e)}},of=function(){return{neutralResistance:he({stat:"neutral",statType:"elementResistances",description:"<span class='c-neutral'>Neutral Resistance</span> + "}),fireResistance:he({stat:"fire",statType:"elementResistances",description:"<span class='c-fire'>Fire Resistance</span> + "}),waterResistance:he({stat:"water",statType:"elementResistances",description:"<span class='c-water'>Water Resistance</span> + "}),earthResistance:he({stat:"earth",statType:"elementResistances",description:"<span class='c-earth'>Earth Resistance</span> + "}),windResistance:he({stat:"wind",statType:"elementResistances",description:"<span class='c-wind'>Wind Resistance</span> + "}),holyResistance:he({stat:"holy",statType:"elementResistances",description:"<span class='c-holy'>Holy Resistance</span> + "}),shadowResistance:he({stat:"shadow",statType:"elementResistances",description:"<span class='c-shadow'>Shadow Resistance</span> + "}),createNeutralResistance:e=>i.createEffect(i.neutralResistance,e),createFireResistance:e=>i.createEffect(i.fireResistance,e),createWaterResistance:e=>i.createEffect(i.waterResistance,e),createEarthResistance:e=>i.createEffect(i.earthResistance,e),createWindResistance:e=>i.createEffect(i.windResistance,e),createHolyResistance:e=>i.createEffect(i.holyResistance,e),createShadowResistance:e=>i.createEffect(i.shadowResistance,e)}},rf=function(e){return{__proto__:ss(e),up:function(t,n,s){let o=t[this.stat]-n;t[this.stat]=o<0?0:o,ee.commonMessage(s+" hit for "+n),this.stat==="hp"&&o<=0&&(t.type==="player"?A.handlePlayerDeath():A.handleEnemyDeath())}}},af=function(){return{takeHp:rf({stat:"hp",description:"<span class='c-hp'>HP</span> - "}),createTakeHp:e=>i.createEffect(i.takeHp,e)}},lf=function(){return{humanoidHatred:he({stat:"humanoid",statType:"raceHatreds",description:"Humanoid Hatred + "}),beastHatred:he({stat:"beast",statType:"raceHatreds",description:"Beast Hatred + "}),angelHatred:he({stat:"angel",statType:"raceHatreds",description:"Angel Hatred + "}),demonHatred:he({stat:"demon",statType:"raceHatreds",description:"Demon Hatred + "}),dragonHatred:he({stat:"dragon",statType:"raceHatreds",description:"Dragon Hatred + "}),fishHatred:he({stat:"fish",statType:"raceHatreds",description:"Fish Hatred + "}),insectHatred:he({stat:"insect",statType:"raceHatreds",description:"Insect Hatred + "}),plantHatred:he({stat:"plant",statType:"raceHatreds",description:"Plant Hatred + "}),undeadHatred:he({stat:"undead",statType:"raceHatreds",description:"Undead Hatred + "}),constructHatred:he({stat:"construct",statType:"raceHatreds",description:"Construct Hatred + "}),formlessHatred:he({stat:"formless",statType:"raceHatreds",description:"Formless Hatred + "}),createHumanoidHatred:e=>i.createEffect(i.humanoidHatred,e),createBeastHatred:e=>i.createEffect(i.beastHatred,e),createAngelHatred:e=>i.createEffect(i.angelHatred,e),createDemonHatred:e=>i.createEffect(i.demonHatred,e),createDragonHatred:e=>i.createEffect(i.dragonHatred,e),createFishHatred:e=>i.createEffect(i.fishHatred,e),createInsectHatred:e=>i.createEffect(i.insectHatred,e),createPlantHatred:e=>i.createEffect(i.plantHatred,e),createUndeadHatred:e=>i.createEffect(i.undeadHatred,e),createConstructHatred:e=>i.createEffect(i.constructHatred,e),createFormlessHatred:e=>i.createEffect(i.formlessHatred,e)}},Ce=e=>e.charAt(0).toUpperCase()+e.slice(1),Pl=function(e){return{__proto__:ss(e),percentageSuffix:!0,up:function(t,n){const o=(t.type==="player"?q:Ee)["getMax"+Ce(this.stat)]();t[this.stat]+=o*n/100,bs(t)}}},Cl=function(e){return{__proto__:ss(e),up:function(t,n){t[this.stat]+=n,bs(t)}}},cf=function(){return{recoverHp:Cl({stat:"hp",description:"<span class='c-hp'>HP</span> + "}),recoverHpPercentage:Pl({stat:"hp",description:"<span class='c-hp'>HP</span> + "}),recoverMp:Cl({stat:"mp",description:"<span class='c-mp'>MP</span> + "}),recoverMpPercentage:Pl({stat:"mp",description:"<span class='c-mp'>MP</span> + "}),createRecoverHp:e=>i.createEffect(i.recoverHp,e),createRecoverHpPercentage:e=>i.createEffect(i.recoverHpPercentage,e),createRecoverMp:e=>i.createEffect(i.recoverMp,e),createRecoverMpPercentage:e=>i.createEffect(i.recoverMpPercentage,e)}},uf=function(e,t,n){let s=e==="enemy"?Ee:q,o=0;if(e==="enemy"){let a=t.split("_");a.shift();let c=a.join("_");o=ae[c][n]}else{let a="get"+Ce(n);o=s[a]()}return o},df=function(e,t){let n=e==="enemy"?Ee:q,s="get"+Ce(t);return n[s]()},ra=function(e){return{__proto__:ht(e),scaling:e.scaling,scalingStat:e.scalingStat,resistanceStat:e.resistanceStat,getDescription:e.getDescription||function(){return this.description},up:function(t,n,s,o,a){t.stats[this.stat].modifiers[Jo(s,this.valueType)]={sourceType:o,value:this.getPower(t,a,s)*-1,valueType:"flat"}},getPower:function(t,n,s){let c=uf(n,s,this.scalingStat)*(this.scaling/100)*(1-df(t,this.resistanceStat)/100);return bt(an(c,0),0)}}},b=zo({visible:!1,props:{rank:0,title:"",inventoryItemId:null,descriptions:{description:"",effects:[],type:""}}}),j=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},gf=["innerHTML"],ff={class:"descriptions"},mf=["innerHTML"],pf={key:1,class:"description effects"},_f=["innerHTML"],hf={key:2,class:"duration"},yf={__name:"StatusEffectTooltip",setup(e){return(t,n)=>{var s;return d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,gf),g("div",ff,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,mf)):R("",!0),r(b).props.showEffectDescriptions&&((s=r(b).props.descriptions.effects)!=null&&s.length)?(d(),m("div",pf,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,o=>(d(),m("div",{innerHTML:o},null,8,_f))),256))])):R("",!0),r(b).props.duration?(d(),m("div",hf," Duration: "+C(r(b).props.doesNotExpire?"∞":r(b).props.duration),1)):R("",!0)])],64)}}},vf=j(yf,[["__scopeId","data-v-a3848da3"]]),Bn=function(e,t){return e===void 0?t:e},vt=function(e){return{slug:e.slug,name:e.name,duration:e.duration,doesNotExpire:e.doesNotExpire||!1,description:e.description,showEffectDescriptionsInTooltip:Bn(e.showEffectDescriptionsInTooltip,!0),getIcon:e.getIcon||function(){return this.slug},getName:function(){return this.name},getDescription:function(){return this.description},getEffects:e.getEffects||function(){return[]},getTooltipProps:e.getTooltipProps||function(t){return{component:pe(vf),identifier:t.identifier,effectTarget:t.target,title:this.getName(),duration:t.duration,doesNotExpire:this.doesNotExpire,showEffectDescriptions:this.showEffectDescriptionsInTooltip,descriptions:{description:this.getDescription(),effects:this.getEffectDescriptions()}}},getEffectDescriptions:e.getEffectDescriptions||function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},kf=function(){return{book_blacksmithing_buff:vt({slug:"book_blacksmithing_buff",name:"Blacksmithing Theory",duration:300,getEffects:()=>[i.createBlacksmithingExp(100)]}),book_tailoring_buff:vt({slug:"book_tailoring_buff",name:"Tailoring Theory",duration:300,getEffects:()=>[i.createTailoringExp(100)]}),book_enchanting_buff:vt({slug:"book_enchanting_buff",name:"Enchanting Theory",duration:300,getEffects:()=>[i.createEnchantingExp(100)]}),book_woodworking_buff:vt({slug:"book_woodworking_buff",name:"Woodworking Theory",duration:300,getEffects:()=>[i.createWoodworkingExp(100)]}),book_cooking_buff:vt({slug:"book_cooking_buff",name:"Cooking Theory",duration:300,getEffects:()=>[i.createCookingExp(100)]}),book_alchemy_buff:vt({slug:"book_alchemy_buff",name:"Alchemy Theory",duration:300,getEffects:()=>[i.createAlchemyExp(100)]}),book_scrollcrafting_buff:vt({slug:"book_scrollcrafting_buff",name:"Scrollcrafting Theory",duration:300,getEffects:()=>[i.createScrollcraftingExp(100)]}),book_runecarving_buff:vt({slug:"book_runecarving_buff",name:"Runecarving Theory",duration:300,getEffects:()=>[i.createRunecarvingExp(100)]}),book_leatherworking_buff:vt({slug:"book_leatherworking_buff",name:"Leatherworking Theory",duration:300,getEffects:()=>[i.createLeatherworkingExp(100)]}),book_jewelcrafting_buff:vt({slug:"book_jewelcrafting_buff",name:"Jewelcrafting Theory",duration:300,getEffects:()=>[i.createJewelcraftingExp(100)]})}},wf=function(){return{kathryn_novice_buff:vt({slug:"kathryn_novice_buff",name:"Companion - Kathryn",duration:1,doesNotExpire:!0,description:"Improves physical defense and offense.",getEffects:()=>[i.createStr(30),i.createDef(25),i.createDr(20)]})}},_e={...kf(),...wf(),water:vt({slug:"water",name:"Water",duration:60,getEffects:()=>[i.createMpRegen(1)]}),dry_bread:vt({slug:"dry_bread",name:"Dry Bread",duration:60,getEffects:()=>[i.createHpRegen(.5)]}),cooked_rat_meat:vt({slug:"cooked_rat_meat",name:"Cooked Rat Meat",duration:60,getEffects:()=>[i.createHpRegen(1)]}),cooked_meat:vt({slug:"cooked_meat",name:"Cooked Meat",duration:60,getEffects:()=>[i.createHpRegen(2)]}),kacadu_blessing:vt({slug:"kacadu_blessing",name:"Kacadu's blessing",duration:50,description:"ZUPA POWAH",getEffects:()=>[i.createStr(10),i.createDef(10)]}),bleeding:vt({slug:"bleeding",name:"Bleeding",duration:30,description:"Periodically lose health. Better put a bandage on it.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createBleeding()],getEffectDescriptions:()=>["Causes <span class='c-red'>Bleeding</span>"]}),poison:vt({slug:"poison",name:"Poison",duration:30,description:"Periodically lose health. Take an antidote.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createPoison()],getEffectDescriptions:()=>["Causes <span class='c-green'>Poison</span>"]}),burning:vt({slug:"burning",name:"Burning",duration:30,description:"Periodically lose health. Pour enchanted water on yourself.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createBurning()],getEffectDescriptions:()=>["Causes <span class='c-fire'>Burning</span>"]}),stun:vt({slug:"stun",name:"Stun",duration:1,description:"Cannot perform any actions.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[],getEffectDescriptions:()=>["Causes <span class='c-highlight'>Stun</span>"]}),silence:vt({slug:"silence",name:"Silence",duration:1,description:"Cannot cast any spells.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[],getEffectDescriptions:()=>["Causes <span class='c-highlight'>Silence</span>"]}),second_wind:vt({slug:"second_wind",name:"Second Wind",duration:600,description:"Not today!",getEffects:()=>[i.createRecoverHpPercentage(50),i.createRecoverMpPercentage(50),i.createStrPercentage(25),i.createIntPercentage(25),i.createDex(200),i.createDef(25),i.createMdef(25)]})},lt={maxDuration:600,getIdentifier:function(e){return e.statusEffect.slug+"_"+(e.caster==="enemy"?Ee.getEntityState().slug:"player")},getTooltipProps:function(e,t){return e.statusEffect.getTooltipProps({identifier:e.identifier,target:t,duration:e.duration})},updateTooltip:function(e){b.visible&&b.props.identifier===e.identifier&&Hr(lt.getTooltipProps(e,b.props.effectTarget))},hasStatusEffect:function(e,t){return!!t.statusEffects.find(n=>n.statusEffect===e)},addStatusEffect:function(e,t){let n=t.statusEffects.find(s=>s.identifier===lt.getIdentifier(e));if(n){n.duration=_n(n.duration+bt(e.statusEffect.duration*e.durationMultiplier,0),lt.maxDuration);return}t.statusEffects.push({identifier:lt.getIdentifier(e),statusEffect:e.statusEffect.slug,duration:bt(e.statusEffect.duration*e.durationMultiplier,0)}),e.statusEffect.getEffects().forEach(s=>s.effect.up(t,s.value,lt.getIdentifier(e),"statusEffect",e.caster))},tickStatusEffects:function(e){e.length!==0&&(e.statusEffects.forEach(t=>{_e[t.statusEffect].doesNotExpire||t.duration--,tt.statusEffectTick(e.type,t)}),lt.removeExpiredStatusEffects(e),lt.getStatusEffects(e).forEach(t=>{lt.updateTooltip(t)}))},removeExpiredStatusEffects:function(e){e.statusEffects.forEach(t=>{t.duration<=0&&lt.removeStatusEffectEffects(t,e)}),e.statusEffects=e.statusEffects.filter(t=>t.duration>0)},removeStatusEffect:function(e,t){t=t||q.getEntityState(),t.statusEffects!==void 0&&(t.statusEffects.forEach(n=>{n.statusEffect===e&&lt.removeStatusEffectEffects(n,t)}),t.statusEffects=t.statusEffects.filter(n=>n.statusEffect!==e))},removeStatusEffectEffects:function(e,t){_e[e.statusEffect].getEffects().forEach(s=>s.effect.down(t,e.identifier)),b.visible&&b.props.identifier===e.identifier&&(b.visible=!1)},getStatusEffects:function(e){return e.statusEffects.map(t=>({identifier:t.identifier,statusEffect:_e[t.statusEffect],duration:t.duration}))},reApplyAllStatusEffectsEffects:function(){lt.getStatusEffects(q.getEntityState()).forEach(e=>{const t=lt.extractCasterTypeFromStatusEffectState(e);e.statusEffect.getEffects().forEach(n=>n.effect.up(q.getEntityState(),n.value,e.identifier,"statusEffect",t))})},extractCasterTypeFromStatusEffectState:function(e){return e.identifier.split("_").pop()==="player"?"player":"enemy"},instantlyApplyStatusEffectOnPlayer:function(e,t){i.createStatusEffectTriggerEffect({statusEffect:e,caster:"player",target:"player",durationMultiplier:t||1}).effect.up()},instantlyRemoveStatusEffectFromPlayer:function(e){lt.removeStatusEffect(e.slug,q.getEntityState())}},aa=function(e){return{__proto__:ss(e),statusEffect:e.statusEffect,effectColor:e.effectColor,up:function(t){lt.removeStatusEffect(this.statusEffect.slug,t)},getDescription:function(){return"Removes <span class='"+this.effectColor+"'>"+this.statusEffect.name+"</span>"}}},bf=function(){return{bleeding:ra({stat:"hpRegen",scaling:20,scalingStat:"str",resistanceStat:"bleedingResistance",description:"<span class='c-red'>Bleeding</span>"}),poison:ra({stat:"hpRegen",scaling:2,scalingStat:"dex",resistanceStat:"poisonResistance",description:"<span class='c-green'>Poisoned</span>"}),burning:ra({stat:"hpRegen",scaling:20,scalingStat:"int",resistanceStat:"burningResistance",description:"<span class='c-fire'>Burning</span>"}),removeBleeding:aa({statusEffect:_e.bleeding,effectColor:"c-red"}),removePoison:aa({statusEffect:_e.poison,effectColor:"c-green"}),removeBurning:aa({statusEffect:_e.burning,effectColor:"c-fire"}),createBleeding:()=>i.createEffect(i.bleeding),createPoison:()=>i.createEffect(i.poison),createBurning:()=>i.createEffect(i.burning),createRemoveBleeding:()=>i.createEffect(i.removeBleeding),createRemovePoison:()=>i.createEffect(i.removePoison),createRemoveBurning:()=>i.createEffect(i.removeBurning)}},Ef=function(){return{blacksmithingProficiency:he({stat:"blacksmithing",statType:"craftingProficiencies",description:"Blacksmithing Proficiency + "}),tailoringProficiency:he({stat:"tailoring",statType:"craftingProficiencies",description:"Tailoring Proficiency + "}),enchantingProficiency:he({stat:"enchanting",statType:"craftingProficiencies",description:"Enchanting Proficiency + "}),woodworkingProficiency:he({stat:"woodworking",statType:"craftingProficiencies",description:"Woodworking Proficiency + "}),cookingProficiency:he({stat:"cooking",statType:"craftingProficiencies",description:"Cooking Proficiency + "}),alchemyProficiency:he({stat:"alchemy",statType:"craftingProficiencies",description:"Alchemy Proficiency + "}),scrollcraftingProficiency:he({stat:"scrollcrafting",statType:"craftingProficiencies",description:"Scrollcrafting Proficiency + "}),runecarvingProficiency:he({stat:"runecarving",statType:"craftingProficiencies",description:"Runecarving Proficiency + "}),leatherworkingProficiency:he({stat:"leatherworking",statType:"craftingProficiencies",description:"Leatherworking Proficiency + "}),jewelcraftingProficiency:he({stat:"jewelcrafting",statType:"craftingProficiencies",description:"Jewelcrafting Proficiency + "}),createBlacksmithingProficiency:e=>i.createEffect(i.blacksmithingProficiency,e),createTailoringProficiency:e=>i.createEffect(i.tailoringProficiency,e),createEnchantingProficiency:e=>i.createEffect(i.enchantingProficiency,e),createWoodworkingProficiency:e=>i.createEffect(i.woodworkingProficiency,e),createCookingProficiency:e=>i.createEffect(i.cookingProficiency,e),createAlchemyProficiency:e=>i.createEffect(i.alchemyProficiency,e),createScrollcraftingProficiency:e=>i.createEffect(i.scrollcraftingProficiency,e),createRunecarvingProficiency:e=>i.createEffect(i.runecarvingProficiency,e),createLeatherworkingProficiency:e=>i.createEffect(i.leatherworkingProficiency,e),createJewelcraftingProficiency:e=>i.createEffect(i.jewelcraftingProficiency,e)}},rt=function(e){const t=e.stat.split("_").map(n=>Ce(n)).join(" ");return{__proto__:he({stat:e.stat,statType:"skillExpModifiers",description:"<span class='c-highlight'>"+t+" Experience</span> + "})}},If=function(){return{studyingExp:rt({stat:"studying"}),tradingExp:rt({stat:"trading"}),gluttonyExp:rt({stat:"gluttony"}),combatMasteryExp:rt({stat:"combat_mastery"}),tenacityExp:rt({stat:"tenacity"}),mutilationExp:rt({stat:"mutilation"}),manaControlExp:rt({stat:"mana_control"}),fireAffinityExp:rt({stat:"fire_affinity"}),waterAffinityExp:rt({stat:"water_affinity"}),earthAffinityExp:rt({stat:"earth_affinity"}),windAffinityExp:rt({stat:"wind_affinity"}),holyAffinityExp:rt({stat:"holy_affinity"}),shadowAffinityExp:rt({stat:"shadow_affinity"}),blacksmithingExp:rt({stat:"blacksmithing"}),tailoringExp:rt({stat:"tailoring"}),enchantingExp:rt({stat:"enchanting"}),woodworkingExp:rt({stat:"woodworking"}),cookingExp:rt({stat:"cooking"}),alchemyExp:rt({stat:"alchemy"}),scrollcraftingExp:rt({stat:"scrollcrafting"}),runecarvingExp:rt({stat:"runecarving"}),leatherworkingExp:rt({stat:"leatherworking"}),jewelcraftingExp:rt({stat:"jewelcrafting"}),woodcuttingExp:rt({stat:"woodcutting"}),herbalismExp:rt({stat:"herbalism"}),miningExp:rt({stat:"mining"}),createStudyingExp:e=>i.createEffect(i.studyingExp,e),createTradingExp:e=>i.createEffect(i.tradingExp,e),createGluttonyExp:e=>i.createEffect(i.gluttonyExp,e),createCombatMasteryExp:e=>i.createEffect(i.combatMasteryExp,e),createTenacityExp:e=>i.createEffect(i.tenacityExp,e),createMutilationExp:e=>i.createEffect(i.mutilationExp,e),createManaControlExp:e=>i.createEffect(i.manaControlExp,e),createFireAffinityExp:e=>i.createEffect(i.fireAffinityExp,e),createWaterAffinityExp:e=>i.createEffect(i.waterAffinityExp,e),createEarthAffinityExp:e=>i.createEffect(i.earthAffinityExp,e),createWindAffinityExp:e=>i.createEffect(i.windAffinityExp,e),createHolyAffinityExp:e=>i.createEffect(i.holyAffinityExp,e),createShadowAffinityExp:e=>i.createEffect(i.shadowAffinityExp,e),createBlacksmithingExp:e=>i.createEffect(i.blacksmithingExp,e),createTailoringExp:e=>i.createEffect(i.tailoringExp,e),createEnchantingExp:e=>i.createEffect(i.enchantingExp,e),createWoodworkingExp:e=>i.createEffect(i.woodworkingExp,e),createCookingExp:e=>i.createEffect(i.cookingExp,e),createAlchemyExp:e=>i.createEffect(i.alchemyExp,e),createScrollcraftingExp:e=>i.createEffect(i.scrollcraftingExp,e),createRunecarvingExp:e=>i.createEffect(i.runecarvingExp,e),createLeatherworkingExp:e=>i.createEffect(i.leatherworkingExp,e),createJewelcraftingExp:e=>i.createEffect(i.jewelcraftingExp,e),createWoodcuttingExp:e=>i.createEffect(i.woodcuttingExp,e),createHerbalismExp:e=>i.createEffect(i.herbalismExp,e),createMiningExp:e=>i.createEffect(i.miningExp,e)}},w={neutral:{slug:"neutral",getWeaknesses:()=>[]},fire:{slug:"fire",getWeaknesses:()=>[w.water]},water:{slug:"water",getWeaknesses:()=>[w.wind]},wind:{slug:"wind",getWeaknesses:()=>[w.earth]},earth:{slug:"earth",getWeaknesses:()=>[w.fire]},shadow:{slug:"shadow",getWeaknesses:()=>[w.holy]},holy:{slug:"holy",getWeaknesses:()=>[w.shadow]}},Ds=function(e){return{element:e.element,description:(e==null?void 0:e.description)||"Changes weapon element to ",up:function(){q.getEntityState().weaponElement=this.element.slug},down:function(){q.getEntityState().weaponElement=w.neutral.slug,u.applyStatModifiers()},getDescription:function(){return this.description+"<span class='c-"+this.element.slug+"'>"+Ce(this.element.slug)+"</span>"}}},Sf=function(){return{fireWeaponElementEffect:Ds({element:w.fire}),waterWeaponElementEffect:Ds({element:w.water}),windWeaponElementEffect:Ds({element:w.wind}),earthWeaponElementEffect:Ds({element:w.earth}),holyWeaponElementEffect:Ds({element:w.holy}),shadowWeaponElementEffect:Ds({element:w.shadow}),createFireWeaponElement:()=>i.createEffect(i.fireWeaponElementEffect),createWaterWeaponElement:()=>i.createEffect(i.waterWeaponElementEffect),createWindWeaponElement:()=>i.createEffect(i.windWeaponElementEffect),createEarthWeaponElement:()=>i.createEffect(i.earthWeaponElementEffect),createHolyWeaponElement:()=>i.createEffect(i.holyWeaponElementEffect),createShadowWeaponElement:()=>i.createEffect(i.shadowWeaponElementEffect)}},$s=function(e){return{element:e.element,description:(e==null?void 0:e.description)||"Changes armor element to ",up:function(){q.getEntityState().armorElement=this.element.slug},down:function(){q.getEntityState().armorElement=w.neutral.slug,u.applyStatModifiers()},getDescription:function(){return this.description+"<span class='c-"+this.element.slug+"'>"+Ce(this.element.slug)+"</span>"}}},xf=function(){return{fireArmorElementEffect:$s({element:w.fire}),waterArmorElementEffect:$s({element:w.water}),windArmorElementEffect:$s({element:w.wind}),earthArmorElementEffect:$s({element:w.earth}),holyArmorElementEffect:$s({element:w.holy}),shadowArmorElementEffect:$s({element:w.shadow}),createFireArmorElement:()=>i.createEffect(i.fireArmorElementEffect),createWaterArmorElement:()=>i.createEffect(i.waterArmorElementEffect),createWindArmorElement:()=>i.createEffect(i.windArmorElementEffect),createEarthArmorElement:()=>i.createEffect(i.earthArmorElementEffect),createHolyArmorElement:()=>i.createEffect(i.holyArmorElementEffect),createShadowArmorElement:()=>i.createEffect(i.shadowArmorElementEffect)}},i={...ef(),...cf(),...bf(),...nf(),...sf(),...of(),...lf(),...tf(),...Ef(),...af(),...If(),...Sf(),...xf(),createStatusEffectTriggerEffect:e=>({effect:Zg({statusEffect:e.statusEffect,caster:e.caster,target:e.target,durationMultiplier:e.durationMultiplier,effectDescriptions:e.statusEffect.getEffectDescriptions()})}),createEffect:(e,t)=>({effect:e,value:t})},$e={item:"item",money:"money",reputation:"reputation",experience:"experience",title:"title"},ds=function(e){return{slug:e.slug,name:e.name,description:e.description}},Dn={unremarkable:ds({slug:"unremarkable",name:"Unremarkable",description:"Spotting you in a crowd is quite the challenge, not that anyone would look for you."}),enemies_killed_1:ds({slug:"enemies_killed_1",name:"Slayer",description:"Kill 1000 enemies."}),chickens_killed_1:ds({slug:"chickens_killed_1",name:"The Chicken Slayer",description:"Kill some chickens."}),determined:ds({slug:"determined",name:"The Determined",description:"Just like the poor lad, you kept swinging, honing your craft while decimating hordes of training dummies."}),fool:ds({slug:"fool",name:"The Fool",description:"A smart person learns from his own mistakes, wise person from the mistakes of others.<br><br> You? Neither."}),avenger:ds({slug:"avenger",name:"The Avenger",description:"You have corrected the mistake of Kylee.<br><br> The mistake of being arrogant without sufficient power to back it up.<br><br> Definitely not your case."}),money_gained:ds({slug:"money_gained",name:"Rich Kid",description:"What are you going to do with all that money, hmmm?"})},_={logEnemyKill:function(e){const t=u.get().statistics;t.enemiesKilled++,e.isBoss&&t.bossesKilled++,t.raceKilled[e.race]++,t.elementKilled[e.armorElement.slug]++},logSpellCast:function(e){u.get().statistics.spellsCast++},logScrollUsed:function(){u.get().statistics.scrollsUsed++},logManaUsed:function(e){u.get().statistics.manaUsed+=e},logFoodUsed:function(){u.get().statistics.foodUsed++},logDrinkUsed:function(){u.get().statistics.drinksUsed++},logHealthPotionUsed:function(){u.get().statistics.healthPotionsUsed++},logManaPotionUsed:function(){u.get().statistics.manaPotionsUsed++},logReadableRead:function(){u.get().statistics.readablesRead++},logDeathCount:function(){u.get().statistics.deathCount++},logQuestFinished:function(){u.get().statistics.questsFinished++},logScenesEntered:function(){u.get().statistics.scenesEntered++},logItemsObtained:function(e){u.get().statistics.itemsObtained+=e},logItemsBought:function(e){u.get().statistics.itemsBought+=e},logEnchantsApplied:function(){u.get().statistics.enchantsApplied++},logEnchantsOverwritten:function(){u.get().statistics.enchantsOverwritten++},logCardsObtained:function(){u.get().statistics.cardsObtained++},logStatusEffectReceived:function(){u.get().statistics.statusEffectsReceived++},logStatusEffectApplied:function(){u.get().statistics.statusEffectsApplied++},logItemsCrafted:function(e){u.get().statistics.itemsCrafted+=e},logTotalSkillLevelUps:function(){u.get().statistics.totalSkillLevelUps++},logMoneyGained:function(e){u.get().statistics.moneyGained+=e},logMoneySpent:function(e){u.get().statistics.moneySpent+=e},logSleepingTime:function(e){u.get().statistics.sleepingTime+=e},logBleedingDamageReceived:function(e){u.get().statistics.bleedingDamageReceived+=e},logBleedingDamageDealt:function(e){u.get().statistics.bleedingDamageDealt+=e},logPoisonDamageReceived:function(e){u.get().statistics.poisonDamageReceived+=e},logPoisonDamageDealt:function(e){u.get().statistics.poisonDamageDealt+=e},logBurningDamageReceived:function(e){u.get().statistics.burningDamageReceived+=e},logBurningDamageDealt:function(e){u.get().statistics.burningDamageDealt+=e},logTimeSpentStunned:function(){u.get().statistics.timeSpentStunned++},logAfflictedStunTime:function(){u.get().statistics.afflictedStunTime++},logTimeSpentSilenced:function(){u.get().statistics.timeSpentSilenced++},logAfflictedSilenceTime:function(){u.get().statistics.afflictedSilenceTime++},logPhysicalDamageReceived:function(e){u.get().statistics.physicalDamageReceived+=e},logPhysicalDamageDealt:function(e){u.get().statistics.physicalDamageDealt+=e},logMagicalDamageReceived:function(e){u.get().statistics.magicalDamageReceived+=e},logMagicalDamageDealt:function(e){u.get().statistics.magicalDamageDealt+=e},logElementalDamageDealt:function(e,t){u.get().statistics.elementalDamageDealt[t]+=e},logElementalDamageReceived:function(e,t){u.get().statistics.elementalDamageReceived[t]+=e},logRebirthCount:function(){u.get().statistics.rebirthCount++},getEnemyKilled:function(){return u.get().statistics.enemiesKilled},getBossesKilled:function(){return u.get().statistics.bossesKilled},getRaceKilled:function(e){return u.get().statistics.raceKilled[e]},getElementKilled:function(e){return u.get().statistics.elementKilled[e]},getSpellsCast:function(){return u.get().statistics.spellsCast},getScrollsUsed:function(){return u.get().statistics.scrollsUsed},getManaUsed:function(){return u.get().statistics.manaUsed},getFoodUsed:function(){return u.get().statistics.foodUsed},getDrinksUsed:function(){return u.get().statistics.drinksUsed},getHealthPotionsUsed:function(){return u.get().statistics.healthPotionsUsed},getManaPotionsUsed:function(){return u.get().statistics.manaPotionsUsed},getReadablesRead:function(){return u.get().statistics.readablesRead},getDeathCount:function(){return u.get().statistics.deathCount},getQuestsFinished:function(){return u.get().statistics.questsFinished},getScenesEntered:function(){return u.get().statistics.scenesEntered},getItemsObtained:function(){return u.get().statistics.itemsObtained},getItemsBought:function(){return u.get().statistics.itemsBought},getEnchantsApplied:function(){return u.get().statistics.enchantsApplied},getEnchantsOverwritten:function(){return u.get().statistics.enchantsOverwritten},getCardsObtained:function(){return u.get().statistics.cardsObtained},getStatusEffectsReceived:function(){return u.get().statistics.statusEffectsReceived},getStatusEffectsApplied:function(){return u.get().statistics.statusEffectsApplied},getItemsCrafted:function(){return u.get().statistics.itemsCrafted},getTotalSkillLevelUps:function(){return u.get().statistics.totalSkillLevelUps},getMoneyGained:function(){return u.get().statistics.moneyGained},getMoneySpent:function(){return u.get().statistics.moneySpent},getSleepingTime:function(){return u.get().statistics.sleepingTime},getBleedingDamageReceived:function(){return u.get().statistics.bleedingDamageReceived},getBleedingDamageDealt:function(){return u.get().statistics.bleedingDamageDealt},getPoisonDamageReceived:function(){return u.get().statistics.poisonDamageReceived},getPoisonDamageDealt:function(){return u.get().statistics.poisonDamageDealt},getBurningDamageReceived:function(){return u.get().statistics.burningDamageReceived},getBurningDamageDealt:function(){return u.get().statistics.burningDamageDealt},getTimeSpentStunned:function(){return u.get().statistics.timeSpentStunned},getAfflictedStunTime:function(){return u.get().statistics.afflictedStunTime},getTimeSpentSilenced:function(){return u.get().statistics.timeSpentSilenced},getAfflictedSilenceTime:function(){return u.get().statistics.afflictedSilenceTime},getPhysicalDamageReceived:function(){return u.get().statistics.physicalDamageReceived},getPhysicalDamageDealt:function(){return u.get().statistics.physicalDamageDealt},getMagicalDamageReceived:function(){return u.get().statistics.magicalDamageReceived},getMagicalDamageDealt:function(){return u.get().statistics.magicalDamageDealt},getTotalDamageReceived:function(){return _.getPhysicalDamageReceived()+_.getMagicalDamageReceived()+_.getBurningDamageReceived()+_.getPoisonDamageReceived()+_.getBleedingDamageReceived()},getTotalDamageDealt:function(){return _.getPhysicalDamageDealt()+_.getMagicalDamageDealt()+_.getBurningDamageDealt()+_.getPoisonDamageDealt()+_.getBleedingDamageDealt()},getElementalDamageDealt:function(e){return u.get().statistics.elementalDamageDealt[e]},getElementalDamageReceived:function(e){return u.get().statistics.elementalDamageReceived[e]},getRebirthCount:function(){return u.get().statistics.rebirthCount}},Hs=()=>"iron_sword",en=2,Mf=function(){return{enemies_killed_0:y({slug:"enemies_killed_0",name:"First Blood",description:"Kill 1 enemy.<br>First of many.",canBeUnlocked:()=>_.getEnemyKilled()>=1,getEffects:()=>[i.createStr(en),i.createStrPercentage(en)],getIcon:Hs}),enemies_killed_1:y({slug:"enemies_killed_1",name:"Slayer I",description:"Kill 100 enemies.",canBeUnlocked:()=>_.getEnemyKilled()>=100,getEffects:()=>[i.createStr(en),i.createStrPercentage(en)],getIcon:Hs}),enemies_killed_2:y({slug:"enemies_killed_2",name:"Slayer II",description:"Kill 1 000 enemies.",canBeUnlocked:()=>_.getEnemyKilled()>=1e3,getEffects:()=>[i.createStr(en),i.createStrPercentage(en)],getIcon:Hs}),enemies_killed_3:y({slug:"enemies_killed_3",name:"Slayer III",description:"Kill 10 000 enemies.",canBeUnlocked:()=>_.getEnemyKilled()>=1e4,getEffects:()=>[i.createStr(en),i.createStrPercentage(en)],getIcon:Hs}),enemies_killed_4:y({slug:"enemies_killed_4",name:"Slayer IV",description:"Kill 100 000 enemies.",canBeUnlocked:()=>_.getEnemyKilled()>=1e5,getEffects:()=>[i.createStr(en),i.createStrPercentage(en)],getIcon:Hs}),enemies_killed_5:y({slug:"enemies_killed_5",name:"Slayer V",description:"Kill 1 000 000 enemies.",canBeUnlocked:()=>_.getEnemyKilled()>=1e6,getEffects:()=>[i.createStr(en*5),i.createStrPercentage(en*5)],getIcon:Hs})}},Rf=function(){return{training_sword_awakening:y({slug:"training_sword_awakening",name:"Training Sword Awakening",description:"Awakened the Training Sword.",getEffects:()=>[i.createStr(2),i.createStrPercentage(2)],getIcon:()=>"training_sword"}),hunting_bow_awakening:y({slug:"hunting_bow_awakening",name:"Hunting Bow Awakening",description:"Awakened the Hunting Bow.",getEffects:()=>[i.createBeastHatred(10)],getIcon:()=>"hunting_bow"}),novice_staff_awakening:y({slug:"novice_staff_awakening",name:"Novice Staff Awakening",description:"Awakened the Novice Staff.",getEffects:()=>[i.createInt(2),i.createIntPercentage(2),i.createFirePower(10)],getIcon:()=>"novice_staff"}),iron_sword_awakening:y({slug:"iron_sword_awakening",name:"Iron Sword Awakening",description:"Awakened the Iron Sword.",getEffects:()=>[i.createDr(2)],getIcon:()=>"iron_sword"})}},Ps=()=>"mana",tn=2,Tf=function(){return{spells_cast_0:y({slug:"spells_cast_0",name:"It's magic!",description:"Cast your very first spell.",canBeUnlocked:()=>_.getSpellsCast()>=1,getEffects:()=>[i.createInt(tn),i.createIntPercentage(tn)],getIcon:Ps}),spells_cast_1:y({slug:"spells_cast_1",name:"Spellcaster I",description:"Cast 100 spells.",canBeUnlocked:()=>_.getSpellsCast()>=100,getEffects:()=>[i.createInt(tn),i.createIntPercentage(tn)],getIcon:Ps}),spells_cast_2:y({slug:"spells_cast_2",name:"Spellcaster II",description:"Cast 1 000 spells.",canBeUnlocked:()=>_.getSpellsCast()>=1e3,getEffects:()=>[i.createInt(tn),i.createIntPercentage(tn)],getIcon:Ps}),spells_cast_3:y({slug:"spells_cast_3",name:"Spellcaster III",description:"Cast 10 000 spells.",canBeUnlocked:()=>_.getSpellsCast()>=1e4,getEffects:()=>[i.createInt(tn),i.createIntPercentage(tn)],getIcon:Ps}),spells_cast_4:y({slug:"spells_cast_4",name:"Spellcaster IV",description:"Cast 100 000 spells.",canBeUnlocked:()=>_.getSpellsCast()>=1e5,getEffects:()=>[i.createInt(tn),i.createIntPercentage(tn)],getIcon:Ps}),spells_cast_5:y({slug:"spells_cast_5",name:"Spellcaster V",description:"Cast 1 000 000 spells.",canBeUnlocked:()=>_.getSpellsCast()>=1e6,getEffects:()=>[i.createInt(tn*5),i.createIntPercentage(tn*5)],getIcon:Ps})}},Cs=()=>"scroll_of_fire_arrow",As=1,Df=function(){return{scrolls_used_0:y({slug:"scrolls_used_0",name:"Paper Burner",description:"Use a scroll for the very first time.",canBeUnlocked:()=>_.getScrollsUsed()>=1,getEffects:()=>[i.createManaEfficiency(As)],getIcon:Cs}),scrolls_used_1:y({slug:"scrolls_used_1",name:"Paper Burner I",description:"Use 100 scrolls.",canBeUnlocked:()=>_.getScrollsUsed()>=100,getEffects:()=>[i.createManaEfficiency(As)],getIcon:Cs}),scrolls_used_2:y({slug:"scrolls_used_2",name:"Paper Burner II",description:"Use 1 000 scrolls.",canBeUnlocked:()=>_.getScrollsUsed()>=1e3,getEffects:()=>[i.createManaEfficiency(As)],getIcon:Cs}),scrolls_used_3:y({slug:"scrolls_used_3",name:"Paper Burner III",description:"Use 5 000 scrolls.",canBeUnlocked:()=>_.getScrollsUsed()>=5e3,getEffects:()=>[i.createManaEfficiency(As)],getIcon:Cs}),scrolls_used_4:y({slug:"scrolls_used_4",name:"Paper Burner IV",description:"Use 25 000 scrolls.",canBeUnlocked:()=>_.getScrollsUsed()>=25e3,getEffects:()=>[i.createManaEfficiency(As)],getIcon:Cs}),scrolls_used_5:y({slug:"scrolls_used_5",name:"Paper Burner V",description:"Use 50 000 scrolls.",canBeUnlocked:()=>_.getScrollsUsed()>=5e4,getEffects:()=>[i.createManaEfficiency(As*5)],getIcon:Cs})}},Bs=()=>"mana_2",nn=5,$f=function(){return{mana_used_0:y({slug:"mana_used_0",name:"Mana!",description:"Use mana for the first time.",canBeUnlocked:()=>_.getManaUsed()>=1,getEffects:()=>[i.createMaxMp(nn),i.createMaxMpPercentage(nn)],getIcon:Bs}),mana_used_1:y({slug:"mana_used_1",name:"Mana Usage I",description:"Use 500 mana.",canBeUnlocked:()=>_.getManaUsed()>=500,getEffects:()=>[i.createMaxMp(nn),i.createMaxMpPercentage(nn)],getIcon:Bs}),mana_used_2:y({slug:"mana_used_2",name:"Mana Usage II",description:"Use 5 000 mana.",canBeUnlocked:()=>_.getManaUsed()>=5e3,getEffects:()=>[i.createMaxMp(nn),i.createMaxMpPercentage(nn)],getIcon:Bs}),mana_used_3:y({slug:"mana_used_3",name:"Mana Usage III",description:"Use 50 000 mana.",canBeUnlocked:()=>_.getManaUsed()>=5e4,getEffects:()=>[i.createMaxMp(nn),i.createMaxMpPercentage(nn)],getIcon:Bs}),mana_used_4:y({slug:"mana_used_4",name:"Mana Usage IV",description:"Use 500 000 mana.",canBeUnlocked:()=>_.getManaUsed()>=5e5,getEffects:()=>[i.createMaxMp(nn),i.createMaxMpPercentage(nn)],getIcon:Bs}),mana_used_5:y({slug:"mana_used_5",name:"Mana Usage V",description:"Use 5 000 000 mana.",canBeUnlocked:()=>_.getManaUsed()>=5e6,getEffects:()=>[i.createMaxMp(nn*5),i.createMaxMpPercentage(nn*5)],getIcon:Bs})}},qs=()=>"dry_bread",Us=1,Hf=function(){return{food_used_0:y({slug:"food_used_0",name:"Hungry no more",description:"Eat something for the very first time.",canBeUnlocked:()=>_.getFoodUsed()>=1,getEffects:()=>[i.createHpRegen(Us)],getIcon:qs}),food_used_1:y({slug:"food_used_1",name:"Connoisseur I",description:"Eat something 100 times.",canBeUnlocked:()=>_.getFoodUsed()>=100,getEffects:()=>[i.createHpRegen(Us)],getIcon:qs}),food_used_2:y({slug:"food_used_2",name:"Connoisseur II",description:"Eat something 1 000 times.",canBeUnlocked:()=>_.getFoodUsed()>=1e3,getEffects:()=>[i.createHpRegen(Us)],getIcon:qs}),food_used_3:y({slug:"food_used_3",name:"Connoisseur III",description:"Eat something 10 000 times.",canBeUnlocked:()=>_.getFoodUsed()>=1e4,getEffects:()=>[i.createHpRegen(Us)],getIcon:qs}),food_used_4:y({slug:"food_used_4",name:"Connoisseur IV",description:"Eat something 100 000 times.",canBeUnlocked:()=>_.getFoodUsed()>=1e5,getEffects:()=>[i.createHpRegen(Us)],getIcon:qs}),food_used_5:y({slug:"food_used_5",name:"Connoisseur V",description:"Eat something 1 000 000 times.<br>That probably wasn't healthy.",canBeUnlocked:()=>_.getFoodUsed()>=1e6,getEffects:()=>[i.createHpRegen(Us*5)],getIcon:qs})}},Fs=()=>"water",Ls=.2,Pf=function(){return{drinks_used_0:y({slug:"drinks_used_0",name:"The taste of water",description:"Drink something for the very first time.<br>It was probably water, right?",canBeUnlocked:()=>_.getDrinksUsed()>=1,getEffects:()=>[i.createMpRegen(Ls)],getIcon:Fs}),drinks_used_1:y({slug:"drinks_used_1",name:"Degustation I",description:"Drink something 100 times.",canBeUnlocked:()=>_.getDrinksUsed()>=100,getEffects:()=>[i.createMpRegen(Ls)],getIcon:Fs}),drinks_used_2:y({slug:"drinks_used_2",name:"Degustation II",description:"Drink something 1 000 times.",canBeUnlocked:()=>_.getDrinksUsed()>=1e3,getEffects:()=>[i.createMpRegen(Ls)],getIcon:Fs}),drinks_used_3:y({slug:"drinks_used_3",name:"Degustation III",description:"Drink something 10 000 times.",canBeUnlocked:()=>_.getDrinksUsed()>=1e4,getEffects:()=>[i.createMpRegen(Ls)],getIcon:Fs}),drinks_used_4:y({slug:"drinks_used_4",name:"Degustation IV",description:"Drink something 100 000 times.",canBeUnlocked:()=>_.getDrinksUsed()>=1e5,getEffects:()=>[i.createMpRegen(Ls)],getIcon:Fs}),drinks_used_5:y({slug:"drinks_used_5",name:"Degustation V",description:"Drink something 1 000 000 times.<br>You didn't just chug down 1 million bottles of water, right? Right?",canBeUnlocked:()=>_.getDrinksUsed()>=1e6,getEffects:()=>[i.createMpRegen(Ls*5)],getIcon:Fs})}},Os=()=>"healing_potion",Ws=5,Cf=function(){return{health_potions_used_0:y({slug:"health_potions_used_0",name:"Lifewater",description:"Use a health potion for the very first time.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=1,getEffects:()=>[i.createMaxHpPercentage(Ws)],getIcon:Os}),health_potions_used_1:y({slug:"health_potions_used_1",name:"Lifewater I",description:"Drink health potion 100 times.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=100,getEffects:()=>[i.createMaxHpPercentage(Ws)],getIcon:Os}),health_potions_used_2:y({slug:"health_potions_used_2",name:"Lifewater II",description:"Drink health potion 500 times.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=500,getEffects:()=>[i.createMaxHpPercentage(Ws)],getIcon:Os}),health_potions_used_3:y({slug:"health_potions_used_3",name:"Lifewater III",description:"Drink health potion 1 000 times.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=1e3,getEffects:()=>[i.createMaxHpPercentage(Ws)],getIcon:Os}),health_potions_used_4:y({slug:"health_potions_used_4",name:"Lifewater IV",description:"Drink health potion 5 000 times.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=5e3,getEffects:()=>[i.createMaxHpPercentage(Ws)],getIcon:Os}),health_potions_used_5:y({slug:"health_potions_used_5",name:"Lifewater V",description:"Drink health potion 10 000 times.",canBeUnlocked:()=>_.getHealthPotionsUsed()>=1e4,getEffects:()=>[i.createMaxHpPercentage(Ws*5)],getIcon:Os})}},Ks=()=>"mana_potion",Gs=5,Af=function(){return{mana_potions_used_0:y({slug:"mana_potions_used_0",name:"Powerwell",description:"Use a mana potion for the very first time.",canBeUnlocked:()=>_.getManaPotionsUsed()>=1,getEffects:()=>[i.createMaxMpPercentage(Gs)],getIcon:Ks}),mana_potions_used_1:y({slug:"mana_potions_used_1",name:"Powerwell I",description:"Drink mana potion 100 times.",canBeUnlocked:()=>_.getManaPotionsUsed()>=100,getEffects:()=>[i.createMaxMpPercentage(Gs)],getIcon:Ks}),mana_potions_used_2:y({slug:"mana_potions_used_2",name:"Powerwell II",description:"Drink mana potion 500 times.",canBeUnlocked:()=>_.getManaPotionsUsed()>=500,getEffects:()=>[i.createMaxMpPercentage(Gs)],getIcon:Ks}),mana_potions_used_3:y({slug:"mana_potions_used_3",name:"Powerwell III",description:"Drink mana potion 1 000 times.",canBeUnlocked:()=>_.getManaPotionsUsed()>=1e3,getEffects:()=>[i.createMaxMpPercentage(Gs)],getIcon:Ks}),mana_potions_used_4:y({slug:"mana_potions_used_4",name:"Powerwell IV",description:"Drink mana potion 5 000 times.",canBeUnlocked:()=>_.getManaPotionsUsed()>=5e3,getEffects:()=>[i.createMaxMpPercentage(Gs)],getIcon:Ks}),mana_potions_used_5:y({slug:"mana_potions_used_5",name:"Powerwell V",description:"Drink mana potion 10 000 times.",canBeUnlocked:()=>_.getManaPotionsUsed()>=1e4,getEffects:()=>[i.createMaxMpPercentage(Gs*5)],getIcon:Ks})}},Vs=()=>"book",js=10,Bf=function(){return{readables_read_0:y({slug:"readables_read_0",name:"Bookworm",description:"Read a book.",canBeUnlocked:()=>_.getReadablesRead()>=1,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs}),readables_read_1:y({slug:"readables_read_1",name:"Bookworm I",description:"Read 10 books.",canBeUnlocked:()=>_.getReadablesRead()>=10,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs}),readables_read_2:y({slug:"readables_read_2",name:"Bookworm II",description:"Read 50 books.",canBeUnlocked:()=>_.getReadablesRead()>=50,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs}),readables_read_3:y({slug:"readables_read_3",name:"Bookworm III",description:"Read 150 books.",canBeUnlocked:()=>_.getReadablesRead()>=150,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs}),readables_read_4:y({slug:"readables_read_4",name:"Bookworm IV",description:"Read 300 books.",canBeUnlocked:()=>_.getReadablesRead()>=300,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs}),readables_read_5:y({slug:"readables_read_5",name:"Bookworm V",description:"Read 500 books.",canBeUnlocked:()=>_.getReadablesRead()>=500,getEffects:()=>[i.createStudyingSpeed(js)],getIcon:Vs})}},qf=()=>"skull",Uf=function(){return{death_count_0:y({slug:"death_count_0",name:"Brush with death",description:"Get knocked out 100 times.",canBeUnlocked:()=>_.getDeathCount()>=100,getEffects:()=>[i.createDr(2)],getIcon:qf})}},Ns=()=>"quest_achievement",Qs=1,Ff=function(){return{quests_finished_0:y({slug:"quests_finished_0",name:"Laborer",description:"Finish a quest.",canBeUnlocked:()=>_.getQuestsFinished()>=1,getEffects:()=>[i.createDiscount(Qs)],getIcon:Ns}),quests_finished_1:y({slug:"quests_finished_1",name:"Laborer I",description:"Finish 75 quests.",canBeUnlocked:()=>_.getQuestsFinished()>=75,getEffects:()=>[i.createDiscount(Qs)],getIcon:Ns}),quests_finished_2:y({slug:"quests_finished_2",name:"Laborer II",description:"Finish 200 quests.",canBeUnlocked:()=>_.getQuestsFinished()>=200,getEffects:()=>[i.createDiscount(Qs)],getIcon:Ns}),quests_finished_3:y({slug:"quests_finished_3",name:"Laborer III",description:"Finish 500 quests.",canBeUnlocked:()=>_.getQuestsFinished()>=500,getEffects:()=>[i.createDiscount(Qs)],getIcon:Ns}),quests_finished_4:y({slug:"quests_finished_4",name:"Laborer IV",description:"Finish 1250 quests.",canBeUnlocked:()=>_.getQuestsFinished()>=1250,getEffects:()=>[i.createDiscount(Qs)],getIcon:Ns}),quests_finished_5:y({slug:"quests_finished_5",name:"Laborer V",description:"Finish 2500 quests.",canBeUnlocked:()=>_.getQuestsFinished()>=2500,getEffects:()=>[i.createDiscount(Qs*5)],getIcon:Ns})}},Lf=function(){return{studying:"book",trading:"money",gluttony:"raw_meat",combat_mastery:"iron_sword",tenacity:"health",mutilation:"bleeding",mana_control:"mana",water_affinity:"water-element",earth_affinity:"earth",wind_affinity:"wind",fire_affinity:"fire",holy_affinity:"holy",shadow_affinity:"shadow",blacksmithing:"blacksmithing",tailoring:"tailoring",enchanting:"enchant",woodworking:"wood",cooking:"cooked_meat",alchemy:"minor_healing_potion",scrollcrafting:"scroll_of_fire_arrow",runecarving:"rune",leatherworking:"leatherworking",jewelcrafting:"wolf_fang_amulet",woodcutting:"wood",herbalism:"herb",mining:"iron_ore"}},Of=function(){return{slime_ring:"ring_iron_blue",slime_earring:"earring_iron_blue",iron_ring:"ring_iron",iron_earring:"earring_iron",enchanted_water:"water"}},Wf=function(){return{quest_achievement:"feather_pen"}},Kf=function(){return{export_save:"feather_pen"}},Gf=function(){return{book_blacksmithing_buff:"blacksmithing",book_tailoring_buff:"tailoring",book_enchanting_buff:"enchanting",book_woodworking_buff:"woodworking",book_cooking_buff:"cooking",book_alchemy_buff:"alchemy",book_scrollcrafting_buff:"scrollcrafting",book_runecarving_buff:"runecarving",book_leatherworking_buff:"leatherworking",book_jewelcrafting_buff:"ring_blue",kathryn_novice_buff:"blessing_fortitude"}},Vf=function(){return{floor_3_shadow_hound:"shadow_hound"}},Xe={...Lf(),...Of(),...Wf(),...Kf(),...Gf(),...Vf()},at=100,jf=function(){return{studying_10:y({slug:"studying_10",name:"Studying I",description:"Reach level 10 in Studying",canBeUnlocked:()=>u.get().skills.studying.level>=10,getEffects:()=>[i.createStudyingExp(at)],getIcon:()=>Xe.studying}),trading_10:y({slug:"trading_10",name:"Trading I",description:"Reach level 10 in Trading",canBeUnlocked:()=>u.get().skills.trading.level>=10,getEffects:()=>[i.createTradingExp(at)],getIcon:()=>Xe.trading}),gluttony_10:y({slug:"gluttony_10",name:"Gluttony I",description:"Reach level 10 in Gluttony",canBeUnlocked:()=>u.get().skills.gluttony.level>=10,getEffects:()=>[i.createGluttonyExp(at)],getIcon:()=>Xe.gluttony}),combat_mastery_10:y({slug:"combat_mastery_10",name:"Combat Mastery I",description:"Reach level 10 in Combat Mastery",canBeUnlocked:()=>u.get().skills.combat_mastery.level>=10,getEffects:()=>[i.createCombatMasteryExp(at)],getIcon:()=>Xe.combat_mastery}),tenacity_10:y({slug:"tenacity_10",name:"Tenacity I",description:"Reach level 10 in Tenacity",canBeUnlocked:()=>u.get().skills.tenacity.level>=10,getEffects:()=>[i.createTenacityExp(at)],getIcon:()=>Xe.tenacity}),mutilation_10:y({slug:"mutilation_10",name:"Mutilation I",description:"Reach level 10 in Mutilation",canBeUnlocked:()=>u.get().skills.mutilation.level>=10,getEffects:()=>[i.createMutilationExp(at)],getIcon:()=>Xe.mutilation}),mana_control_10:y({slug:"mana_control_10",name:"Mana Control I",description:"Reach level 10 in Mana Control",canBeUnlocked:()=>u.get().skills.mana_control.level>=10,getEffects:()=>[i.createManaControlExp(at)],getIcon:()=>Xe.mana_control}),fire_affinity_10:y({slug:"fire_affinity_10",name:"Fire Affinity I",description:"Reach level 10 in Fire Affinity",canBeUnlocked:()=>u.get().skills.fire_affinity.level>=10,getEffects:()=>[i.createFireAffinityExp(at)],getIcon:()=>Xe.fire_affinity}),water_affinity_10:y({slug:"water_affinity_10",name:"Water Affinity I",description:"Reach level 10 in Water Affinity",canBeUnlocked:()=>u.get().skills.water_affinity.level>=10,getEffects:()=>[i.createWaterAffinityExp(at)],getIcon:()=>Xe.water_affinity}),earth_affinity_10:y({slug:"earth_affinity_10",name:"Earth Affinity I",description:"Reach level 10 in Earth Affinity",canBeUnlocked:()=>u.get().skills.earth_affinity.level>=10,getEffects:()=>[i.createEarthAffinityExp(at)],getIcon:()=>Xe.earth_affinity}),wind_affinity_10:y({slug:"wind_affinity_10",name:"Wind Affinity I",description:"Reach level 10 in Wind Affinity",canBeUnlocked:()=>u.get().skills.wind_affinity.level>=10,getEffects:()=>[i.createWindAffinityExp(at)],getIcon:()=>Xe.wind_affinity}),holy_affinity_10:y({slug:"holy_affinity_10",name:"Holy Affinity I",description:"Reach level 10 in Holy Affinity",canBeUnlocked:()=>u.get().skills.holy_affinity.level>=10,getEffects:()=>[i.createHolyAffinityExp(at)],getIcon:()=>Xe.holy_affinity}),shadow_affinity_10:y({slug:"shadow_affinity_10",name:"Shadow Affinity I",description:"Reach level 10 in Shadow Affinity",canBeUnlocked:()=>u.get().skills.shadow_affinity.level>=10,getEffects:()=>[i.createShadowAffinityExp(at)],getIcon:()=>Xe.shadow_affinity}),blacksmithing_10:y({slug:"blacksmithing_10",name:"Blacksmithing I",description:"Reach level 10 in Blacksmithing",canBeUnlocked:()=>u.get().skills.blacksmithing.level>=10,getEffects:()=>[i.createBlacksmithingExp(at)],getIcon:()=>Xe.blacksmithing}),tailoring_10:y({slug:"tailoring_10",name:"Tailoring I",description:"Reach level 10 in Tailoring",canBeUnlocked:()=>u.get().skills.tailoring.level>=10,getEffects:()=>[i.createTailoringExp(at)],getIcon:()=>Xe.tailoring}),enchanting_10:y({slug:"enchanting_10",name:"Enchanting I",description:"Reach level 10 in Enchanting",canBeUnlocked:()=>u.get().skills.enchanting.level>=10,getEffects:()=>[i.createEnchantingExp(at)],getIcon:()=>Xe.enchanting}),woodworking_10:y({slug:"woodworking_10",name:"Woodworking I",description:"Reach level 10 in Woodworking",canBeUnlocked:()=>u.get().skills.woodworking.level>=10,getEffects:()=>[i.createWoodworkingExp(at)],getIcon:()=>Xe.woodworking}),cooking_10:y({slug:"cooking_10",name:"Cooking I",description:"Reach level 10 in Cooking",canBeUnlocked:()=>u.get().skills.cooking.level>=10,getEffects:()=>[i.createCookingExp(at)],getIcon:()=>Xe.cooking}),alchemy_10:y({slug:"alchemy_10",name:"Alchemy I",description:"Reach level 10 in Alchemy",canBeUnlocked:()=>u.get().skills.alchemy.level>=10,getEffects:()=>[i.createAlchemyExp(at)],getIcon:()=>Xe.alchemy}),scrollcrafting_10:y({slug:"scrollcrafting_10",name:"Scrollcrafting I",description:"Reach level 10 in Scrollcrafting",canBeUnlocked:()=>u.get().skills.scrollcrafting.level>=10,getEffects:()=>[i.createScrollcraftingExp(at)],getIcon:()=>Xe.scrollcrafting}),runecarving_10:y({slug:"runecarving_10",name:"Runecarving I",description:"Reach level 10 in Runecarving",canBeUnlocked:()=>u.get().skills.runecarving.level>=10,getEffects:()=>[i.createRunecarvingExp(at)],getIcon:()=>Xe.runecarving}),leatherworking_10:y({slug:"leatherworking_10",name:"Leatherworking I",description:"Reach level 10 in Leatherworking",canBeUnlocked:()=>u.get().skills.leatherworking.level>=10,getEffects:()=>[i.createLeatherworkingExp(at)],getIcon:()=>Xe.leatherworking}),jewelcrafting_10:y({slug:"jewelcrafting_10",name:"Jewelcrafting I",description:"Reach level 10 in Jewelcrafting",canBeUnlocked:()=>u.get().skills.jewelcrafting.level>=10,getEffects:()=>[i.createJewelcraftingExp(at)],getIcon:()=>Xe.jewelcrafting}),woodcutting_10:y({slug:"woodcutting_10",name:"Woodcutting I",description:"Reach level 10 in Woodcutting",canBeUnlocked:()=>u.get().skills.woodcutting.level>=10,getEffects:()=>[i.createWoodcuttingExp(at)],getIcon:()=>Xe.woodcutting}),herbalism_10:y({slug:"herbalism_10",name:"Herbalism I",description:"Reach level 10 in Herbalism",canBeUnlocked:()=>u.get().skills.herbalism.level>=10,getEffects:()=>[i.createHerbalismExp(at)],getIcon:()=>Xe.herbalism}),mining_10:y({slug:"mining_10",name:"Mining I",description:"Reach level 10 in Mining",canBeUnlocked:()=>u.get().skills.mining.level>=10,getEffects:()=>[i.createMiningExp(at)],getIcon:()=>Xe.mining})}},Js=()=>"defense",Ys=1,Nf=function(){return{physical_damage_received_0:y({slug:"physical_damage_received_0",name:"Ouch!",description:"Take 100 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=100,getEffects:()=>[i.createDef(Ys)],getIcon:Js}),physical_damage_received_1:y({slug:"physical_damage_received_1",name:"Meat Shield I",description:"Take 1 000 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=1e3,getEffects:()=>[i.createDef(Ys)],getIcon:Js}),physical_damage_received_2:y({slug:"physical_damage_received_2",name:"Meat Shield II",description:"Take 10 000 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=1e4,getEffects:()=>[i.createDef(Ys)],getIcon:Js}),physical_damage_received_3:y({slug:"physical_damage_received_3",name:"Meat Shield III",description:"Take 100 000 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=1e5,getEffects:()=>[i.createDef(Ys)],getIcon:Js}),physical_damage_received_4:y({slug:"physical_damage_received_4",name:"Meat Shield IV",description:"Take 500 000 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=5e5,getEffects:()=>[i.createDef(Ys)],getIcon:Js}),physical_damage_received_5:y({slug:"physical_damage_received_5",name:"Meat Shield V",description:"Take 1 000 000 physical damage.",canBeUnlocked:()=>_.getPhysicalDamageReceived()>=1e6,getEffects:()=>[i.createDef(Ys)],getIcon:Js})}},zs=()=>"damage_reduction",Xs=1,Qf=function(){return{magical_damage_received_0:y({slug:"magical_damage_received_0",name:"Mana Sting",description:"Take 100 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=100,getEffects:()=>[i.createMdef(Xs)],getIcon:zs}),magical_damage_received_1:y({slug:"magical_damage_received_1",name:"Mana Sting I",description:"Take 1 000 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=1e3,getEffects:()=>[i.createMdef(Xs)],getIcon:zs}),magical_damage_received_2:y({slug:"magical_damage_received_2",name:"Mana Sting II",description:"Take 10 000 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=1e4,getEffects:()=>[i.createMdef(Xs)],getIcon:zs}),magical_damage_received_3:y({slug:"magical_damage_received_3",name:"Mana Sting III",description:"Take 100 000 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=1e5,getEffects:()=>[i.createMdef(Xs)],getIcon:zs}),magical_damage_received_4:y({slug:"magical_damage_received_4",name:"Mana Sting IV",description:"Take 500 000 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=5e5,getEffects:()=>[i.createMdef(Xs)],getIcon:zs}),magical_damage_received_5:y({slug:"magical_damage_received_5",name:"Mana Sting V",description:"Take 1 000 000 magical damage.",canBeUnlocked:()=>_.getMagicalDamageReceived()>=1e6,getEffects:()=>[i.createMdef(Xs)],getIcon:zs})}},Zs=()=>"fire",ei=5,Jf=function(){return{fire_damage_dealt_0:y({slug:"fire_damage_dealt_0",name:"Fire Power",description:"Deal 1 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=1e3,getEffects:()=>[i.createFirePower(ei)],getIcon:Zs}),fire_damage_dealt_1:y({slug:"fire_damage_dealt_1",name:"Fire Power I",description:"Deal 10 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=1e4,getEffects:()=>[i.createFirePower(ei)],getIcon:Zs}),fire_damage_dealt_2:y({slug:"fire_damage_dealt_2",name:"Fire Power II",description:"Deal 100 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=1e5,getEffects:()=>[i.createFirePower(ei)],getIcon:Zs}),fire_damage_dealt_3:y({slug:"fire_damage_dealt_3",name:"Fire Power III",description:"Deal 1 000 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=1e6,getEffects:()=>[i.createFirePower(ei)],getIcon:Zs}),fire_damage_dealt_4:y({slug:"fire_damage_dealt_4",name:"Fire Power IV",description:"Deal 5 000 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=5e6,getEffects:()=>[i.createFirePower(ei)],getIcon:Zs}),fire_damage_dealt_5:y({slug:"fire_damage_dealt_5",name:"Fire Power V",description:"Deal 10 000 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.fire.slug)>=1e7,getEffects:()=>[i.createFirePower(ei*5)],getIcon:Zs})}},ti=()=>"water-element",ni=5,Yf=function(){return{water_damage_dealt_0:y({slug:"water_damage_dealt_0",name:"Water Power",description:"Deal 1 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=1e3,getEffects:()=>[i.createWaterPower(ni)],getIcon:ti}),water_damage_dealt_1:y({slug:"water_damage_dealt_1",name:"Water Power I",description:"Deal 10 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=1e4,getEffects:()=>[i.createWaterPower(ni)],getIcon:ti}),water_damage_dealt_2:y({slug:"water_damage_dealt_2",name:"Water Power II",description:"Deal 100 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=1e5,getEffects:()=>[i.createWaterPower(ni)],getIcon:ti}),water_damage_dealt_3:y({slug:"water_damage_dealt_3",name:"Water Power III",description:"Deal 1 000 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=1e6,getEffects:()=>[i.createWaterPower(ni)],getIcon:ti}),water_damage_dealt_4:y({slug:"water_damage_dealt_4",name:"Water Power IV",description:"Deal 5 000 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=5e6,getEffects:()=>[i.createWaterPower(ni)],getIcon:ti}),water_damage_dealt_5:y({slug:"water_damage_dealt_5",name:"Water Power V",description:"Deal 10 000 000 water damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.water.slug)>=1e7,getEffects:()=>[i.createWaterPower(ni*5)],getIcon:ti})}},si=()=>"wind",ii=5,zf=function(){return{wind_damage_dealt_0:y({slug:"wind_damage_dealt_0",name:"Wind Power",description:"Deal 1 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=1e3,getEffects:()=>[i.createWindPower(ii)],getIcon:si}),wind_damage_dealt_1:y({slug:"wind_damage_dealt_1",name:"Wind Power I",description:"Deal 10 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=1e4,getEffects:()=>[i.createWindPower(ii)],getIcon:si}),wind_damage_dealt_2:y({slug:"wind_damage_dealt_2",name:"Wind Power II",description:"Deal 100 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=1e5,getEffects:()=>[i.createWindPower(ii)],getIcon:si}),wind_damage_dealt_3:y({slug:"wind_damage_dealt_3",name:"Wind Power III",description:"Deal 1 000 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=1e6,getEffects:()=>[i.createWindPower(ii)],getIcon:si}),wind_damage_dealt_4:y({slug:"wind_damage_dealt_4",name:"Wind Power IV",description:"Deal 5 000 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=5e6,getEffects:()=>[i.createWindPower(ii)],getIcon:si}),wind_damage_dealt_5:y({slug:"wind_damage_dealt_5",name:"Wind Power V",description:"Deal 10 000 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.wind.slug)>=1e7,getEffects:()=>[i.createWindPower(ii*5)],getIcon:si})}},oi=()=>"earth",ri=5,Xf=function(){return{earth_damage_dealt_0:y({slug:"earth_damage_dealt_0",name:"Earth Power",description:"Deal 1000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=1e3,getEffects:()=>[i.createEarthPower(ri)],getIcon:oi}),earth_damage_dealt_1:y({slug:"earth_damage_dealt_1",name:"Earth Power I",description:"Deal 10 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=1e4,getEffects:()=>[i.createEarthPower(ri)],getIcon:oi}),earth_damage_dealt_2:y({slug:"earth_damage_dealt_2",name:"Earth Power II",description:"Deal 100 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=1e5,getEffects:()=>[i.createEarthPower(ri)],getIcon:oi}),earth_damage_dealt_3:y({slug:"earth_damage_dealt_3",name:"Earth Power III",description:"Deal 1 000 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=1e6,getEffects:()=>[i.createEarthPower(ri)],getIcon:oi}),earth_damage_dealt_4:y({slug:"earth_damage_dealt_4",name:"Earth Power IV",description:"Deal 5 000 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=5e6,getEffects:()=>[i.createEarthPower(ri)],getIcon:oi}),earth_damage_dealt_5:y({slug:"earth_damage_dealt_5",name:"Earth Power V",description:"Deal 10 000 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.earth.slug)>=1e7,getEffects:()=>[i.createEarthPower(ri*5)],getIcon:oi})}},ai=()=>"holy",li=5,Zf=function(){return{holy_damage_dealt_0:y({slug:"holy_damage_dealt_0",name:"Holy Power",description:"Deal 1 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=1e3,getEffects:()=>[i.createHolyPower(li)],getIcon:ai}),holy_damage_dealt_1:y({slug:"holy_damage_dealt_1",name:"Holy Power I",description:"Deal 10 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=1e4,getEffects:()=>[i.createHolyPower(li)],getIcon:ai}),holy_damage_dealt_2:y({slug:"holy_damage_dealt_2",name:"Holy Power II",description:"Deal 100 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=1e5,getEffects:()=>[i.createHolyPower(li)],getIcon:ai}),holy_damage_dealt_3:y({slug:"holy_damage_dealt_3",name:"Holy Power III",description:"Deal 1 000 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=1e6,getEffects:()=>[i.createHolyPower(li)],getIcon:ai}),holy_damage_dealt_4:y({slug:"holy_damage_dealt_4",name:"Holy Power IV",description:"Deal 5 000 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=5e6,getEffects:()=>[i.createHolyPower(li)],getIcon:ai}),holy_damage_dealt_5:y({slug:"holy_damage_dealt_5",name:"Holy Power V",description:"Deal 10 000 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.holy.slug)>=1e7,getEffects:()=>[i.createHolyPower(li*5)],getIcon:ai})}},ci=()=>"shadow",ui=5,em=function(){return{shadow_damage_dealt_0:y({slug:"shadow_damage_dealt_0",name:"Shadow Power",description:"Deal 1000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=1e3,getEffects:()=>[i.createShadowPower(ui)],getIcon:ci}),shadow_damage_dealt_1:y({slug:"shadow_damage_dealt_1",name:"Shadow Power I",description:"Deal 10 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=1e4,getEffects:()=>[i.createShadowPower(ui)],getIcon:ci}),shadow_damage_dealt_2:y({slug:"shadow_damage_dealt_2",name:"Shadow Power II",description:"Deal 100 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=1e5,getEffects:()=>[i.createShadowPower(ui)],getIcon:ci}),shadow_damage_dealt_3:y({slug:"shadow_damage_dealt_3",name:"Shadow Power III",description:"Deal 1 000 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=1e6,getEffects:()=>[i.createShadowPower(ui)],getIcon:ci}),shadow_damage_dealt_4:y({slug:"shadow_damage_dealt_4",name:"Shadow Power IV",description:"Deal 5 000 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=5e6,getEffects:()=>[i.createShadowPower(ui)],getIcon:ci}),shadow_damage_dealt_5:y({slug:"shadow_damage_dealt_5",name:"Shadow Power V",description:"Deal 10 000 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageDealt(w.shadow.slug)>=1e7,getEffects:()=>[i.createShadowPower(ui*5)],getIcon:ci})}},tm=function(){return{...Jf(),...Yf(),...zf(),...Xf(),...Zf(),...em()}},di=()=>"defense-fire",gi=1,nm=function(){return{fire_damage_received_0:y({slug:"fire_damage_received_0",name:"Fire Sting",description:"Take 100 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=100,getEffects:()=>[i.createFireResistance(gi)],getIcon:di}),fire_damage_received_1:y({slug:"fire_damage_received_1",name:"Fire Sting I",description:"Take 1 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=1e3,getEffects:()=>[i.createFireResistance(gi)],getIcon:di}),fire_damage_received_2:y({slug:"fire_damage_received_2",name:"Fire Sting II",description:"Take 10 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=1e4,getEffects:()=>[i.createFireResistance(gi)],getIcon:di}),fire_damage_received_3:y({slug:"fire_damage_received_3",name:"Fire Sting III",description:"Take 100 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=1e5,getEffects:()=>[i.createFireResistance(gi)],getIcon:di}),fire_damage_received_4:y({slug:"fire_damage_received_4",name:"Fire Sting IV",description:"Take 500 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=5e5,getEffects:()=>[i.createFireResistance(gi)],getIcon:di}),fire_damage_received_5:y({slug:"fire_damage_received_5",name:"Fire Sting V",description:"Take 1 000 000 fire damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.fire.slug)>=1e6,getEffects:()=>[i.createFireResistance(gi*5)],getIcon:di})}},fi=()=>"defense-water",mi=1,sm=function(){return{water_damage_received_0:y({slug:"water_damage_received_0",name:"Water Sting",description:"Take 100 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=100,getEffects:()=>[i.createWaterResistance(mi)],getIcon:fi}),water_damage_received_1:y({slug:"water_damage_received_1",name:"Water Sting I",description:"Take 1 000 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=1e3,getEffects:()=>[i.createWaterResistance(mi)],getIcon:fi}),water_damage_received_2:y({slug:"water_damage_received_2",name:"Water Sting II",description:"Take 10 000 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=1e4,getEffects:()=>[i.createWaterResistance(mi)],getIcon:fi}),water_damage_received_3:y({slug:"water_damage_received_3",name:"Water Sting III",description:"Take 100 000 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=1e5,getEffects:()=>[i.createWaterResistance(mi)],getIcon:fi}),water_damage_received_4:y({slug:"water_damage_received_4",name:"Water Sting IV",description:"Take 500 000 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=5e5,getEffects:()=>[i.createWaterResistance(mi)],getIcon:fi}),water_damage_received_5:y({slug:"water_damage_received_5",name:"Water Sting V",description:"Take 1 000 000 water damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.water.slug)>=1e6,getEffects:()=>[i.createWaterResistance(mi*5)],getIcon:fi})}},pi=()=>"defense-wind",_i=1,im=function(){return{wind_damage_received_0:y({slug:"wind_damage_received_0",name:"Wind Sting",description:"Take 100 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=100,getEffects:()=>[i.createWindResistance(_i)],getIcon:pi}),wind_damage_received_1:y({slug:"wind_damage_received_1",name:"Wind Sting I",description:"Take 1 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=1e3,getEffects:()=>[i.createWindResistance(_i)],getIcon:pi}),wind_damage_received_2:y({slug:"wind_damage_received_2",name:"Wind Sting II",description:"Take 10 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=1e4,getEffects:()=>[i.createWindResistance(_i)],getIcon:pi}),wind_damage_received_3:y({slug:"wind_damage_received_3",name:"Wind Sting III",description:"Take 100 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=1e5,getEffects:()=>[i.createWindResistance(_i)],getIcon:pi}),wind_damage_received_4:y({slug:"wind_damage_received_4",name:"Wind Sting IV",description:"Take 500 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=5e5,getEffects:()=>[i.createWindResistance(_i)],getIcon:pi}),wind_damage_received_5:y({slug:"wind_damage_received_5",name:"Wind Sting V",description:"Take 1 000 000 wind damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.wind.slug)>=1e6,getEffects:()=>[i.createWindResistance(_i*5)],getIcon:pi})}},hi=()=>"defense-earth",yi=1,om=function(){return{earth_damage_received_0:y({slug:"earth_damage_received_0",name:"Earth Sting",description:"Take 100 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=100,getEffects:()=>[i.createEarthResistance(yi)],getIcon:hi}),earth_damage_received_1:y({slug:"earth_damage_received_1",name:"Earth Sting I",description:"Take 1 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=1e3,getEffects:()=>[i.createEarthResistance(yi)],getIcon:hi}),earth_damage_received_2:y({slug:"earth_damage_received_2",name:"Earth Sting II",description:"Take 10 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=1e4,getEffects:()=>[i.createEarthResistance(yi)],getIcon:hi}),earth_damage_received_3:y({slug:"earth_damage_received_3",name:"Earth Sting III",description:"Take 100 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=1e5,getEffects:()=>[i.createEarthResistance(yi)],getIcon:hi}),earth_damage_received_4:y({slug:"earth_damage_received_4",name:"Earth Sting IV",description:"Take 500 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=5e5,getEffects:()=>[i.createEarthResistance(yi)],getIcon:hi}),earth_damage_received_5:y({slug:"earth_damage_received_5",name:"Earth Sting V",description:"Take 1 000 000 earth damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.earth.slug)>=1e6,getEffects:()=>[i.createEarthResistance(yi*5)],getIcon:hi})}},vi=()=>"defense-holy",ki=1,rm=function(){return{holy_damage_received_0:y({slug:"holy_damage_received_0",name:"Holy Sting",description:"Take 100 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=100,getEffects:()=>[i.createHolyResistance(ki)],getIcon:vi}),holy_damage_received_1:y({slug:"holy_damage_received_1",name:"Holy Sting I",description:"Take 1 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=1e3,getEffects:()=>[i.createHolyResistance(ki)],getIcon:vi}),holy_damage_received_2:y({slug:"holy_damage_received_2",name:"Holy Sting II",description:"Take 10 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=1e4,getEffects:()=>[i.createHolyResistance(ki)],getIcon:vi}),holy_damage_received_3:y({slug:"holy_damage_received_3",name:"Holy Sting III",description:"Take 100 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=1e5,getEffects:()=>[i.createHolyResistance(ki)],getIcon:vi}),holy_damage_received_4:y({slug:"holy_damage_received_4",name:"Holy Sting IV",description:"Take 500 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=5e5,getEffects:()=>[i.createHolyResistance(ki)],getIcon:vi}),holy_damage_received_5:y({slug:"holy_damage_received_5",name:"Holy Sting V",description:"Take 1 000 000 holy damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.holy.slug)>=1e6,getEffects:()=>[i.createHolyResistance(ki*5)],getIcon:vi})}},wi=()=>"defense-shadow",bi=1,am=function(){return{shadow_damage_received_0:y({slug:"shadow_damage_received_0",name:"Shadow Sting",description:"Take 100 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=100,getEffects:()=>[i.createShadowResistance(bi)],getIcon:wi}),shadow_damage_received_1:y({slug:"shadow_damage_received_1",name:"Shadow Sting I",description:"Take 1 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=1e3,getEffects:()=>[i.createShadowResistance(bi)],getIcon:wi}),shadow_damage_received_2:y({slug:"shadow_damage_received_2",name:"Shadow Sting II",description:"Take 10 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=1e4,getEffects:()=>[i.createShadowResistance(bi)],getIcon:wi}),shadow_damage_received_3:y({slug:"shadow_damage_received_3",name:"Shadow Sting III",description:"Take 100 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=1e5,getEffects:()=>[i.createShadowResistance(bi)],getIcon:wi}),shadow_damage_received_4:y({slug:"shadow_damage_received_4",name:"Shadow Sting IV",description:"Take 500 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=5e5,getEffects:()=>[i.createShadowResistance(bi)],getIcon:wi}),shadow_damage_received_5:y({slug:"shadow_damage_received_5",name:"Shadow Sting V",description:"Take 1 000 000 shadow damage.",canBeUnlocked:()=>_.getElementalDamageReceived(w.shadow.slug)>=1e6,getEffects:()=>[i.createShadowResistance(bi*5)],getIcon:wi})}},lm=function(){return{...nm(),...sm(),...im(),...om(),...rm(),...am()}},cm=()=>"bear",um=function(){return{bosses_killed_0:y({slug:"bosses_killed_0",name:"Big Game Hunter",description:"Slay 100 bosses.",canBeUnlocked:()=>_.getBossesKilled()>=100,getEffects:()=>[i.createExpModifier(25)],getIcon:cm})}},Ei=()=>"hatred-fire",Ii=5,dm=function(){return{fire_enemy_killed_0:y({slug:"fire_enemy_killed_0",name:"Fire Hatred",description:"Kill 100 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=100,getEffects:()=>[i.createFireHatred(Ii)],getIcon:Ei}),fire_enemy_killed_1:y({slug:"fire_enemy_killed_1",name:"Fire Hatred I",description:"Kill 1 000 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=1e3,getEffects:()=>[i.createFireHatred(Ii)],getIcon:Ei}),fire_enemy_killed_2:y({slug:"fire_enemy_killed_2",name:"Fire Hatred II",description:"Kill 10 000 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=1e4,getEffects:()=>[i.createFireHatred(Ii)],getIcon:Ei}),fire_enemy_killed_3:y({slug:"fire_enemy_killed_3",name:"Fire Hatred III",description:"Kill 100 000 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=1e5,getEffects:()=>[i.createFireHatred(Ii)],getIcon:Ei}),fire_enemy_killed_4:y({slug:"fire_enemy_killed_4",name:"Fire Hatred IV",description:"Kill 500 000 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=5e5,getEffects:()=>[i.createFireHatred(Ii)],getIcon:Ei}),fire_enemy_killed_5:y({slug:"fire_enemy_killed_5",name:"Fire Hatred V",description:"Kill 1 000 000 enemies with fire armor.",canBeUnlocked:()=>_.getElementKilled(w.fire.slug)>=1e6,getEffects:()=>[i.createFireHatred(Ii*5)],getIcon:Ei})}},Si=()=>"hatred-water",xi=5,gm=function(){return{water_enemy_killed_0:y({slug:"water_enemy_killed_0",name:"Water Hatred",description:"Kill 100 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=100,getEffects:()=>[i.createWaterHatred(xi)],getIcon:Si}),water_enemy_killed_1:y({slug:"water_enemy_killed_1",name:"Water Hatred I",description:"Kill 1 000 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=1e3,getEffects:()=>[i.createWaterHatred(xi)],getIcon:Si}),water_enemy_killed_2:y({slug:"water_enemy_killed_2",name:"Water Hatred II",description:"Kill 10 000 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=1e4,getEffects:()=>[i.createWaterHatred(xi)],getIcon:Si}),water_enemy_killed_3:y({slug:"water_enemy_killed_3",name:"Water Hatred III",description:"Kill 100 000 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=1e5,getEffects:()=>[i.createWaterHatred(xi)],getIcon:Si}),water_enemy_killed_4:y({slug:"water_enemy_killed_4",name:"Water Hatred IV",description:"Kill 500 000 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=5e5,getEffects:()=>[i.createWaterHatred(xi)],getIcon:Si}),water_enemy_killed_5:y({slug:"water_enemy_killed_5",name:"Water Hatred V",description:"Kill 1 000 000 enemies with water armor.",canBeUnlocked:()=>_.getElementKilled(w.water.slug)>=1e6,getEffects:()=>[i.createWaterHatred(xi*5)],getIcon:Si})}},Mi=()=>"hatred-earth",Ri=5,fm=function(){return{earth_enemy_killed_0:y({slug:"earth_enemy_killed_0",name:"Earth Hatred",description:"Kill 100 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=100,getEffects:()=>[i.createEarthHatred(Ri)],getIcon:Mi}),earth_enemy_killed_1:y({slug:"earth_enemy_killed_1",name:"Earth Hatred I",description:"Kill 1 000 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=1e3,getEffects:()=>[i.createEarthHatred(Ri)],getIcon:Mi}),earth_enemy_killed_2:y({slug:"earth_enemy_killed_2",name:"Earth Hatred II",description:"Kill 10 000 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=1e4,getEffects:()=>[i.createEarthHatred(Ri)],getIcon:Mi}),earth_enemy_killed_3:y({slug:"earth_enemy_killed_3",name:"Earth Hatred III",description:"Kill 100 000 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=1e5,getEffects:()=>[i.createEarthHatred(Ri)],getIcon:Mi}),earth_enemy_killed_4:y({slug:"earth_enemy_killed_4",name:"Earth Hatred IV",description:"Kill 500 000 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=5e5,getEffects:()=>[i.createEarthHatred(Ri)],getIcon:Mi}),earth_enemy_killed_5:y({slug:"earth_enemy_killed_5",name:"Earth Hatred V",description:"Kill 1 000 000 enemies with earth armor.",canBeUnlocked:()=>_.getElementKilled(w.earth.slug)>=1e6,getEffects:()=>[i.createEarthHatred(Ri*5)],getIcon:Mi})}},Ti=()=>"hatred-holy",Di=5,mm=function(){return{holy_enemy_killed_0:y({slug:"holy_enemy_killed_0",name:"Holy Hatred",description:"Kill 100 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=100,getEffects:()=>[i.createHolyHatred(Di)],getIcon:Ti}),holy_enemy_killed_1:y({slug:"holy_enemy_killed_1",name:"Holy Hatred I",description:"Kill 1 000 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=1e3,getEffects:()=>[i.createHolyHatred(Di)],getIcon:Ti}),holy_enemy_killed_2:y({slug:"holy_enemy_killed_2",name:"Holy Hatred II",description:"Kill 10 000 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=1e4,getEffects:()=>[i.createHolyHatred(Di)],getIcon:Ti}),holy_enemy_killed_3:y({slug:"holy_enemy_killed_3",name:"Holy Hatred III",description:"Kill 100 000 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=1e5,getEffects:()=>[i.createHolyHatred(Di)],getIcon:Ti}),holy_enemy_killed_4:y({slug:"holy_enemy_killed_4",name:"Holy Hatred IV",description:"Kill 500 000 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=5e5,getEffects:()=>[i.createHolyHatred(Di)],getIcon:Ti}),holy_enemy_killed_5:y({slug:"holy_enemy_killed_5",name:"Holy Hatred V",description:"Kill 1 000 000 enemies with holy armor.",canBeUnlocked:()=>_.getElementKilled(w.holy.slug)>=1e6,getEffects:()=>[i.createHolyHatred(Di*5)],getIcon:Ti})}},$i=()=>"hatred-wind",Hi=5,pm=function(){return{wind_enemy_killed_0:y({slug:"wind_enemy_killed_0",name:"Wind Hatred",description:"Kill 100 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=100,getEffects:()=>[i.createWindHatred(Hi)],getIcon:$i}),wind_enemy_killed_1:y({slug:"wind_enemy_killed_1",name:"Wind Hatred I",description:"Kill 1 000 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=1e3,getEffects:()=>[i.createWindHatred(Hi)],getIcon:$i}),wind_enemy_killed_2:y({slug:"wind_enemy_killed_2",name:"Wind Hatred II",description:"Kill 10 000 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=1e4,getEffects:()=>[i.createWindHatred(Hi)],getIcon:$i}),wind_enemy_killed_3:y({slug:"wind_enemy_killed_3",name:"Wind Hatred III",description:"Kill 100 000 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=1e5,getEffects:()=>[i.createWindHatred(Hi)],getIcon:$i}),wind_enemy_killed_4:y({slug:"wind_enemy_killed_4",name:"Wind Hatred IV",description:"Kill 500 000 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=5e5,getEffects:()=>[i.createWindHatred(Hi)],getIcon:$i}),wind_enemy_killed_5:y({slug:"wind_enemy_killed_5",name:"Wind Hatred V",description:"Kill 1 000 000 enemies with wind armor.",canBeUnlocked:()=>_.getElementKilled(w.wind.slug)>=1e6,getEffects:()=>[i.createWindHatred(Hi*5)],getIcon:$i})}},Pi=()=>"hatred-shadow",Ci=5,_m=function(){return{shadow_enemy_killed_0:y({slug:"shadow_enemy_killed_0",name:"Shadow Hatred",description:"Kill 100 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=100,getEffects:()=>[i.createShadowHatred(Ci)],getIcon:Pi}),shadow_enemy_killed_1:y({slug:"shadow_enemy_killed_1",name:"Shadow Hatred I",description:"Kill 1 000 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=1e3,getEffects:()=>[i.createShadowHatred(Ci)],getIcon:Pi}),shadow_enemy_killed_2:y({slug:"shadow_enemy_killed_2",name:"Shadow Hatred II",description:"Kill 10 000 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=1e4,getEffects:()=>[i.createShadowHatred(Ci)],getIcon:Pi}),shadow_enemy_killed_3:y({slug:"shadow_enemy_killed_3",name:"Shadow Hatred III",description:"Kill 100 000 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=1e5,getEffects:()=>[i.createShadowHatred(Ci)],getIcon:Pi}),shadow_enemy_killed_4:y({slug:"shadow_enemy_killed_4",name:"Shadow Hatred IV",description:"Kill 500 000 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=5e5,getEffects:()=>[i.createShadowHatred(Ci)],getIcon:Pi}),shadow_enemy_killed_5:y({slug:"shadow_enemy_killed_5",name:"Shadow Hatred V",description:"Kill 1 000 000 enemies with shadow armor.",canBeUnlocked:()=>_.getElementKilled(w.shadow.slug)>=1e6,getEffects:()=>[i.createShadowHatred(Ci*5)],getIcon:Pi})}},Ai=()=>"neutral",Bi=5,hm=function(){return{neutral_enemy_killed_0:y({slug:"neutral_enemy_killed_0",name:"Neutral Hatred",description:"Kill 100 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=100,getEffects:()=>[i.createNeutralHatred(Bi)],getIcon:Ai}),neutral_enemy_killed_1:y({slug:"neutral_enemy_killed_1",name:"Neutral Hatred I",description:"Kill 1 000 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=1e3,getEffects:()=>[i.createNeutralHatred(Bi)],getIcon:Ai}),neutral_enemy_killed_2:y({slug:"neutral_enemy_killed_2",name:"Neutral Hatred II",description:"Kill 10 000 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=1e4,getEffects:()=>[i.createNeutralHatred(Bi)],getIcon:Ai}),neutral_enemy_killed_3:y({slug:"neutral_enemy_killed_3",name:"Neutral Hatred III",description:"Kill 100 000 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=1e5,getEffects:()=>[i.createNeutralHatred(Bi)],getIcon:Ai}),neutral_enemy_killed_4:y({slug:"neutral_enemy_killed_4",name:"Neutral Hatred IV",description:"Kill 500 000 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=5e5,getEffects:()=>[i.createNeutralHatred(Bi)],getIcon:Ai}),neutral_enemy_killed_5:y({slug:"neutral_enemy_killed_5",name:"Neutral Hatred V",description:"Kill 1 000 000 enemies with neutral armor.",canBeUnlocked:()=>_.getElementKilled(w.neutral.slug)>=1e6,getEffects:()=>[i.createNeutralHatred(Bi*5)],getIcon:Ai})}},ym=function(){return{...dm(),...gm(),...pm(),...fm(),...mm(),..._m(),...hm()}},J={humanoid:"humanoid",beast:"beast",insect:"insect",plant:"plant",construct:"construct",formless:"formless"},qi=()=>"wolf",Ui=5,vm=function(){return{beast_killed_0:y({slug:"beast_killed_0",name:"Beast Hatred",description:"Kill 100 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=100,getEffects:()=>[i.createBeastHatred(Ui)],getIcon:qi}),beast_killed_1:y({slug:"beast_killed_1",name:"Beast Hatred I",description:"Kill 1 000 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=1e3,getEffects:()=>[i.createBeastHatred(Ui)],getIcon:qi}),beast_killed_2:y({slug:"beast_killed_2",name:"Beast Hatred II",description:"Kill 10 000 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=1e4,getEffects:()=>[i.createBeastHatred(Ui)],getIcon:qi}),beast_killed_3:y({slug:"beast_killed_3",name:"Beast Hatred III",description:"Kill 100 000 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=1e5,getEffects:()=>[i.createBeastHatred(Ui)],getIcon:qi}),beast_killed_4:y({slug:"beast_killed_4",name:"Beast Hatred IV",description:"Kill 500 000 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=5e5,getEffects:()=>[i.createBeastHatred(Ui)],getIcon:qi}),beast_killed_5:y({slug:"beast_killed_5",name:"Beast Hatred V",description:"Kill 1 000 000 beast enemies.",canBeUnlocked:()=>_.getRaceKilled(J.beast)>=1e6,getEffects:()=>[i.createBeastHatred(Ui*5)],getIcon:qi})}},Fi=()=>"training_dummy",Li=5,km=function(){return{construct_killed_0:y({slug:"construct_killed_0",name:"Construct Hatred",description:"Kill 100 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=100,getEffects:()=>[i.createConstructHatred(Li)],getIcon:Fi}),construct_killed_1:y({slug:"construct_killed_1",name:"Construct Hatred I",description:"Kill 1 000 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=1e3,getEffects:()=>[i.createConstructHatred(Li)],getIcon:Fi}),construct_killed_2:y({slug:"construct_killed_2",name:"Construct Hatred II",description:"Kill 10 000 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=1e4,getEffects:()=>[i.createConstructHatred(Li)],getIcon:Fi}),construct_killed_3:y({slug:"construct_killed_3",name:"Construct Hatred III",description:"Kill 100 000 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=1e5,getEffects:()=>[i.createConstructHatred(Li)],getIcon:Fi}),construct_killed_4:y({slug:"construct_killed_4",name:"Construct Hatred IV",description:"Kill 500 000 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=5e5,getEffects:()=>[i.createConstructHatred(Li)],getIcon:Fi}),construct_killed_5:y({slug:"construct_killed_5",name:"Construct Hatred V",description:"Kill 1 000 000 construct enemies.",canBeUnlocked:()=>_.getRaceKilled(J.construct)>=1e6,getEffects:()=>[i.createConstructHatred(Li*5)],getIcon:Fi})}},Oi=()=>"slimelord",Wi=5,wm=function(){return{formless_killed_0:y({slug:"formless_killed_0",name:"Formless Hatred",description:"Kill 100 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=100,getEffects:()=>[i.createFormlessHatred(Wi)],getIcon:Oi}),formless_killed_1:y({slug:"formless_killed_1",name:"Formless Hatred I",description:"Kill 1 000 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=1e3,getEffects:()=>[i.createFormlessHatred(Wi)],getIcon:Oi}),formless_killed_2:y({slug:"formless_killed_2",name:"Formless Hatred II",description:"Kill 10 000 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=1e4,getEffects:()=>[i.createFormlessHatred(Wi)],getIcon:Oi}),formless_killed_3:y({slug:"formless_killed_3",name:"Formless Hatred III",description:"Kill 100 000 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=1e5,getEffects:()=>[i.createFormlessHatred(Wi)],getIcon:Oi}),formless_killed_4:y({slug:"formless_killed_4",name:"Formless Hatred IV",description:"Kill 500 000 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=5e5,getEffects:()=>[i.createFormlessHatred(Wi)],getIcon:Oi}),formless_killed_5:y({slug:"formless_killed_5",name:"Formless Hatred V",description:"Kill 1 000 000 formless enemies.",canBeUnlocked:()=>_.getRaceKilled(J.formless)>=1e6,getEffects:()=>[i.createFormlessHatred(Wi*5)],getIcon:Oi})}},Ki=()=>"humanoid_killed_achievement",Gi=5,bm=function(){return{humanoid_killed_0:y({slug:"humanoid_killed_0",name:"Humanoid Hatred",description:"Kill 100 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=100,getEffects:()=>[i.createHumanoidHatred(Gi)],getIcon:Ki}),humanoid_killed_1:y({slug:"humanoid_killed_1",name:"Humanoid Hatred I",description:"Kill 1 000 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=1e3,getEffects:()=>[i.createHumanoidHatred(Gi)],getIcon:Ki}),humanoid_killed_2:y({slug:"humanoid_killed_2",name:"Humanoid Hatred II",description:"Kill 10 000 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=1e4,getEffects:()=>[i.createHumanoidHatred(Gi)],getIcon:Ki}),humanoid_killed_3:y({slug:"humanoid_killed_3",name:"Humanoid Hatred III",description:"Kill 100 000 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=1e5,getEffects:()=>[i.createHumanoidHatred(Gi)],getIcon:Ki}),humanoid_killed_4:y({slug:"humanoid_killed_4",name:"Humanoid Hatred IV",description:"Kill 500 000 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=5e5,getEffects:()=>[i.createHumanoidHatred(Gi)],getIcon:Ki}),humanoid_killed_5:y({slug:"humanoid_killed_5",name:"Humanoid Hatred V",description:"Kill 1 000 000 humanoid enemies.",canBeUnlocked:()=>_.getRaceKilled(J.humanoid)>=1e6,getEffects:()=>[i.createHumanoidHatred(Gi*5)],getIcon:Ki})}},Vi=()=>"spider",ji=5,Em=function(){return{insect_killed_0:y({slug:"insect_killed_0",name:"Insect Hatred",description:"Kill 100 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=100,getEffects:()=>[i.createInsectHatred(ji)],getIcon:Vi}),insect_killed_1:y({slug:"insect_killed_1",name:"Insect Hatred I",description:"Kill 1 000 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=1e3,getEffects:()=>[i.createInsectHatred(ji)],getIcon:Vi}),insect_killed_2:y({slug:"insect_killed_2",name:"Insect Hatred II",description:"Kill 10 000 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=1e4,getEffects:()=>[i.createInsectHatred(ji)],getIcon:Vi}),insect_killed_3:y({slug:"insect_killed_3",name:"Insect Hatred III",description:"Kill 100 000 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=1e5,getEffects:()=>[i.createInsectHatred(ji)],getIcon:Vi}),insect_killed_4:y({slug:"insect_killed_4",name:"Insect Hatred IV",description:"Kill 500 000 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=5e5,getEffects:()=>[i.createInsectHatred(ji)],getIcon:Vi}),insect_killed_5:y({slug:"insect_killed_5",name:"Insect Hatred V",description:"Kill 1 000 000 insect enemies.",canBeUnlocked:()=>_.getRaceKilled(J.insect)>=1e6,getEffects:()=>[i.createInsectHatred(ji*5)],getIcon:Vi})}},Ni=()=>"tree",Qi=5,Im=function(){return{plant_killed_0:y({slug:"plant_killed_0",name:"Plant Hatred",description:"Kill 100 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=100,getEffects:()=>[i.createPlantHatred(Qi)],getIcon:Ni}),plant_killed_1:y({slug:"plant_killed_1",name:"Plant Hatred I",description:"Kill 1 000 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=1e3,getEffects:()=>[i.createPlantHatred(Qi)],getIcon:Ni}),plant_killed_2:y({slug:"plant_killed_2",name:"Plant Hatred II",description:"Kill 10 000 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=1e4,getEffects:()=>[i.createPlantHatred(Qi)],getIcon:Ni}),plant_killed_3:y({slug:"plant_killed_3",name:"Plant Hatred III",description:"Kill 100 000 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=1e5,getEffects:()=>[i.createPlantHatred(Qi)],getIcon:Ni}),plant_killed_4:y({slug:"plant_killed_4",name:"Plant Hatred IV",description:"Kill 500 000 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=5e5,getEffects:()=>[i.createPlantHatred(Qi)],getIcon:Ni}),plant_killed_5:y({slug:"plant_killed_5",name:"Plant Hatred V",description:"Kill 1 000 000 plant enemies.",canBeUnlocked:()=>_.getRaceKilled(J.plant)>=1e6,getEffects:()=>[i.createPlantHatred(Qi*5)],getIcon:Ni})}},Sm=function(){return{...bm(),...vm(),...Em(),...Im(),...wm(),...km()}},xm=()=>"money",Mm=function(){return{items_bought_0:y({slug:"items_bought_0",name:"Valued Customer",description:"Purchase 1 000 items.",canBeUnlocked:()=>_.getItemsBought()>=1e3,getEffects:()=>[i.createDiscount(5)],getIcon:xm})}},Rm=()=>"money",Tm=function(){return{money_spent_0:y({slug:"money_spent_0",name:"Mild Spender",description:"Spend a total of 1 gold coin.",canBeUnlocked:()=>_.getMoneySpent()>=1e4,getEffects:()=>[i.createDiscount(5)],getIcon:Rm})}},Ji=()=>"bone",Yi=5,Dm=function(){return{items_obtained_0:y({slug:"items_obtained_0",name:"Hoarder",description:"Obtain 100 items.",canBeUnlocked:()=>_.getItemsObtained()>=100,getEffects:()=>[i.createDropModifier(Yi)],getIcon:Ji}),items_obtained_1:y({slug:"items_obtained_1",name:"Hoarder I",description:"Obtain 1 000 items.",canBeUnlocked:()=>_.getItemsObtained()>=1e3,getEffects:()=>[i.createDropModifier(Yi)],getIcon:Ji}),items_obtained_2:y({slug:"items_obtained_2",name:"Hoarder II",description:"Obtain 10 000 items.",canBeUnlocked:()=>_.getItemsObtained()>=1e4,getEffects:()=>[i.createDropModifier(Yi)],getIcon:Ji}),items_obtained_3:y({slug:"items_obtained_3",name:"Hoarder III",description:"Obtain 50 000 items.",canBeUnlocked:()=>_.getItemsObtained()>=5e4,getEffects:()=>[i.createDropModifier(Yi)],getIcon:Ji}),items_obtained_4:y({slug:"items_obtained_4",name:"Hoarder IV",description:"Obtain 100 000 items.",canBeUnlocked:()=>_.getItemsObtained()>=1e5,getEffects:()=>[i.createDropModifier(Yi)],getIcon:Ji}),items_obtained_5:y({slug:"items_obtained_5",name:"Hoarder V",description:"Obtain 500 000 items.",canBeUnlocked:()=>_.getItemsObtained()>=5e5,getEffects:()=>[i.createDropModifier(Yi*5)],getIcon:Ji})}},zi=()=>"card",Xi=5,$m=function(){return{cards_obtained_0:y({slug:"cards_obtained_0",name:"Child of Fortune",description:"Obtain your first card.",canBeUnlocked:()=>_.getCardsObtained()>=1,getEffects:()=>[i.createDropModifier(Xi)],getIcon:zi}),cards_obtained_1:y({slug:"cards_obtained_1",name:"Child of Fortune I",description:"Obtain 5 cards.",canBeUnlocked:()=>_.getCardsObtained()>=5,getEffects:()=>[i.createDropModifier(Xi)],getIcon:zi}),cards_obtained_2:y({slug:"cards_obtained_2",name:"Child of Fortune II",description:"Obtain 15 cards.",canBeUnlocked:()=>_.getCardsObtained()>=15,getEffects:()=>[i.createDropModifier(Xi)],getIcon:zi}),cards_obtained_3:y({slug:"cards_obtained_3",name:"Child of Fortune III",description:"Obtain 30 cards.",canBeUnlocked:()=>_.getCardsObtained()>=30,getEffects:()=>[i.createDropModifier(Xi)],getIcon:zi}),cards_obtained_4:y({slug:"cards_obtained_4",name:"Child of Fortune IV",description:"Obtain 50 cards.",canBeUnlocked:()=>_.getCardsObtained()>=50,getEffects:()=>[i.createDropModifier(Xi)],getIcon:zi}),cards_obtained_5:y({slug:"cards_obtained_5",name:"Child of Fortune V",description:"Obtain 100 cards.",canBeUnlocked:()=>_.getCardsObtained()>=100,getEffects:()=>[i.createDropModifier(Xi*5)],getIcon:zi})}},st={blacksmithing:"blacksmithing",tailoring:"tailoring",enchanting:"enchanting",woodworking:"woodworking",cooking:"cooking",alchemy:"alchemy",scrollcrafting:"scrollcrafting",runecarving:"runecarving",leatherworking:"leatherworking",jewelcrafting:"jewelcrafting"},Zi=()=>"blacksmithing",eo=5,to=function(e){return Object.values(st).map(t=>i["create"+Ce(t)+"Exp"](e))},Hm=function(){return{items_crafted_0:y({slug:"items_crafted_0",name:"Crafter",description:"Craft 100 items.",canBeUnlocked:()=>_.getItemsCrafted()>=100,getEffects:()=>to(eo),getIcon:Zi}),items_crafted_1:y({slug:"items_crafted_1",name:"Crafter I",description:"Craft 1 000 items.",canBeUnlocked:()=>_.getItemsCrafted()>=1e3,getEffects:()=>to(eo),getIcon:Zi}),items_crafted_2:y({slug:"items_crafted_2",name:"Crafter II",description:"Craft 10 000 items.",canBeUnlocked:()=>_.getItemsCrafted()>=1e4,getEffects:()=>to(eo),getIcon:Zi}),items_crafted_3:y({slug:"items_crafted_3",name:"Crafter III",description:"Craft 50 000 items.",canBeUnlocked:()=>_.getItemsCrafted()>=5e4,getEffects:()=>to(eo),getIcon:Zi}),items_crafted_4:y({slug:"items_crafted_4",name:"Crafter IV",description:"Craft 100 000 items.",canBeUnlocked:()=>_.getItemsCrafted()>=1e5,getEffects:()=>to(eo),getIcon:Zi}),items_crafted_5:y({slug:"items_crafted_5",name:"Crafter V",description:"Craft 500 000 items.",canBeUnlocked:()=>_.getItemsCrafted()>=5e5,getEffects:()=>to(eo*5),getIcon:Zi})}},ct=function(e){return{slug:e.slug,name:e.name,description:e.description,expModifier:e.expModifier||1,getEffects:e.getEffects||(()=>[]),perks:e.perks||[],getExpForLevel:e.getExpForLevel||function(t){return 100*this.expModifier+t*100*this.expModifier},getIcon:e.getIcon||function(){return this.slug}}},Pm=function(){return{studying:ct({slug:"studying",name:"Studying",description:"Improves your ability to learn new things.",expModifier:5,getEffects:()=>[i.createStudyingSpeed(1)],perks:[{level:10,getEffects:()=>[i.createStudyingSpeed(5)]}]}),trading:ct({slug:"trading",name:"Trading",description:"Improves your ability to haggle for a better price.",getEffects:()=>[i.createDiscount(.5)],perks:[{level:10,getEffects:()=>[i.createDiscount(2.5)]}]}),gluttony:ct({slug:"gluttony",name:"Gluttony",description:"Nothing edible will escape. All shall be consumed.",expModifier:.2,getEffects:()=>[i.createMaxHp(10),i.createMaxMp(2)],perks:[{level:10,getEffects:()=>[i.createMaxHpPercentage(10),i.createMaxMpPercentage(10)]}]})}},Cm=function(){return{combat_mastery:ct({slug:"combat_mastery",name:"Combat Mastery",description:"Your ability to fight, mainly improves the power of your strikes.",expModifier:5,getEffects:()=>[i.createStr(1)],perks:[{level:10,getEffects:()=>[i.createStr(5),i.createMaxHp(30)]}]}),tenacity:ct({slug:"tenacity",name:"Tenacity",description:"Tis but a scratch.",expModifier:5,getEffects:()=>[i.createMaxHp(10)],perks:[{level:5,getEffects:()=>[i.createDr(1)]},{level:10,getEffects:()=>[i.createDr(1)]}]}),mutilation:ct({slug:"mutilation",name:"Mutilation",description:"The ability to deal fatal damage.",getEffects:()=>[i.createCritPower(2)],perks:[{level:10,getEffects:()=>[i.createCritPower(10)]}]})}},En=1,In="Improves your crafting proficiency, resulting in lower material costs.",Am=function(){return{blacksmithing:ct({slug:"blacksmithing",name:"Blacksmithing",description:In,expModifier:.2,getEffects:()=>[i.createBlacksmithingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createStr(5)]}]}),tailoring:ct({slug:"tailoring",name:"Tailoring",description:In,expModifier:.2,getEffects:()=>[i.createTailoringProficiency(En)],perks:[{level:10,getEffects:()=>[i.createInt(5)]}]}),leatherworking:ct({slug:"leatherworking",name:"Leatherworking",description:"Wood.",description:In,expModifier:.2,getEffects:()=>[i.createLeatherworkingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createDex(25)]}]}),woodworking:ct({slug:"woodworking",name:"Woodworking",description:"Wood.",description:In,expModifier:.2,getEffects:()=>[i.createWoodworkingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createDr(3)]}]}),jewelcrafting:ct({slug:"jewelcrafting",name:"Jewelcrafting",description:In,expModifier:.2,getEffects:()=>[i.createJewelcraftingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createCritPower(10)]}]}),runecarving:ct({slug:"runecarving",name:"Runecarving",description:In+"<br><br>Also unlocks new runes.",expModifier:.1,getEffects:()=>[i.createRunecarvingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createMpRegen(.2)]}]}),enchanting:ct({slug:"enchanting",name:"Enchanting",description:In,expModifier:.2,getEffects:()=>[i.createEnchantingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createManaEfficiency(1)]}]}),alchemy:ct({slug:"alchemy",name:"Alchemy",description:In,expModifier:.2,getEffects:()=>[i.createAlchemyProficiency(En)],perks:[{level:10,getEffects:()=>[i.createMaxMp(5)]}]}),cooking:ct({slug:"cooking",name:"Cooking",description:"Making food.",description:In,expModifier:.2,getEffects:()=>[i.createCookingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createMaxHp(50)]}]}),scrollcrafting:ct({slug:"scrollcrafting",name:"Scrollcrafting",description:In,expModifier:.2,getEffects:()=>[i.createScrollcraftingProficiency(En)],perks:[{level:10,getEffects:()=>[i.createStudyingSpeed(5)]}]})}},Bm=function(){return{woodcutting:ct({slug:"woodcutting",name:"Woodcutting",description:"Improves damage against Plant race enemies.",expModifier:5,getEffects:()=>[i.createPlantHatred(1)],perks:[{level:10,getEffects:()=>[i.createPlantHatred(5)]}]}),herbalism:ct({slug:"herbalism",name:"Herbalism",description:"Improves damage against Plant race enemies.",expModifier:5,getEffects:()=>[i.createPlantHatred(1)],perks:[{level:10,getEffects:()=>[i.createPlantHatred(5)]}]}),mining:ct({slug:"mining",name:"Mining",description:"Improves damage against Formless race enemies.",expModifier:5,getEffects:()=>[i.createFormlessHatred(1)],perks:[{level:10,getEffects:()=>[i.createFormlessHatred(5)]}]})}},qm=function(){return{mana_control:ct({slug:"mana_control",name:"Mana Control",description:"Using mana increases your proficiency with it, decreasing the amount required by spells.",getEffects:function(){return[i.createInt(1),i.createManaEfficiency(.1)]},perks:[{level:10,getEffects:()=>[i.createInt(5),i.createManaEfficiency(.5)]}]})}},_s=.5,hs=1,no=_s*5,so=hs*5,Um=function(){return{fire_affinity:ct({slug:"fire_affinity",name:"Fire Affinity",description:"Mastery over the fire element.",getEffects:function(){return[i.createFireResistance(_s),i.createFirePower(hs)]},perks:[{level:10,getEffects:()=>[i.createFireResistance(no),i.createFirePower(so)]}]}),water_affinity:ct({slug:"water_affinity",name:"Water Affinity",description:"Mastery over the water element.",getEffects:function(){return[i.createWaterResistance(_s),i.createWaterPower(hs)]},perks:[{level:10,getEffects:()=>[i.createWaterAffinityExp(no),i.createWaterPower(so)]}]}),wind_affinity:ct({slug:"wind_affinity",name:"Wind Affinity",description:"Mastery over the wind element.",getEffects:function(){return[i.createWindResistance(_s),i.createWindPower(hs)]},perks:[{level:10,getEffects:()=>[i.createWindResistance(no),i.createWindPower(so)]}]}),earth_affinity:ct({slug:"earth_affinity",name:"Earth Affinity",description:"Mastery over the earth element.",getEffects:function(){return[i.createEarthResistance(_s),i.createEarthPower(hs)]},perks:[{level:10,getEffects:()=>[i.createEarthResistance(no),i.createEarthPower(so)]}]}),shadow_affinity:ct({slug:"shadow_affinity",name:"Shadow Affinity",description:"Mastery over the shadow element.",getEffects:function(){return[i.createShadowResistance(_s),i.createShadowPower(hs)]},perks:[{level:10,getEffects:()=>[i.createShadowResistance(no),i.createShadowPower(so)]}]}),holy_affinity:ct({slug:"holy_affinity",name:"Holy Affinity",description:"Mastery over the holy element.",getEffects:function(){return[i.createHolyResistance(_s),i.createHolyPower(hs)]},perks:[{level:10,getEffects:()=>[i.createHolyResistance(no),i.createHolyPower(so)]}]})}},Fm=function(){return{}},K={...Cm(),...qm(),...Um(),...Fm(),...Am(),...Bm(),...Pm()},io=()=>"fight",oo=5,ro=function(e){return Object.keys(K).map(t=>{const n=t.split("_").map(s=>Ce(s)).join("");return i["create"+Ce(n)+"Exp"](e)})},Lm=function(){return{total_skill_level_up_0:y({slug:"total_skill_level_up_0",name:"Proficient",description:"Total skill level ups equal to 100 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=50,getEffects:()=>ro(oo),getIcon:io}),total_skill_level_up_1:y({slug:"total_skill_level_up_1",name:"Proficient I",description:"Total skill level ups equal to 1 000 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=100,getEffects:()=>ro(oo),getIcon:io}),total_skill_level_up_2:y({slug:"total_skill_level_up_2",name:"Proficient II",description:"Total skill level ups equal to 10 000 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=200,getEffects:()=>ro(oo),getIcon:io}),total_skill_level_up_3:y({slug:"total_skill_level_up_3",name:"Proficient III",description:"Total skill level ups equal to 50 000 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=500,getEffects:()=>ro(oo),getIcon:io}),total_skill_level_up_4:y({slug:"total_skill_level_up_4",name:"Proficient IV",description:"Total skill level ups equal to 100 000 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=1e3,getEffects:()=>ro(oo),getIcon:io}),total_skill_level_up_5:y({slug:"total_skill_level_up_5",name:"Proficient V",description:"Total skill level ups equal to 500 000 or higher.",canBeUnlocked:()=>_.getTotalSkillLevelUps()>=1e4,getEffects:()=>ro(oo*5),getIcon:io})}},Om=()=>"sleep",Wm=function(){return{sleeping_time_0:y({slug:"sleeping_time_0",name:"Just 5 more minutes...",description:"Stay in bed for a total of 10 hours (cumulative, real time).",canBeUnlocked:()=>_.getSleepingTime()>=36e3,getEffects:()=>[i.createHpRegen(2),i.createMpRegen(.3)],getIcon:Om})}},Km=()=>"money",Gm=function(){return{money_gained_0:y({slug:"money_gained_0",name:"Rich Kid",description:"Get a total of 100 gold coins.",canBeUnlocked:()=>_.getMoneyGained()>=1e6,getRewards:()=>[{type:$e.title,title:Dn.money_gained}],getIcon:Km})}},Vm=()=>"leather_shoes",jm=function(){return{scenes_entered_0:y({slug:"scenes_entered_0",name:"Fleet-footed",description:"Enter 10 000 scenes.",canBeUnlocked:()=>_.getScenesEntered()>=1e4,getEffects:()=>[i.createExpModifier(25)],getIcon:Vm})}},Nm=()=>"enchant",Qm=function(){return{enchants_applied_0:y({slug:"enchants_applied_0",name:"Enchanter",description:"Apply 100 enchants.",canBeUnlocked:()=>_.getEnchantsApplied()>=100,getEffects:()=>[i.createMaxMp(10),i.createMaxMpPercentage(10)],getIcon:Nm})}},Jm=()=>"enchant",Ym=function(){return{enchants_overwritten_0:y({slug:"enchants_overwritten_0",name:"Capricious Enchanter",description:"Overwrite 100 enchants.",canBeUnlocked:()=>_.getEnchantsOverwritten()>=100,getEffects:()=>[i.createMpRegen(.5)],getIcon:Jm})}},zm=()=>"poison",Xm=function(){return{status_effects_applied_0:y({slug:"status_effects_applied_0",name:"Powerful Curse",description:"Apply status effect 10 000 times.",canBeUnlocked:()=>_.getStatusEffectsApplied()>=1e4,getEffects:()=>[i.createCritPower(50)],getIcon:zm})}},Zm=()=>"poison",ep=function(){return{status_effects_received_0:y({slug:"status_effects_received_0",name:"Thick Skin",description:"Receive status effect 10 000 times.",canBeUnlocked:()=>_.getStatusEffectsReceived()>=1e4,getEffects:()=>[i.createMaxHp(50),i.createMaxHpPercentage(10)],getIcon:Zm})}},Ht={...Rf(),...Mf(),...Uf(),...Nf(),...Qf(),...tm(),...lm(),...$f(),...Df(),...Tf(),...Hf(),...Pf(),...Cf(),...Af(),...Bf(),...Ff(),...jf(),...um(),...ym(),...Sm(),...Mm(),...Tm(),...Dm(),...$m(),...Hm(),...Lm(),...Wm(),...Gm(),...jm(),...Qm(),...Ym(),...Xm(),...ep(),training_sword_resonance:y({slug:"training_sword_resonance",name:"Determined",description:"Defeated 1 000 Training Dummies while holding the awakened Training Sword.",getEffects:()=>[i.createStr(3),i.createStrPercentage(3),i.createMaxHpPercentage(5)],getRewards:()=>[{type:$e.title,title:Dn.determined}],getIcon:()=>"training_sword",canBeUnlocked:()=>u.get().variables.training_sword_awakened_training_dummy_kill_counter>=1e3}),hunting_bow_resonance:y({slug:"hunting_bow_resonance",name:"Avenger",description:"Slain the bear while holding awakened Hunting Bow.",getEffects:()=>[i.createDex(20)],getRewards:()=>[{type:$e.title,title:Dn.avenger}],getIcon:()=>"hunting_bow"}),iron_sword_resonance:y({slug:"iron_sword_resonance",name:"Family Reunion",description:"Have Devon hold sword that resonates with his father's soul.",getEffects:()=>[i.createDr(2)],getIcon:()=>"iron_sword"}),novice_staff_resonance:y({slug:"novice_staff_resonance",name:"Your Foolishness",description:"Repeat Jorm's mistake.<br><br>While wielding awakened Novice Staff, get knocked out after casting Fire Arrow via rune at least 1000 times without getting knocked out and without using any scrolls.",getEffects:()=>[i.createMpRegen(1)],getIcon:()=>"novice_staff",getRewards:()=>[{type:$e.title,title:Dn.fool}]})},tp=e=>(ft("data-v-1b579b54"),e=e(),mt(),e),np=["innerHTML"],sp={class:"descriptions"},ip=["innerHTML"],op={key:1,class:"description rewards c-success"},rp=tp(()=>g("div",{class:"corner-title"},"Rewards",-1)),ap={key:2,class:"description effects"},lp=["innerHTML"],cp=["innerHTML"],up={__name:"AchievementTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,np),g("div",sp,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,ip)):R("",!0),r(b).props.descriptions.rewards.length?(d(),m("div",op,[rp,(d(!0),m(B,null,re(r(b).props.descriptions.rewards,s=>(d(),m("div",null,[s.type===r($e).title?(d(),m(B,{key:0},[oe('Grants the "'+C(s.title.name)+'" title',1)],64)):R("",!0)]))),256))])):R("",!0),r(b).props.descriptions.effects&&r(b).props.descriptions.effects.length>0?(d(),m("div",ap,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,s=>(d(),m("div",{innerHTML:s},null,8,lp))),256))])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:3,class:"description",innerHTML:r(b).props.descriptions.type},null,8,cp)):R("",!0)])],64))}},dp=j(up,[["__scopeId","data-v-1b579b54"]]),gp=["innerHTML"],fp={class:"descriptions"},mp=["innerHTML"],pp=["innerHTML"],_p={__name:"TitleTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,gp),g("div",fp,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,mp)):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:1,class:"description",innerHTML:r(b).props.descriptions.type},null,8,pp)):R("",!0)])],64))}},uo={getTooltipProps:function(e){return{component:pe(_p),title:e.name,descriptions:{description:e.description,type:"Title"}}},unlockTitle:function(e){const t=u.get();t.titles.includes(e.slug)||(t.titles.push(e.slug),ee.titleMessage(e))},getUnlockedTitles:function(e){return u.get().titles.map(t=>{if(Dn[t].name.toLowerCase().includes(e.toLowerCase()))return Dn[t]}).filter(t=>t!==void 0)},getCurrentTitle:function(){return Dn[u.get().title]},setCurrentTitle:function(e){u.get().title=e.slug}},Et={getTooltipProps:function(e){return{component:pe(dp),title:e.name,descriptions:{description:e.description,effects:e.getEffectDescriptions(),rewards:e.getRewards(),type:"Achievement"}}},checkAchievementUnlockConditions:function(){Object.keys(Ht).forEach(e=>{const t=Ht[e];u.get().achievements.includes(t.slug)||t.canBeUnlocked()&&Et.unlockAchievement(t)})},isUnlocked:function(e){return u.get().achievements.includes(e.slug)},unlockAchievement:function(e){Et.isUnlocked(e)||(u.get().achievements.push(e.slug),ee.achievementMessage(e),Et.applyAchievementEffects(e),e.getRewards().forEach(t=>{if(t.type===$e.title){uo.unlockTitle(t.title);return}}))},applyAchievementEffects:function(e){e.getEffects().forEach(t=>{t.effect.up(u.get().player,t.value,e.slug,"achievement")})},getUnlockedAchievements:function(){return u.get().achievements.map(e=>Ht[e])}},tt={enemyKill:function(e){_.logEnemyKill(e),e.slug===ae.training_dummy.slug&&tt.handleTrainingDummiesKillCounting()},spellCast:function(e,t,n){_.logManaUsed(t),_.logSpellCast(e),tt.handleFireArrowCounting(e,n)},consumableUsed:function(e){e.isScroll&&(_.logScrollUsed(),Et.isUnlocked(Ht.novice_staff_resonance)||(u.get().variables.novice_staff_awakened_fire_arrow_counter=0)),e.isFood&&_.logFoodUsed(),e.isDrink&&_.logDrinkUsed(),e.isHealthPotion&&_.logHealthPotionUsed(),e.isManaPotion&&_.logManaPotionUsed()},readableRead:function(){_.logReadableRead()},playerDeath:function(){_.logDeathCount(),tt.handleNoviceStaffResonanceUnlockOrReset()},questFinished:function(){_.logQuestFinished()},sceneEntered:function(){_.logScenesEntered()},itemObtained:function(e,t){_.logItemsObtained(t),e.isCard&&_.logCardsObtained()},itemBought:function(e,t,n){_.logItemsBought(n)},enchantApplied:function(e,t){_.logEnchantsApplied(),t&&_.logEnchantsOverwritten()},statusEffectApplied:function(e,t){t==="player"?_.logStatusEffectReceived():_.logStatusEffectApplied()},recipeCrafted:function(e,t){_.logItemsCrafted(t)},skillLevelUp:function(e){_.logTotalSkillLevelUps()},moneyGained:function(e){_.logMoneyGained(e)},moneySpent:function(e){_.logMoneySpent(e)},sleeping:function(e){_.logSleepingTime(e)},statusEffectTick:function(e,t){const n=_e[t.statusEffect],s=lt.extractCasterTypeFromStatusEffectState(t),o=(a,c)=>{const f=n.getEffects()[0].effect.getPower(e,s,t.identifier);e==="player"?a(f):c(f)};n.slug===_e.bleeding.slug&&o(_.logBleedingDamageReceived,_.logBleedingDamageDealt),n.slug===_e.poison.slug&&o(_.logPoisonDamageReceived,_.logPoisonDamageDealt),n.slug===_e.burning.slug&&o(_.logBurningDamageReceived,_.logBurningDamageDealt),n.slug===_e.stun.slug&&(e==="player"?_.logTimeSpentStunned():_.logAfflictedStunTime()),n.slug===_e.silence.slug&&(e==="player"?_.logTimeSpentSilenced():_.logAfflictedSilenceTime())},physicalDamageDealt:function(e,t,n){e==="player"?(_.logPhysicalDamageReceived(t),_.logElementalDamageReceived(t,n)):(_.logPhysicalDamageDealt(t),_.logElementalDamageDealt(t,n))},magicalDamageDealt:function(e,t,n){e==="player"?(_.logMagicalDamageReceived(t),_.logElementalDamageReceived(t,n)):(_.logMagicalDamageDealt(t),_.logElementalDamageDealt(t,n))},rebirth:function(){_.logRebirthCount()},handleFireArrowCounting:function(e,t){t===void 0||Et.isUnlocked(Ht.novice_staff_resonance)||!tt.holdsAwakenedWeapon(l.novice_staff)||u.get().variables.novice_staff_awakened_fire_arrow_counter++},handleNoviceStaffResonanceUnlockOrReset:function(){if(Et.isUnlocked(Ht.novice_staff_resonance)||!tt.holdsAwakenedWeapon(l.novice_staff))return;const e=u.get();e.variables.novice_staff_awakened_fire_arrow_counter>=1e3?Et.unlockAchievement(Ht.novice_staff_resonance):e.variables.novice_staff_awakened_fire_arrow_counter=0},handleTrainingDummiesKillCounting:function(){Et.isUnlocked(Ht.training_sword_resonance)||!tt.holdsAwakenedWeapon(l.training_sword)||u.get().variables.training_sword_awakened_training_dummy_kill_counter++},holdsAwakenedWeapon:function(e){return fe.itemIsEquipped(e,!0)}},hp={class:"label"},yp={key:0},vp={__name:"ProgressBar",props:["label","value","maxValue","color","hideValues"],setup(e){const t=e;let n=["progress-bar-wrapper",t.color],s=D(()=>`width: ${_n(t.value/t.maxValue*100,100)}%`);return(o,a)=>(d(),m("div",{class:ie(r(n).join(" "))},[g("div",hp,[oe(C(e.label)+" ",1),e.hideValues?R("",!0):(d(),m("span",yp,C(e.value)+" / "+C(e.maxValue),1))]),g("div",{class:"progress-bar",style:qr(r(s))},null,4)],2))}},Xt=j(vp,[["__scopeId","data-v-25d83dbf"]]),H=(e,t)=>(t=t||".png",e=Xe[e]||e,"/climb-test/img/"+e+t),kp={class:"money"},wp={key:0,class:"amount-wrapper"},bp={class:"amount gold"},Ep=["src"],Ip={key:1,class:"amount-wrapper"},Sp={class:"amount silver"},xp=["src"],Mp={class:"amount-wrapper"},Rp={class:"amount copper"},Tp=["src"],Dp={__name:"Money",props:["money"],setup(e){const t=e,n=D(()=>t.money%100),s=D(()=>Math.floor(t.money/100%100)),o=D(()=>Math.floor(t.money/(100*100)));return(a,c)=>(d(),m("span",kp,[o.value>0?(d(),m("span",wp,[g("span",bp,C(o.value),1),g("img",{class:"coin-icon",src:r(H)("coin_gold"),alt:""},null,8,Ep)])):R("",!0),s.value>0?(d(),m("span",Ip,[g("span",Sp,C(s.value),1),g("img",{class:"coin-icon",src:r(H)("coin_silver"),alt:""},null,8,xp)])):R("",!0),g("span",Mp,[g("span",Rp,C(n.value),1),g("img",{class:"coin-icon",src:r(H)("coin_copper"),alt:""},null,8,Tp)])]))}},Wn=j(Dp,[["__scopeId","data-v-ca4f3b5b"]]),$p=["innerHTML"],Hp={class:"descriptions"},Pp=["innerHTML"],Cp={key:1,class:"description effects"},Ap=["innerHTML"],Bp={class:"description enchant"},qp=["innerHTML"],Up=["innerHTML"],Fp={key:3,class:"description money"},Lp=["innerHTML"],Op={__name:"ItemTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(b).props.title},null,8,$p),g("div",Hp,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,Pp)):R("",!0),r(b).props.descriptions.effects&&r(b).props.descriptions.effects.length>0?(d(),m("div",Cp,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,s=>(d(),m("div",{innerHTML:s},null,8,Ap))),256))])):R("",!0),r(b).props.descriptions.enchants?(d(!0),m(B,{key:2},re(r(b).props.descriptions.enchants,s=>(d(),m("div",Bp,[g("div",{class:"enchant-title",innerHTML:s.title},null,8,qp),(d(!0),m(B,null,re(s.descriptions,o=>(d(),m("div",{innerHTML:o},null,8,Up))),256))]))),256)):R("",!0),r(b).props.price?(d(),m("div",Fp,[X(Wn,{money:r(b).props.price},null,8,["money"])])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:4,class:"description",innerHTML:r(b).props.descriptions.type},null,8,Lp)):R("",!0)]),r(b).props.maxExp?(d(),Se(Xt,{key:0,label:"",value:r(b).props.maxed?1:r(b).props.exp,maxValue:r(b).props.maxed?1:r(b).props.maxExp,color:"item-rank",hideValues:!!r(b).props.maxed},null,8,["value","maxValue","hideValues"])):R("",!0),r(b).props.startedAwakening?(d(),Se(Xt,{key:1,class:"awakening",label:"",value:r(b).props.isAwakened?1:r(b).props.awakeningExp,maxValue:r(b).props.isAwakened?1:r(b).props.requiredAwakeningExp,color:"item-awakening",hideValues:!!r(b).props.isAwakened},null,8,["value","maxValue","hideValues"])):R("",!0)],64))}},Wp=j(Op,[["__scopeId","data-v-76b41a34"]]),Nr=function(e){return{slug:e.slug,name:e.name,slot:e.slot,description:e.description,getIcon:e.getIcon||function(){return this.slug},getName:function(){return this.name},getDescription:function(){return this.description},getEffects:e.getEffects||function(){return[]},getTooltipProps:e.getTooltipProps||function(t){return t=t||{},{component:pe(Wp),title:this.getName(),price:t==null?void 0:t.price,descriptions:{description:this.getDescription(),effects:this.getEffectDescriptions(),type:this.getTypeDescription()}}},getEffectDescriptions:e.getEffectDescriptions||function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))},getTypeDescription:e.getTypeDescription||function(){const t=this.slot?this.slot.split("_").map(s=>Ce(s)).reverse().join(" "):"",n=Ce(this.type);return t?n+" / "+t:n}}},wo=["","F","E","D","C","B","A","S"],Kp=["innerHTML"],Gp={class:"descriptions"},Vp=["innerHTML"],jp={key:1,class:"description effects"},Np=["innerHTML"],Qp={key:2,class:"description perks"},Jp=["innerHTML"],Yp=["innerHTML"],zp=["innerHTML"],Xp={__name:"SkillTooltip",setup(e){return(t,n)=>{var s,o;return d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,Kp),g("div",Gp,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,Vp)):R("",!0),(s=r(b).props.descriptions.effects)!=null&&s.length?(d(),m("div",jp,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,a=>(d(),m("div",{innerHTML:a},null,8,Np))),256))])):R("",!0),(o=r(b).props.descriptions.perks)!=null&&o.length?(d(),m("div",Qp,[(d(!0),m(B,null,re(r(b).props.descriptions.perks,a=>(d(),m("div",{class:ie(["perk",a.unlocked?"":"c-gray"])},[g("span",{class:"perk-title",innerHTML:a.title},null,8,Jp),(d(!0),m(B,null,re(a.descriptions,(c,f)=>(d(),m("span",{innerHTML:c+(f===a.descriptions.length-1?"":", ")},null,8,Yp))),256))],2))),256))])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:3,class:"description",innerHTML:r(b).props.descriptions.type},null,8,zp)):R("",!0)]),r(b).props.maxExp?(d(),Se(Xt,{key:0,label:"",value:r(b).props.maxed?1:r(b).props.exp,maxValue:r(b).props.maxed?1:r(b).props.maxExp,color:"item-rank",hideValues:!!r(b).props.maxed},null,8,["value","maxValue","hideValues"])):R("",!0)],64)}}},Zp=j(Xp,[["__scopeId","data-v-f316db2c"]]),De={running:function(){return!!u.get().activeCrafting},getLearnedRecipes:function(e){return Object.values(e.recipes).filter(t=>{var n;return(n=u.get().learnedCraftingRecipes[t.getSkill().slug])==null?void 0:n.includes(t.slug)})},hasLearnedRecipe:function(e){return u.get().learnedCraftingRecipes[e.getSkill().slug].includes(e.slug)},learnRecipe:function(e,t){return t||ee.commonMessage("Learned how to make "+e.name+"."),u.get().learnedCraftingRecipes[e.getSkill().slug].push(e.slug),!0},getRecipe:function(e){let t=Object.assign({},e);return t.materials=t.materials.map(n=>{let s=n.quantity;return s=an(Math.round(s*(1-q.getCraftingProficiency(e.getSkill().slug)/100)),1),{getItem:n.getItem,quantity:s}}),t},canCraft:function(e,t){return t=t||1,De.hasMaterials(e,t)&&e.canCraft()},hasMaterials:function(e,t){return e.materials.every(n=>k.getInventoryItemQuantity(n.getItem())>=n.quantity*t)},craft:function(e,t){De.canCraft(e,t)&&(e.materials.forEach(n=>k.remove(k.getInventoryItem(n.getItem()),n.quantity*t)),e.results.forEach(n=>k.add(n.getItem(),n.quantity*t)),se.gainExp(e.getSkill(),e.expGained*t),tt.recipeCrafted(e,t))}},e_={guild:"guild",other:"other"},wt=function(e){return{rank:e.rank||"G",slug:e.slug,name:e.name,description:e.description,type:e.type||e_.guild,timeLimit:e.timeLimit||3,getGiver:e.getGiver||function(){},getRequirements:e.getRequirements||function(){},getRewards:e.getRewards||function(){},getFailureConsequences:e.getFailureConsequences||function(){},action:e.action||function(){},cleanUp:e.cleanUp===void 0?!0:e.cleanUp}},Yo={money:"money",reputation:"reputation"},Nt=function(e){return{slug:e.slug,name:e.name,description:e.description||"",getName:e.getName||function(){return this.name}}},be={blacksmith:Nt({slug:"blacksmith",name:"Devon",description:"Burly man in charge of the city's smithy."}),tailor:Nt({slug:"tailor",name:"Misha"}),enchanter:Nt({slug:"enchanter",name:"Holer"}),woodworker:Nt({slug:"woodworker",name:"Splinta",description:"Kind woman in charge of the city's woodworking shop."}),chef:Nt({slug:"chef",name:"Cooksta"}),alchemist:Nt({slug:"alchemist",name:"Crakon",description:"An old man wearing dusty clothes."}),scrollcrafter:Nt({slug:"scrollcrafter",name:"Zuris",description:"Middle-aged man with arrogant attitude."}),leatherworker:Nt({slug:"leatherworker",name:"Leo"}),jewelcrafter:Nt({slug:"jewelcrafter",name:"Silver"}),kathryn:Nt({slug:"kathryn",name:"Kathryn"}),jake:Nt({slug:"jake",name:"Jake"}),lomsi:Nt({slug:"lomsi",name:"Lomsi"}),kacadu:Nt({slug:"kacadu",name:"Kacadu"})},Gn=[{type:$e.money,amount:100},{type:$e.reputation,amount:1}],Vn=[{type:Yo.reputation,amount:5}],t_=function(){return{blacksmith_stock:wt({slug:"blacksmith_stock",name:"Devon's training equipment",description:"I need some equipment to refill my stocks. I don't work with wood, Splinta is busy this week and people still come to my shop to get WOODEN stuff, seriously.",getGiver:()=>be.blacksmith,getRequirements:()=>[{requirement:l.training_sword,amount:5},{requirement:l.wooden_shield,amount:5}],getRewards:()=>[{type:$e.item,item:l.iron_ore,amount:5},...Gn],getFailureConsequences:()=>Vn}),woodworker_wood:wt({slug:"woodworker_wood",name:"Splinta's wood supply",description:"I would appreciate if someone could bring me some wood. Less time spent in forest means more time making life-saving equipment. Thank you!",getGiver:()=>be.woodworker,getRequirements:()=>[{requirement:l.wood,amount:75}],getRewards:()=>[{type:$e.item,item:l.dry_bread,amount:5},{type:$e.item,item:l.water,amount:5},...Gn],getFailureConsequences:()=>Vn}),woodworker_feathers:wt({slug:"woodworker_feathers",name:"Splinta's arrow needs",description:"I am running low on feathers for arrows. It would be great if someone could get me some.",getGiver:()=>be.woodworker,getRequirements:()=>[{requirement:l.feather,amount:30}],getRewards:()=>[{type:$e.item,item:l.dry_bread,amount:5},{type:$e.item,item:l.water,amount:5},...Gn],getFailureConsequences:()=>Vn}),chef_rat_meat:wt({slug:"chef_rat_meat",name:"Chef's rat meat",description:"Need rat meat. While not very tasty, it's a feast for poor people.",getGiver:()=>be.chef,getRequirements:()=>[{requirement:l.rat_meat,amount:75}],getRewards:()=>[{type:$e.item,item:l.cooked_rat_meat,amount:10},...Gn],getFailureConsequences:()=>Vn}),chef_raw_meat:wt({slug:"chef_raw_meat",name:"Chef's raw meat",description:"I need some proper meat to feed all of you!",getGiver:()=>be.chef,getRequirements:()=>[{requirement:l.raw_meat,amount:30}],getRewards:()=>[{type:$e.item,item:l.cooked_meat,amount:5},...Gn],getFailureConsequences:()=>Vn}),alchemist_rat_tail:wt({slug:"alchemist_rat_tail",name:"Crakon's need for rat tails",description:"My most recent research into mild poison requires some rat tails. Please deliver with haste.",getGiver:()=>be.alchemist,getRequirements:()=>[{requirement:l.rat_tail,amount:75}],getRewards:()=>[{type:$e.item,item:l.antidote,amount:3},...Gn],getFailureConsequences:()=>Vn}),alchemist_herbs:wt({slug:"alchemist_herbs",name:"Crakon's herbs",description:"I am low on basic herbs. Any herb-pickers around?",getGiver:()=>be.alchemist,getRequirements:()=>[{requirement:l.herb,amount:100}],getRewards:()=>[{type:$e.item,item:l.minor_healing_potion,amount:2},...Gn],getFailureConsequences:()=>Vn}),leatherworker_rabbit_furs:wt({slug:"leatherworker_rabbit_furs",name:"Leo's hats",description:"I want to make some hats from rabbit furs. Please provide the furs.",getGiver:()=>be.leatherworker,getRequirements:()=>[{requirement:l.rabbit_fur,amount:30}],getRewards:()=>[{type:$e.item,item:l.leather,amount:1},...Gn],getFailureConsequences:()=>Vn})}},Qt=[{type:$e.money,amount:150},{type:$e.reputation,amount:2}],Jt=[{type:Yo.reputation,amount:10}],Yt="F",n_=function(){return{blacksmith_iron_ore:wt({slug:"blacksmith_iron_ore",name:"Ore",description:"Get me some ores so I can resell them for profit!",rank:Yt,getGiver:()=>be.blacksmith,getRequirements:()=>[{requirement:l.iron_ore,amount:75}],getRewards:()=>[...Qt],getFailureConsequences:()=>Jt}),tailor_wool:wt({slug:"tailor_wool",name:"Misha's wool",description:"I am running low on wool and my usual supplier is nowhere to be seen.",rank:Yt,getGiver:()=>be.tailor,getRequirements:()=>[{requirement:l.wool,amount:30}],getRewards:()=>[{type:$e.item,item:l.bandage,amount:3},...Qt],getFailureConsequences:()=>Jt}),tailor_spider_silk:wt({slug:"tailor_spider_silk",name:"Spider Silk",description:"Anyone brave enough to go in the abandoned mines to get me some spider silk?",rank:Yt,getGiver:()=>be.tailor,getRequirements:()=>[{requirement:l.spider_silk,amount:30}],getRewards:()=>[{type:$e.item,item:l.bandage,amount:3},...Qt],getFailureConsequences:()=>Jt}),alchemist_bones:wt({slug:"alchemist_bones",name:"Crakon wants bones",description:"I am running low on bones. Bone dust is one of the ingredients for health potions. Disgusting? Yes. Effective when bleeding out? Yes.",rank:Yt,getGiver:()=>be.alchemist,getRequirements:()=>[{requirement:l.bone,amount:40}],getRewards:()=>[{type:$e.item,item:l.minor_healing_potion,amount:3},...Qt],getFailureConsequences:()=>Jt}),alchemist_bat_wings:wt({slug:"alchemist_bat_wings",name:"Bat Wings",description:"I need bat wings to keep up with the mana potion demand.",rank:Yt,getGiver:()=>be.alchemist,getRequirements:()=>[{requirement:l.bat_wing,amount:30}],getRewards:()=>[{type:$e.item,item:l.minor_mana_potion,amount:2},...Qt],getFailureConsequences:()=>Jt}),scrollcrafter_mana_fragments:wt({slug:"scrollcrafter_mana_fragments",name:"Mana Fragments",description:"Please bring me mana fragments, scrolls as an extra reward!",rank:Yt,getGiver:()=>be.scrollcrafter,getRequirements:()=>[{requirement:l.fragment_mana,amount:30}],getRewards:()=>[...Qt,{type:$e.item,item:l.scroll_of_arcane_bolt,amount:3}],getFailureConsequences:()=>Jt}),scrollcrafter_fire_fragments:wt({slug:"scrollcrafter_fire_fragments",name:"Fire Fragments",description:"Please bring me fire fragments, scrolls as an extra reward!",rank:Yt,getGiver:()=>be.scrollcrafter,getRequirements:()=>[{requirement:l.fragment_fire,amount:30}],getRewards:()=>[...Qt,{type:$e.item,item:l.scroll_of_fire_arrow,amount:3}],getFailureConsequences:()=>Jt}),scrollcrafter_water_fragments:wt({slug:"scrollcrafter_water_fragments",name:"Water Fragments",description:"Please bring me water fragments, scrolls as an extra reward!",rank:Yt,getGiver:()=>be.scrollcrafter,getRequirements:()=>[{requirement:l.fragment_water,amount:30}],getRewards:()=>[...Qt,{type:$e.item,item:l.scroll_of_water_splash,amount:3}],getFailureConsequences:()=>Jt}),scrollcrafter_earth_fragments:wt({slug:"scrollcrafter_earth_fragments",name:"Earth Fragments",description:"Please bring me earth fragments, scrolls as an extra reward!",rank:Yt,getGiver:()=>be.scrollcrafter,getRequirements:()=>[{requirement:l.fragment_earth,amount:30}],getRewards:()=>[...Qt,{type:$e.item,item:l.scroll_of_stone_bullet,amount:3}],getFailureConsequences:()=>Jt}),scrollcrafter_wind_fragments:wt({slug:"scrollcrafter_wind_fragments",name:"Wind Fragments",description:"Please bring me wind fragments, scrolls as an extra reward!",rank:Yt,getGiver:()=>be.scrollcrafter,getRequirements:()=>[{requirement:l.fragment_wind,amount:30}],getRewards:()=>[...Qt,{type:$e.item,item:l.scroll_of_wind_blast,amount:3}],getFailureConsequences:()=>Jt}),leatherworker_raw_hides:wt({slug:"leatherworker_raw_hides",name:"Raw Hides",description:"Any hunters around?",rank:Yt,getGiver:()=>be.leatherworker,getRequirements:()=>[{requirement:l.raw_hide,amount:40}],getRewards:()=>[...Qt],getFailureConsequences:()=>Jt}),leatherworker_pristine_belt:wt({slug:"leatherworker_pristine_belt",name:"Pristine bear pelt",description:"I have been looking for a nice pelt that I could make into a cloak for a while.",rank:Yt,getGiver:()=>be.leatherworker,getRequirements:()=>[{requirement:l.pristine_bear_pelt,amount:1}],getRewards:()=>[...Qt],getFailureConsequences:()=>Jt}),jewelcrafter_wolf_fangs:wt({slug:"jewelcrafter_wolf_fangs",name:"Wolf Fangs",description:"I need some undamaged wolf fangs for a necklace.",rank:Yt,getGiver:()=>be.jewelcrafter,getRequirements:()=>[{requirement:l.wolf_fang,amount:3}],getRewards:()=>[...Qt],getFailureConsequences:()=>Jt})}},Ro={...t_(),...n_()};function s_(e){return new Worker("/climb-test/assets/worker-CgiAm2LW.js",{name:e==null?void 0:e.name})}const Al=function(e){return{slug:e.slug,action:e.action||function(){},cleanUp:e.cleanUp===void 0?!0:e.cleanUp}},Dr={mine_man_reset:Al({slug:"mine_man_reset",action:()=>u.get().variables.mine_man_available=!0}),leatherworking_shop_bear_cloak_available:Al({slug:"leatherworking_shop_bear_cloak_available",action:()=>u.get().variables.leatherworking_shop_bear_cloak_available=!0})},$r={schedule:function(e,t){const n=u.get().elapsedTime+Je.getDaysInUnits(t);u.get().scheduledEvents[e.slug]=n},runScheduled:function(){for(const e in u.get().scheduledEvents){const t=u.get().scheduledEvents[e];if(u.get().elapsedTime<t)return;const n=Dr[e];n.action(),n.cleanUp&&delete u.get().scheduledEvents[e]}}},Fe=function(e){return{slug:e.slug,name:e.name,enemyAmount:e.enemyAmount,endless:e.endless||!1,getEnemies:e.getEnemies||function(){},groupFinished:e.groupFinished||function(){},createState:function(){return{slug:this.slug,enemyNumber:1}},nextEnemy:function(t){if(this.endless)return Ee.createEnemyState(cc(this.getEnemies()));if(!(t>this.enemyAmount))return Ee.createEnemyState(cc(this.getEnemies()))}}},Re=function(e){const t=u.get();p[t.scene].onLeave(),t.scene=e.slug,e.onEntry(),tt.sceneEntered()},i_=function(){return{basement:Fe({slug:"basement",name:"Basement",enemyAmount:50,getEnemies:()=>[ae.rat],groupFinished:function(){u.get().variables.basement_fight_completed=!0,Re(p.basement_clear)}}),basement_endless:Fe({slug:"basement_endless",name:"Basement",endless:!0,getEnemies:()=>[ae.rat]}),training_grounds:Fe({slug:"training_grounds",name:"Training Grounds",enemyAmount:50,getEnemies:()=>[ae.training_dummy],groupFinished:function(){u.get().variables.training_grounds_fight_completed=!0,Re(p.training_grounds_fight_finished)}}),training_grounds_endless:Fe({slug:"training_grounds_endless",name:"Training Grounds",endless:!0,getEnemies:()=>[ae.training_dummy]})}},o_=function(){return{forest_harvest_wood:Fe({slug:"forest_harvest_wood",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.tree]}),forest_gather_herbs_basic:Fe({slug:"forest_gather_herbs_basic",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.weed]}),forest_outskirts_hunt:Fe({slug:"forest_outskirts_hunt",name:"Forest Outskirts",enemyAmount:50,getEnemies:()=>[ae.chicken,ae.rabbit],groupFinished:function(){u.get().variables.forest_outskirts_hunt_completed=!0,Re(p.forest_outskirts_hunt_finished)}}),forest_outskirts_hunt_endless:Fe({slug:"forest_outskirts_hunt_endless",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.chicken,ae.rabbit]}),forest_depths_hunt:Fe({slug:"forest_depths_hunt",name:"Forest Depths",enemyAmount:50,getEnemies:()=>[ae.warthog,ae.wolf,ae.mountain_goat],groupFinished:function(){u.get().variables.forest_depths_hunt_completed=!0,Re(p.forest_depths_hunt_finished)}}),forest_depths_hunt_endless:Fe({slug:"forest_depths_hunt_endless",name:"Forest Depths",endless:!0,getEnemies:()=>[ae.warthog,ae.wolf,ae.mountain_goat]}),forest_cave_hunt:Fe({slug:"forest_cave_hunt",name:"Cave",enemyAmount:1,getEnemies:()=>[ae.bear],groupFinished:function(){const e=u.get();e.variables.forest_cave_hunt_completed=!0,Re(e.tower_variables.lomsi_bear_cave_meeting_completed?p.forest_cave_hunt_finished:p.lomsi_first_meeting_bear_cave)}}),forest_mine_hunt:Fe({slug:"forest_mine_hunt",name:"Abandoned Mine",enemyAmount:50,getEnemies:()=>[ae.spider,ae.bat],groupFinished:function(){u.get().variables.forest_mine_hunt_completed=!0,Re(p.forest_mine_hunt_finished)}}),forest_mine_hunt_endless:Fe({slug:"forest_mine_hunt_endless",name:"Abandoned Mine",endless:!0,getEnemies:()=>[ae.spider,ae.bat]}),forest_mine_ore:Fe({slug:"forest_mine_ore",name:"Abandoned Mine",endless:!0,getEnemies:()=>[ae.iron_vein]})}},Bl=()=>[ae.slime,ae.slime_water,ae.slime_fire,ae.slime_earth,ae.slime_wind],r_=function(){return{floor1_fight1:Fe({slug:"floor1_fight1",name:"Floor 1",enemyAmount:50,getEnemies:()=>Bl(),groupFinished:function(){u.get().tower_variables.floor1_fight1_completed=!0,Re(p.floor1_fight1_clear)}}),floor1_fight1_endless:Fe({slug:"floor1_fight1_endless",name:"Floor 1",endless:!0,getEnemies:()=>Bl()}),floor1_boss:Fe({slug:"floor1_boss",name:"Floor 1 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_1_boss],groupFinished:function(){u.get().tower_variables.floor2_unlocked=!0,Re(p.floor1_cleared)}})}},ql=()=>[ae.slime_holy,ae.slime_shadow],a_=function(){return{floor2_fight1:Fe({slug:"floor2_fight1",name:"Floor 2",enemyAmount:50,getEnemies:()=>ql(),groupFinished:function(){u.get().tower_variables.floor2_fight1_completed=!0,Re(p.floor2_fight1_clear)}}),floor2_fight1_endless:Fe({slug:"floor2_fight1_endless",name:"Floor 2",endless:!0,getEnemies:()=>ql()}),floor2_boss:Fe({slug:"floor2_boss",name:"Floor 2 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_2_boss],groupFinished:function(){u.get().tower_variables.floor3_unlocked=!0,Re(p.floor2_cleared)}})}},Ul=()=>[ae.slimer,ae.slimer_water,ae.slimer_fire,ae.slimer_earth,ae.slimer_wind],l_=function(){return{floor3_fight1:Fe({slug:"floor3_fight1",name:"Floor 3",enemyAmount:50,getEnemies:()=>Ul(),groupFinished:function(){u.get().tower_variables.floor3_fight1_completed=!0,Re(p.floor3_fight1_clear)}}),floor3_fight1_endless:Fe({slug:"floor3_fight1_endless",name:"Floor 3",endless:!0,getEnemies:()=>Ul()}),floor3_boss:Fe({slug:"floor3_boss",name:"Floor 3 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_3_boss],groupFinished:function(){u.get().tower_variables.floor4_unlocked=!0,Re(p.floor3_cleared)}}),floor3_secret_room:Fe({slug:"floor3_secret_room",name:"Floor 3 - Secret Room",enemyAmount:1,getEnemies:()=>[ae.floor_3_shadow_hound],groupFinished:function(){Re(p.kathryn_third_floor_secret_room_completed)}})}},Fl=()=>[ae.slimer_holy,ae.slimer_shadow],c_=function(){return{floor4_fight1:Fe({slug:"floor4_fight1",name:"Floor 4",enemyAmount:50,getEnemies:()=>Fl(),groupFinished:function(){u.get().tower_variables.floor4_fight1_completed=!0,Re(p.floor4_fight1_clear)}}),floor4_fight1_endless:Fe({slug:"floor4_fight1_endless",name:"Floor 4",endless:!0,getEnemies:()=>Fl()}),floor4_boss:Fe({slug:"floor4_boss",name:"Floor 4 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_4_boss],groupFinished:function(){u.get().tower_variables.floor5_unlocked=!0,Re(p.floor4_cleared)}})}},Ll=()=>[ae.slimelord],Ol=()=>[ae.slimelord_water,ae.slimelord_fire,ae.slimelord_earth,ae.slimelord_wind],Wl=()=>[ae.slimelord_holy,ae.slimelord_shadow],u_=function(){return{floor5_fight1:Fe({slug:"floor5_fight1",name:"Floor 5",enemyAmount:50,getEnemies:()=>Ll(),groupFinished:function(){u.get().tower_variables.floor5_fight1_completed=!0,Re(p.floor5_fight1_clear)}}),floor5_fight1_endless:Fe({slug:"floor5_fight1_endless",name:"Floor 5",endless:!0,getEnemies:()=>Ll()}),floor5_fight2:Fe({slug:"floor5_fight2",name:"Floor 5",enemyAmount:50,getEnemies:()=>Ol(),groupFinished:function(){u.get().tower_variables.floor5_fight2_completed=!0,Re(p.floor5_fight2_clear)}}),floor5_fight2_endless:Fe({slug:"floor5_fight2_endless",name:"Floor 5",endless:!0,getEnemies:()=>Ol()}),floor5_fight3:Fe({slug:"floor5_fight3",name:"Floor 5",enemyAmount:50,getEnemies:()=>Wl(),groupFinished:function(){u.get().tower_variables.floor5_fight3_completed=!0,Re(p.floor5_fight3_clear)}}),floor5_fight3_endless:Fe({slug:"floor5_fight3_endless",name:"Floor 5",endless:!0,getEnemies:()=>Wl()}),floor5_boss:Fe({slug:"floor5_boss",name:"Floor 5 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_5_boss],groupFinished:function(){u.get().tower_variables.floor6_unlocked=!0,Re(p.floor5_cleared)}})}},d_=function(){return{...r_(),...a_(),...l_(),...c_(),...u_()}},Ae={...i_(),...o_(),...d_()},x=function(e){return{slug:e.slug,title:e.title,description:e.description,messagesTitle:e.messagesTitle,messages:e.messages,class:e.class,type:e.type,options:e.options||function(){return[]},onEntry:e.onEntry||function(){},onLeave:e.onLeave||function(){},getDescription:e.getDescription||function(){return this.description},getMessages:e.getMessages||function(){return this.messages}}},Rt=function(e){return{slug:e.slug,title:e.title,description:e.description,type:e.type||"normal",class:e.class,getIcon:e.getIcon,getContent:e.getContent||function(){return this.title},isVisible:e.isVisible||function(){return!0},action:e.action||function(){console.log("Not implemented")}}},L=function(e,t){return Rt({slug:"enter_"+e.slug,title:e.title,class:"enter",action:function(){Re(e)},...t})},M=function(e,t,n){return Rt({slug:"leave_"+e.slug,title:(n!=null&&n.simple?"Leave":!1)||"Leave "+e.title,class:"leave",action:function(){Re(t)},getIcon:(n==null?void 0:n.getIcon)||function(){return H("leave")},...n})},Ge=function(e,t){return t=t||{},t.class=(t==null?void 0:t.class)||"fight",t.title=(t==null?void 0:t.title)||"Fight",t.getIcon=(t==null?void 0:t.getIcon)||function(){return H("fight")},L(e,t)},g_=function(){return{start:x({slug:"start",title:"The Beginning",description:"A long journey lies ahead.",messages:["It has been 500 years since the Tower appeared.","Full of monster, but also treasures, it attracted countless adventurers, and a bustling city was built around it.","The tower pierces through the heavens, its' top nowhere to be seen.","And living among these brave heroes is you, a nobody. A nobody with a dream - to conquer the tower. Or at least earn enough to fill your belly.","Yes, filling your belly would be a good start.","And then you should probably check around the Training Grounds in the City."],options:function(){return[M(this,p.home,{title:"Start Journey"})]}}),home:x({slug:"home",title:"Home",description:"A cozy home",options:function(){return[L(p.bed,{slug:"sleep",title:"Sleep",getIcon:()=>H("sleep")}),L(p.workshop,{getIcon:()=>H("blacksmithing")}),L(p.basement,{getIcon:()=>H("basement")}),M(this,p.city)]}}),bed:x({slug:"bed",title:"Bed",description:"Warm bed",options:function(){return u.get().player.hp===0?[]:[M(this,p.home,{title:"Get up"})]},onEntry:()=>{const e=u.get();i.createHpRegenPercentage().effect.up(e.player,5,"bed","furniture"),i.createMpRegenPercentage().effect.up(e.player,1,"bed","furniture"),e.gameSpeed=5},onLeave:()=>{const e=u.get();i.createHpRegenPercentage().effect.down(e.player,"bed"),i.createMpRegenPercentage().effect.down(e.player,"bed"),e.gameSpeed=1}}),workshop:x({slug:"workshop",title:"Workshop",description:"Plenty of space for crafting stations.",options:function(){const e=u.get(),t=e.workshopCraftingStations;return Object.keys(t).map(n=>Rt({class:"padding-4px",slug:n,title:Ce(n),getIcon:()=>H(n),action:()=>e.activeCrafting=st[n],isVisible:()=>t[n]})).concat([M(this,p.home)])},onLeave:()=>u.get().activeCrafting=null}),basement:x({slug:"basement",title:"Basement",description:"Full of rats",options:function(){return[Ge(p.basement_fight,{title:"Kill some rats"}),Ge(p.basement_fight_endless,{title:"Try to kill all the rats",isVisible:()=>u.get().variables.basement_fight_completed}),M(this,p.home)]}}),basement_fight:x({slug:"basement_fight",title:"Basement",description:"Full of rats",options:function(){return[M(this,p.home)]},onEntry:()=>A.start(Ae.basement),onLeave:()=>A.stop()}),basement_fight_endless:x({slug:"basement_fight_endless",title:"Basement",description:"Full of rats",options:function(){return[M(this,p.home)]},onEntry:()=>A.start(Ae.basement_endless),onLeave:()=>A.stop()}),basement_clear:x({slug:"basement_clear",title:"Basement",description:"Still full of rats",messages:["You've had enough for now"],options:function(){return[M(this,p.home)]}})}},Fn={unlockEntry(e){u.get().bestiary[e.slug]=!0},isEntryUnlocked(e){return u.get().bestiary[e.slug]||!1}},Hn={running:function(){return!!u.get().activeShopping},startShopping:function(e){u.get().activeShopping=e},stopShopping:function(){u.get().activeShopping=null},getShopItems:function(){return Hn.filter(p[u.get().activeShopping].getShopItems()).filter(e=>(!e.item.isDiagram||!De.hasLearnedRecipe(e.item.getRecipe()))&&(!e.item.isBestiaryBook||!Fn.isEntryUnlocked(e.item.getEnemy())))},buyShopItem:function(e,t,n){t=t*n,q.getMoney()>=t?(k.add(e,n),q.removeMoney(t),se.gainExp(K.trading,t),tt.itemBought(e,t,n)):ee.commonMessage("Not enough money","c-danger")},filter:function(e){const t=u.get().shoppingSettings.filter;return e.filter(n=>{const s=n.item;return t==="none"?!0:t==="etc"?!s.isEquip&&!s.isConsumable:t==="isConsumable"?s.isConsumable&&!s.isEnchant:s[t]})},setFilter:function(e){u.get().shoppingSettings.filter=e},getFilter:function(){return u.get().shoppingSettings.filter}},Pn=function(e){return{__proto__:x(e),type:"buy",getShopItems:e.getShopItems||function(){return[]},onEntry:function(){Hn.startShopping(e.slug)},onLeave:function(){Hn.stopShopping()}}},xs=function(e,t,n){return{__proto__:Rt({slug:"buy_"+e,type:"station",action:function(){const s=u.get();q.getMoney()>=this.price?(s.townCraftingStations[e]=!0,q.removeMoney(this.price)):ee.commonMessage("Not enough money","c-danger")},isVisible:n==null?void 0:n.isVisible}),station:e,price:t}},is=function(e){return{__proto__:x({slug:e.craftingSlug+"_shop_crafting",title:Ce(e.craftingSlug)+" Station",description:e.description||"",options:function(){return[Rt({slug:e.craftingSlug,title:Ce(e.craftingSlug),action:()=>u.get().activeCrafting=e.craftingSlug}),M(this,p[e.craftingSlug+"_shop"])]},onLeave:()=>u.get().activeCrafting=null})}},os=function(e){return Rt({slug:e.craftingSlug+"_shop_crafting",title:Ce(e.craftingSlug)+" Station",class:"enter",isVisible:()=>u.get().townCraftingStations[e.craftingSlug],action:()=>Re(p[e.craftingSlug+"_shop_crafting"])})},P=function(e,t){return{item:e,getPrice:()=>bt(t*(1-_n(q.getDiscount(),75)/100),0)}},f_=function(e,t){return{blacksmithing_shop_iron_sword_awaken_reaction:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction",title:e,description:t,messages:["Hey, you there!","That sword you carry, can I take a closer look?"],options:function(){return[L(p.blacksmithing_shop_iron_sword_awaken_reaction_accept,{title:"Sure"}),M(this,p.blacksmithing_shop_iron_sword_awaken_reaction_reject,{title:"Hands off!"})]}}),blacksmithing_shop_iron_sword_awaken_reaction_reject:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction_reject",title:e,description:t,messages:["Tsk, kids these days!"],options:function(){return[M(this,p.blacksmithing_shop,{title:"Leave"})]},onEntry:()=>u.get().variables.blacksmithing_shop_iron_sword_awaken_reaction_finished=!0}),blacksmithing_shop_iron_sword_awaken_reaction_accept:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction_accept",title:e,description:t,messages:["Hmm... interesting.","You see that sword on the wall? It's a sword my grandfather made and that my father used his whole life. While it looks unremarkable, it's still in pristine condition after all those years. I hope to one day be able to make such a masterpiece.","And this sword of yours feels eerily similar to it. It's obviously different piece and yet, it feels the same. It's so familiar. I wonder why...","Well... thanks for letting me take a look, you seem alright! If I ever kick the bucket you can have my father's sword, seems like you take good care of your weapons.","*To himself* Rest well, old man."],options:function(){return[M(this,p.blacksmithing_shop,{title:"Leave"})]},onEntry:()=>{u.get().variables.blacksmithing_shop_iron_sword_awaken_reaction_finished=!0,Et.unlockAchievement(Ht.iron_sword_resonance)}})}},dr="Devon's Anvil",gr="Burly man stands behind the counter.",m_=function(){return{...f_(dr,gr),blacksmithing_shop:x({slug:"blacksmithing_shop",title:dr,description:gr,options:function(){return[L(p.blacksmithing_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),Rt({slug:"enter_blacksmithing_shop_free_stuff",title:"Ask about free equipment",class:"enter",getIcon:()=>H("talk"),isVisible:()=>!u.get().variables.free_stuff_completed,action:()=>Re(p.blacksmithing_shop_free_stuff)}),Rt({slug:"enter_blacksmithing_ask_about_ore",title:"Ask about ore",class:"enter",getIcon:()=>H("talk"),action:()=>Re(p.blacksmithing_ask_about_ore)}),os({craftingSlug:st.blacksmithing}),M(this,p.craftsman_district)]},onEntry:()=>{const e=u.get();if(e.variables.blacksmithing_shop_iron_sword_awaken_reaction_finished)return;const t=k.getInventoryItemById(e.equipment.weapon);t&&t.slug===l.iron_sword.slug&&t.isAwakened&&t.isEquipped&&Re(p.blacksmithing_shop_iron_sword_awaken_reaction)}}),blacksmithing_shop_buy:Pn({slug:"blacksmithing_shop_buy",title:"Devon's Anvil's Assortment",description:"His gaze pressures you to buy something...",messages:["What will it be?"],options:function(){return[xs(st.blacksmithing,150,{isVisible:()=>u.get().townCraftingStations.blacksmithing===!1}),M(this,p.blacksmithing_shop)]},getShopItems:function(){return[P(l.iron_ore,20),P(l.iron_ingot,110),P(l.iron_helmet,600),P(l.iron_boots,800),P(l.iron_armor,1200),P(l.iron_sword,900),P(l.diagram_iron_ingot,200),P(l.diagram_iron_helmet,300),P(l.diagram_iron_boots,300),P(l.diagram_iron_armor,500),P(l.diagram_iron_sword,500),P(l.book_blacksmithing,500)]}}),blacksmithing_shop_crafting:is({craftingSlug:st.blacksmithing}),blacksmithing_shop_free_stuff:x({slug:"blacksmithing_shop_free_stuff",title:dr,description:gr,messages:["Of course we have some equipment available!","What? For free? Are you out of your mind?","No freebies here, kid. Go try Splinta's woodworking shop across the streets.","If there is someone to give out free help to others, it is her.","Now get out."],options:function(){return[M(this,p.craftsman_district)]}}),blacksmithing_ask_about_ore:x({slug:"blacksmithing_ask_about_ore",title:dr,description:gr,messages:["Where do I get my ore?","Well, I commission it from others via the Adventurers' Guild.","Most people find some while climbing the tower. Having no use for it they will happily fulfill my commissions despite the somewhat... profitable rates.","I also have some dedicated suppliers, who delve into an abandoned mining shaft in the forest.","Its not really a secret, since not many people can manage that place. It is infested with some pretty dangerous creatures.","If you need some ore yourself, you can buy it from me without the risk of losing a limb or two. The price is, obviously, fair."],options:function(){return[M(this,p.blacksmithing_shop,{simple:!0})]}})}},p_=function(){return{tailoring_shop:x({slug:"tailoring_shop",title:"Misha's Threads",description:"",options:function(){return[L(p.tailoring_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.tailoring}),M(this,p.craftsman_district)]}}),tailoring_shop_buy:Pn({slug:"tailoring_shop_buy",title:"Misha's Threads Assortment",description:"",messages:["Hmm?"],options:function(){return[xs(st.tailoring,150,{isVisible:()=>u.get().townCraftingStations.tailoring===!1}),M(this,p.tailoring_shop)]},getShopItems:function(){return[P(l.wool,20),P(l.cloth,110),P(l.bandage,70),P(l.novice_hat,600),P(l.novice_shoes,800),P(l.novice_robe,1200),P(l.diagram_string,200),P(l.diagram_cloth,200),P(l.diagram_bandage,150),P(l.diagram_novice_hat,300),P(l.diagram_novice_shoes,300),P(l.diagram_novice_robe,500),P(l.book_tailoring,500)]}}),tailoring_shop_crafting:is({craftingSlug:st.tailoring})}},Kl="Items with strange aura are in the shelves.",__=function(){return{enchanting_shop:x({slug:"enchanting_shop",title:"Holer's Enchants",description:Kl,options:function(){return[L(p.enchanting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.enchanting}),M(this,p.craftsman_district)]}}),enchanting_shop_buy:Pn({slug:"enchanting_shop_buy",title:"Enchants Assortment",description:Kl,messages:["Hmm?"],options:function(){return[xs(st.enchanting,150,{isVisible:()=>u.get().townCraftingStations.enchanting===!1}),M(this,p.enchanting_shop)]},getShopItems:function(){return[P(l.enchant_minor_health,500),P(l.enchant_minor_strength,500),P(l.enchant_minor_dexterity,500),P(l.enchant_minor_intelligence,500),P(l.diagram_enchant_minor_health,1e3),P(l.diagram_enchant_minor_strength,1e3),P(l.diagram_enchant_minor_dexterity,1e3),P(l.diagram_enchant_minor_intelligence,1e3),P(l.book_enchanting,500)]}}),enchanting_shop_crafting:is({craftingSlug:st.enchanting})}},h_=function(){return{woodworking_shop:x({slug:"woodworking_shop",title:"Splinta's Woodcrafts",description:"Kind-looking woman walks around the shop.",options:function(){return[L(p.woodworking_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),Rt({slug:"woodworking_shop_free_stuff",title:"Ask about free equipment",class:"enter",getIcon:()=>H("talk"),isVisible:()=>!u.get().variables.free_stuff_completed,action:()=>Re(p.woodworking_shop_free_stuff)}),os({craftingSlug:st.woodworking}),M(this,p.craftsman_district)]}}),woodworking_shop_buy:Pn({slug:"woodworking_shop_buy",title:"Splinta's Woodcrafts' Assortment",description:"Her kind look leaves no pressure on you.",messages:["Anything you fancy?"],options:function(){return[M(this,p.woodworking_shop)]},getShopItems:function(){return[P(l.wood,5),P(l.novice_staff,1500),P(l.hunting_bow,1500),P(l.diagram_training_sword,1),P(l.diagram_wooden_shield,1),P(l.diagram_wooden_armguard,1),P(l.diagram_novice_staff,500),P(l.diagram_hunting_bow,500),P(l.book_woodworking,500)]}}),woodworking_shop_crafting:is({craftingSlug:st.woodworking}),woodworking_shop_free_stuff:x({slug:"woodworking_shop_free_stuff",title:"Splinta's Woodcrafts",description:"A hint of compassion can be seen in her eyes.",messages:["No, I will not give you any equipment for free.","However, here are diagrams for a training sword and a wooden shield.","To make them, you will need to gather some wood and have appropriate crafting station, you can use mine in the shop, free of charge."],onEntry:function(){u.get().variables.free_stuff_completed=!0,k.add(l.diagram_training_sword,1),k.add(l.diagram_wooden_shield,1),k.add(l.diagram_wooden_armguard,1)},options:function(){return[L(p.woodworking_shop_free_stuff_thanks,{title:"Thank you!"}),M(this,p.woodworking_shop)]}}),woodworking_shop_free_stuff_thanks:x({slug:"woodworking_shop_free_stuff_thanks",title:"Splinta's Woodcrafts",description:"A hint of compassion can be seen in her eyes.",messages:["No worries, while most don't remember, or are too prideful to, we all started where you are right now.","Good luck on your journey and stay safe. There is no shame in retreat, you can always try again as long as you survive."],options:function(){return[L(p.woodworking_shop_free_stuff_wood,{title:"Um... where do I get wood?"}),M(this,p.woodworking_shop)]}}),woodworking_shop_free_stuff_wood:x({slug:"woodworking_shop_free_stuff_wood",title:"Splinta's Woodcrafts",description:"She can barely hold in her laugh.",messages:["Hah, you are a funny one, are you not?","In the woods obviously, silly!","Just go in, stay away from the wildlife and cut down some trees.","Or you can buy some from me, but we probably wouldn't be having this conversation if you had the money to do that, right?","Come back when you have the wood. Remember, you need the tools here.","Now go, no time to idle!"],options:function(){return[M(this,p.woodworking_shop)]}})}},y_=function(){return{alchemy_shop:x({slug:"alchemy_shop",title:"Crakon's Potions",description:"An old man is seen tinkering with flasks.",options:function(){return[L(p.alchemy_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.alchemy}),M(this,p.craftsman_district)]}}),alchemy_shop_buy:Pn({slug:"alchemy_shop_buy",title:"Crakon's Potions Assortment",description:"Barely pays you any attention",messages:["Hmm?"],options:function(){return[xs(st.alchemy,150,{isVisible:()=>u.get().townCraftingStations.alchemy===!1}),M(this,p.alchemy_shop)]},getShopItems:function(){return[P(l.antidote,70),P(l.enchanted_water,70),P(l.minor_healing_potion,100),P(l.healing_potion,500),P(l.minor_mana_potion,200),P(l.mana_potion,1e3),P(l.diagram_bone_dust,200),P(l.diagram_antidote,150),P(l.diagram_enchanted_water,150),P(l.diagram_minor_healing_potion,1e3),P(l.diagram_healing_potion,5e3),P(l.diagram_minor_mana_potion,2e3),P(l.diagram_mana_potion,1e4),P(l.book_alchemy,500)]}}),alchemy_shop_crafting:is({craftingSlug:st.alchemy})}},v_=function(){return{scrollcrafting_shop:x({slug:"scrollcrafting_shop",title:"Zuris' Scrolls",description:"Middle-aged man with an arrogant look stand near the shelves containing precious scrolls.",options:function(){return[L(p.scrollcrafting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.scrollcrafting}),M(this,p.craftsman_district)]}}),scrollcrafting_shop_buy:Pn({slug:"scrollcrafting_shop_buy",title:"Zuris' Scrolls Assortment",description:"Suspects you of not having money to afford these.",messages:["I hope you are here to buy and not just to look."],options:function(){return[xs(st.scrollcrafting,150,{isVisible:()=>u.get().townCraftingStations.scrollcrafting===!1}),M(this,p.scrollcrafting_shop)]},getShopItems:function(){return[P(l.scroll_of_arcane_bolt,100),P(l.scroll_of_fire_arrow,100),P(l.scroll_of_water_splash,100),P(l.scroll_of_stone_bullet,100),P(l.scroll_of_wind_blast,100),P(l.book_scrollcrafting,500)]}}),scrollcrafting_shop_crafting:is({craftingSlug:st.scrollcrafting})}},k_=function(){return[L(p.leatherworking_shop_pristine_pelt,{title:"Show him the Pristine Bear Pelt",isVisible:()=>!u.get().variables.leatherworking_pristine_pelt_quest_finished&&k.getInventoryItemQuantity(l.pristine_bear_pelt)>=1}),L(p.leatherworking_shop_pristine_pelt_pickup_cloak,{title:"Pick up the Bear Cloak",isVisible:()=>u.get().variables.leatherworking_shop_bear_cloak_available})]},w_=function(){return{leatherworking_shop_pristine_pelt:x({slug:"leatherworking_shop_pristine_pelt",title:"Leathers",description:"",messages:["Oh, that's quite the piece you've got there!","It should make a vey nice cloak. If you bring me two pieces, I will make the cloak for you. One of the pelts for the cloak itself, and the other one as a payment.","I could also just give you the diagram for you to make it yourself. I am quite curious about the result, so it will be free of charge.","However, I would greatly appreciate if you could get a pelt for me as well. I really like it."],options:function(){return[Rt({slug:"leatherworking_shop_pristine_pelt_help",title:"Have him make it for you",class:"enter",isVisible:function(){return k.getInventoryItemQuantity(l.pristine_bear_pelt)>=2},action:function(){k.remove(k.getInventoryItem(l.pristine_bear_pelt),2),Re(p.leatherworking_shop_pristine_pelt_craft)}}),L(p.leatherworking_shop_pristine_pelt_diagram,{title:"Make it yourself"}),M(this,p.leatherworking_shop,{title:"Come back later"})]}}),leatherworking_shop_pristine_pelt_diagram:x({slug:"leatherworking_shop_pristine_pelt_diagram",title:"Leathers",description:"",messages:["Here you go!","I am looking forward to what you make!"],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{k.add(l.diagram_bear_cloak,1),u.get().variables.leatherworking_pristine_pelt_quest_finished=!0}}),leatherworking_shop_pristine_pelt_craft:x({slug:"leatherworking_shop_pristine_pelt_craft",title:"Leathers",description:"",messages:["Thanks for the pelt!","Come back in about three days, I should have the cloak ready for you by then."],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{$r.schedule(Dr.leatherworking_shop_bear_cloak_available,3),u.get().variables.leatherworking_pristine_pelt_quest_finished=!0}}),leatherworking_shop_pristine_pelt_pickup_cloak:x({slug:"leatherworking_shop_pristine_pelt_pickup_cloak",title:"Leathers",description:"",messages:["I've got it ready for you!","It was really fun to make and the result is pretty neat, thanks again for getting an extra pelt for me.","Here's the cloak, and here are some extras: the diagram to make it if you ever need more of them and some leatherworking manuals to improve your skills!"],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{k.add(l.diagram_bear_cloak,1),k.add(l.book_leatherworking,5),k.add(l.bear_cloak,1),u.get().variables.leatherworking_shop_bear_cloak_available=!1}})}},Gl="Full of stands outfitted with leather armor.",b_=function(){return{leatherworking_shop:x({slug:"leatherworking_shop",title:"Leo's Tannery",description:Gl,options:function(){return[L(p.leatherworking_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.leatherworking}),...k_(),M(this,p.craftsman_district)]}}),leatherworking_shop_buy:Pn({slug:"leatherworking_shop_buy",title:"Leo's Tannery Assortment",description:Gl,messages:["Hmm?"],options:function(){return[xs(st.leatherworking,150,{isVisible:()=>u.get().townCraftingStations.leatherworking===!1}),M(this,p.leatherworking_shop)]},getShopItems:function(){return[P(l.raw_hide,20),P(l.leather,110),P(l.leather_hat,600),P(l.leather_shoes,800),P(l.leather_armor,1200),P(l.diagram_leather,200),P(l.diagram_leather_hat,300),P(l.diagram_leather_shoes,300),P(l.diagram_leather_armor,500),P(l.book_leatherworking,500)]}}),leatherworking_shop_crafting:is({craftingSlug:st.leatherworking}),...w_()}},E_=function(){return{jewelcrafting_shop:x({slug:"jewelcrafting_shop",title:"Silver's Trinkets",description:"Beautiful young lady is busy tinkering with delicate tools.",options:function(){return[L(p.jewelcrafting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),os({craftingSlug:st.jewelcrafting}),M(this,p.craftsman_district)]}}),jewelcrafting_shop_buy:Pn({slug:"jewelcrafting_shop_buy",title:"Accessories Assortment",description:"An illusion of golden sheen can be seen in her eyes.",messages:["Anything you fancy?"],options:function(){return[xs(st.jewelcrafting,150,{isVisible:()=>u.get().townCraftingStations.jewelcrafting===!1}),M(this,p.jewelcrafting_shop)]},getShopItems:function(){return[P(l.diagram_iron_ring,250),P(l.diagram_iron_earring,250),P(l.diagram_wolf_fang_amulet,500),P(l.book_jewelcrafting,500)]}}),jewelcrafting_shop_crafting:is({craftingSlug:st.jewelcrafting})}},I_=function(){return{craftsman_district:x({slug:"craftsman_district",title:"Craftsman district",getDescription:function(){return Je.isNight()?"Workshops everywhere you look, but they are all closed for the night":"Workshops everywhere you look"},options:function(){return Je.isNight()?[M(this,p.city)]:[L(p.blacksmithing_shop,{getIcon:()=>H("blacksmithing")}),L(p.tailoring_shop,{getIcon:()=>H("tailoring")}),L(p.enchanting_shop,{getIcon:()=>H("enchanting")}),L(p.woodworking_shop,{getIcon:()=>H("woodworking")}),L(p.alchemy_shop,{getIcon:()=>H("alchemy")}),L(p.scrollcrafting_shop,{getIcon:()=>H("scrollcrafting")}),L(p.leatherworking_shop,{getIcon:()=>H("leatherworking")}),L(p.jewelcrafting_shop,{getIcon:()=>H("jewelcrafting")}),M(this,p.city)]}}),...m_(),...p_(),...__(),...h_(),...y_(),...v_(),...b_(),...E_()}},Ln={running:function(){return u.get().activeQuestSelecting},start:function(){u.get().activeQuestSelecting=!0},stop:function(){u.get().activeQuestSelecting=!1},getAvailableQuests:function(){return Ln.filter(et.getAvailableQuests())},filter:function(e){const t=u.get().questSelectingRank;return e.filter(n=>t==="none"?et.rankUnlocked(n.rank):n.rank===t)},setFilter:function(e){u.get().questSelectingRank=e},getFilter:function(){return u.get().questSelectingRank}},S_=function(){const e=u.get();return[L(p.kathryn_first_meeting_bar,{title:"Talk to Kathryn",getIcon:()=>H("talk"),isVisible:()=>e.tower_variables.kathryn_first_meeting_completed&&!e.tower_variables.kathryn_first_meeting_bar_completed})]},x_=function(e,t){return{kathryn_first_meeting_bar:x({slug:"kathryn_first_meeting_bar",title:e,description:t,messagesTitle:be.kathryn.name,messages:["If it isn't our new traveler!","Good to see you again!"],options:function(){return[L(p.kathryn_first_meeting_bar_2,{title:"Likewise, so what can you tell me about the tower?"})]}}),kathryn_first_meeting_bar_2:x({slug:"kathryn_first_meeting_bar_2",title:e,description:t,messagesTitle:be.kathryn.name,messages:["Yes, of course!","Which floor did you fight that monstrosity?"],options:function(){return[L(p.kathryn_first_meeting_bar_3,{title:"What do you mean?"})]}}),kathryn_first_meeting_bar_3:x({slug:"kathryn_first_meeting_bar_3",title:e,description:t,messagesTitle:be.kathryn.name,messages:["The shadow, of course!","Before the tower presents the blessing, you have to beat the Kacadu's Shadow, we just call it the 'Shadow'.","The first time it appears is different for everybody. That thing is much stronger than your normal floor guardian, so imagine fighting it on like... the first floor. That would be absolutely bonkers!"],options:function(){return[L(p.kathryn_first_meeting_bar_4,{title:"Yeah, it was pretty rough"})]}}),kathryn_first_meeting_bar_4:x({slug:"kathryn_first_meeting_bar_4",title:e,description:t,messagesTitle:be.kathryn.name,messages:["*Kathryn blinks several times, seemingly surprised*","Eh, what do you mean?"],options:function(){return[L(p.kathryn_first_meeting_bar_5,{title:"I mean it was pretty bonkers fighting it on the first floor"})]}}),kathryn_first_meeting_bar_5:x({slug:"kathryn_first_meeting_bar_5",title:e,description:t,messagesTitle:be.kathryn.name,messages:["WHAT?!","Damn... and I thought I was special by fighting it on the tenth floor...","You see, we think that the tower presents the Shadow as a test for those with potential. If the candidate beats the shadow, they are nurtured by the tower by providing them with a blessing.","After accepting the first blessing, the shadow appears more predictably. Usually every 5th floor.","Which means the sooner your first fight, the more blessings you can theoretically get, as the shadow does not appear on floors lower than your first encounter.","Anyway, I am not too into explaining the boring details. Talk to Jake here if you want to learn more. It's his job, after all. It was nice to meet you and I wish you good luck with the climbing. I hope we meet again!"],options:function(){return[Rt({title:"Sure",class:"enter",action:()=>{const n=u.get();n.tower_variables.kathryn_first_meeting_bar_completed=!0,ee.commonMessage("Journal entry added (Travelers - Jake)"),Re(p.adventurers_guild_bar)}})]}})}},M_=function(){const e=u.get();return[L(p.jake_info,{title:"Talk to Jake",getIcon:()=>H("talk"),isVisible:()=>e.tower_variables.kathryn_first_meeting_bar_completed})]},R_=function(e,t){return{jake_info:x({slug:"jake_info",title:e,description:t,messagesTitle:be.jake.name,messages:["What do you want to know?"],options:function(){return[L(p.jake_info_shadow,{title:"Shadow"}),L(p.jake_info_blessing,{title:"Blessings"}),L(p.jake_info_travelers,{title:"Travelers"}),M(this,p.adventurers_guild_bar,{simple:!0})]}}),jake_info_shadow:x({slug:"jake_info_shadow",title:e,description:t,messagesTitle:be.jake.name,messages:["Kacadu's Shadow, the Examiner. Or as we simply call it, the 'Shadow'","It takes on multiple forms and it seems to be some kind of examiner. Beating it grants you a blessing.","The first encounter with Shadow is not guaranteed. We believe that the more potential you have, the sooner you meet the Shadow.","How the potential is calculated, we have no idea. Some great warriors have never met the Shadow while others, not so prominent, met the Shadow relatively early.","The fight with Shadow is also harder and more complex than with a normal floor guardian.","From what we know, it appear every 5th floor from the floor of first appearance. It also does not appear on floor lower than the first encounter. This makes it so the earlier you meet it, the more chances to get blessings you get.","Also, Shadow may take on different forms depending on the floor you fight it, it also grows stronger the higher you go."],options:function(){return[M(this,p.jake_info,{simple:!0})]}}),jake_info_blessing:x({slug:"jake_info_blessing",title:e,description:t,messagesTitle:be.jake.name,messages:["When you defeat the Shadow, the Tower grants you a blessing. We have no idea how it works, but after accepting it, you go 'back' in time, retaining all your memories and previous blessings.","The blessings and their power vary depending on the floor and person. One notable blessing is the Heirloom Blessing. It's a blessing that allows you to carry an equipment piece of your choice through the 'rebirth' process.","This is very useful as it seems that equipment grows more powerful the more you use it. Making it an Heirloom makes this progress permanent. This blessing is the one constant thing in the tower. It is always available, but is limited in its power. An Heirloom Blessing from the 10th floor will not be applicable to a weapon crafted from materials from the 11th floor, for example.","That's pretty much it about the blessings. The Tower does a pretty good job explaining each blessing when you choose them."],options:function(){return[M(this,p.jake_info,{simple:!0})]}}),jake_info_travelers:x({slug:"jake_info_travelers",title:e,description:t,messagesTitle:be.jake.name,messages:["People who have accepted a blessing are called travelers. Some normal people are aware we exist, some not. We usually don't bother explaining things to them, because they won't remember it after we accept another blessing. But it is not a secret.","As we found out, you don't really go back in time. We don't understand the details, but it is more akin moving to a parallel world, to that certain time. Which is also why we travelers remember each other after accepting blessings.","While is is 'akin moving to a parallel world', we actually have no idea what is happening, probably some kind of magic. That is because it seems like we travelers exist in all the 'parallel worlds' at the same time.","It is difficult to explain so let me give you an example. If we agree to meet tomorrow and you 'rebirth' today, we will still be in the same world tomorrow and we will be able to meet, despite you accepting a blessing.","And lastly... we have no idea whether a body is created for us, or whether we take over the one of ourselves within this 'parallel world'. We also don't really like to bring it up, it is the way it is and we can't do much about it."],options:function(){return[M(this,p.jake_info,{simple:!0})]}})}},Vl="Adventurers' Guild",jl="Whether you are looking for a job or a drink, you are at the right place.",T_=function(){return{adventurers_guild:x({slug:"adventurers_guild",title:"Adventurers' Guild",description:"Whether you are looking for a job or a drink, you are at the right place.",options:function(){return[L(p.adventurers_guild_reception,{title:"Reception",getIcon:()=>H("reception")}),L(p.adventurers_guild_quest_board,{title:"Check job board",getIcon:()=>H("job_board")}),L(p.adventurers_guild_bar,{title:"Sit by the Bar",getIcon:()=>H("tavern")}),M(this,p.city)]}}),adventurers_guild_quest_board:x({slug:"adventurers_guild_quest_board",title:"Job board",description:"A large wooden board with requests pinned up.",options:function(){return[M(this,p.adventurers_guild)]},onEntry:()=>Ln.start(),onLeave:()=>Ln.stop()}),adventurers_guild_reception:x({slug:"adventurers_guild_reception",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["How may I serve you?"],options:function(){return[L(p.adventurers_guild_finish_quests,{title:"Finish job requests",getIcon:()=>H("reception")}),M(this,p.adventurers_guild)]}}),adventurers_guild_finish_quests:x({slug:"adventurers_guild_finish_quests",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["Which request would you like to turn in?"],options:function(){return[M(this,p.adventurers_guild)]},onEntry:()=>yo.start(),onLeave:()=>yo.stop()}),adventurers_guild_finished_quest:x({slug:"adventurers_guild_finished_quest",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["Thank you very much, here is your reward!"],options:function(){return[M(this,p.adventurers_guild_finish_quests,{simple:!0})]}}),...x_(Vl,jl),...R_(Vl,jl),adventurers_guild_bar:x({slug:"adventurers_guild_bar",title:"Bar",description:"A fat man stands behind the bar",messages:["What will it be?"],options:function(){return[L(p.adventurers_guild_bar_buy,{title:"Buy",class:"buy",getIcon:()=>H("buy")}),...S_(),...M_(),M(this,p.adventurers_guild)]}}),adventurers_guild_bar_buy:Pn({slug:"adventurers_guild_bar_buy",title:"Bar",description:"A fat man stands behind the bar",messages:["We serve only the best food and drinks!"],options:function(){return[M(this,p.adventurers_guild_bar,{simple:!0})]},getShopItems:function(){return[P(l.water,10),P(l.dry_bread,5),P(l.cooked_meat,20),P(l.book_cooking,500)]}})}},D_=function(){return{training_grounds:x({slug:"training_grounds",title:"Training grounds",description:"Where the useless become less useless (hopefully)",options:function(){return[L(p.training_grounds_info,{title:"Check the information board",getIcon:()=>H("question_mark")}),L(p.training_grounds_training,{title:"Training",getIcon:()=>H("fight")}),M(this,p.city)]}}),training_grounds_training:x({slug:"training_grounds_training",title:"Training grounds",description:"The field is full of unmoving training dummies.",options:function(){return[Ge(p.training_grounds_fight,{title:"Train with Dummies"}),Ge(p.training_grounds_fight_endless,{title:"Trail until you drop",isVisible:()=>u.get().variables.training_grounds_fight_completed}),M(this,p.training_grounds,{simple:!0})]}}),training_grounds_fight:x({slug:"training_grounds_fight",title:"Training grounds",description:"The field is full of unmoving training dummies.",messages:["They fight back!"],onEntry:()=>A.start(Ae.training_grounds),onLeave:()=>A.stop(),options:function(){return[M(this,p.training_grounds,{simple:!0})]}}),training_grounds_fight_endless:x({slug:"training_grounds_fight_endless",title:"Training grounds",description:"The field is full of unmoving training dummies.",messages:["They fight back!"],options:function(){return[M(this,p.training_grounds)]},onEntry:()=>A.start(Ae.training_grounds_endless),onLeave:()=>A.stop()}),training_grounds_fight_finished:x({slug:"training_grounds_fight_finished",title:"Training grounds",description:"That was a good session!",options:function(){return[M(this,p.training_grounds,{simple:!0})]}}),training_grounds_info:x({slug:"training_grounds_info",title:"Information board",description:"Most common inquiries are pinned here.",options:function(){return[L(p.training_grounds_info_tower,{title:"The Tower"}),L(p.training_grounds_info_power,{title:"Getting stronger"}),L(p.training_grounds_info_equipment,{title:"Acquiring equipment"}),L(p.training_grounds_info_money,{title:"Making money"}),L(p.training_grounds_info_cards,{title:"Cards"}),L(p.training_grounds_info_enchants,{title:"Enchants"}),L(p.training_grounds_info_magic,{title:"Magic"}),M(this,p.training_grounds)]}}),training_grounds_info_power:x({slug:"training_grounds_info_power",title:"Information board",description:"Most common inquiries are pinned here.",messages:["Train!","Simply do stuff, you will get better at what you are doing.","The most straightforward is to fight enemies.","You can start with the dummies here or if you are felling confident, you can try the nearby woods.","Getting some equipment is not a bad idea either."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_equipment:x({slug:"training_grounds_info_equipment",title:"Information board",description:"Most common inquiries are pinned here.",messages:["If you have the money, you can definitely grab something in the craftsman district.","If you do not have money... well, tough luck!","You can make something yourself, but you would have to be proficient in crafting first. And you would also need to have the proper crafting station.","The masters in crafting district might help you with that, either if they like you or you pay them.","While this might sound weird... since the tower appeared, people noticed forming strange attachment to the equipment they use the most, as if the equipment grows the more they use them or something..."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_money:x({slug:"training_grounds_info_money",title:"Information board",description:"Most common inquiries are pinned here.",messages:["The best way to get money is to visit the Adventurers' Guild!","Every few days people around the city post their requests there.","You simply gather the items requested and then hand it over at the Reception in the Guild.","The Guild handles everything. They inspect the goods you provide to ensure high quality and save the requester's time.","Don't go directly to the requester, they will just turn you down...."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_tower:x({slug:"training_grounds_info_tower",title:"Information board",description:"Most common inquiries are pinned here.",messages:["The Tower!","That's the reason we are all here, after all!","Everyone is free to enter as they please, no requirements!","The recommendation is to get properly geared before thinking about it, though. Otherwise you might meet an early demise!","You should spend ample time in the Training Ground and the nearby woods, first."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_cards:x({slug:"training_grounds_info_cards",title:"Information board",description:"Most common inquiries are pinned here.",messages:["Cards are items that can be very rarely obtained from enemies.","It is said that every creature in the world may manifest a card and that every card is different.","When you obtain a card of specific creature for the very first time, it is as if you have learned everything there is about the creature.","Not only that, but the cards can also be used on your equipment to enchant them with special effects.","In short, cards are good, great even."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_enchants:x({slug:"training_grounds_info_enchants",title:"Information board",description:"Most common inquiries are pinned here.",messages:["By attempting to mimic the properties of cards, enchants were created.","Only some card effects were able to be replicated, and their efficiency was much lower than the cards themselves.","However, they are much easier to craft than getting a card, so they are a cheap alternative, at least until you get lucky with a card."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_magic:x({slug:"training_grounds_info_magic",title:"Information board",description:"Most common inquiries are pinned here.",messages:["While most people love money and are attracted by the profits possible only by climbing the tower, there are those who have no interest in worldly possessions.","For those the tower also has an answer: magic! The first delvers found huge runestones on some of the floors. After further study they realized those runestones held secrets of actual magic!","Each runestone explains the secrets of using magic, specifically a single spell. After studying it completely, one can produce spell scrolls. Scrolls are a consumable item that allows one to cast the spell once. Anyone can use scrolls, but only those who studied the runestone can make them.","There is also the art of rune carving. You may, very rarely, find pieces of blank runestones in the tower. Someone with the spell knowledge and enough proficiency in rune carving may carve the spell into the rune.","Spell runes are permanent catalyst used to cast the carved spell. They are basically a permanent scroll. Although they come with some disadvantages.","First, they can only be used by the carver, seems like some kind of link is made when the carving happens.","Second, they are quite difficult to handle. It's hard to explain, but people can usually only activate one or two runes at the same time.","Third, they usually require more mana to use, the reason for that is unknown.","They do come with two huge advantages though - they are permanent and they grow in power the more you use them.","The main problem of runestones is that if you want to use them, you have to make them. If you want to make them, you need to practice on weaker spells first. And nobody else can use the products of your practice. Which makes the learning process extremely expensive.","Therefore, not many people use runes, most just stick to scrolls. While expensive, it's less expensive than learning rune carving. And you also don't need to study the runestones themselves.","However, those who do use runes are... powerful. So powerful some people avoid them out of fear."],options:function(){return[M(this,p.training_grounds_info,{})]}})}},bo=function(e,t){return Rt({slug:"copy_"+e.slug,title:"Copy down the unfamiliar runes",class:"copy",action:function(){k.add(e,1)},isVisible:t==null?void 0:t.isVisible})},ho={maxRank:wo.length-1,add:function(e){const t=u.get();if(t.runes.availableSlots===0){ee.commonMessage("No slot available.","c-danger");return}let n=null;for(let s=0;s<t.runes.availableSlots;s++)if(t.runes.slots[s]===null){n=s;break}n===null&&ho.remove(t.runes.slots[0]),t.runes.slots[n||0]=e.id,fe.applyEquipEffects(e),e.isEquipped=!0,kt.stop(),V()},remove:function(e){const t=u.get(),n=k.getInventoryItemById(e);for(let s=0;s<t.runes.maxSlots;s++)if(t.runes.slots[s]!==null&&t.runes.slots[s]===n.id){t.runes.slots[s]=null,fe.removeEquipEffects(n),n.isEquipped=!1;break}},gainExp:function(e,t){fe.gainExp(e,t)},getRunes:function(){return u.get().runes.slots.filter(e=>e!==null).map(e=>k.getInventoryItemById(e))}},$_=["innerHTML"],H_={class:"descriptions"},P_=["innerHTML"],C_=["innerHTML"],Qr={__name:"InfoBlessingTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(b).props.title},null,8,$_),g("div",H_,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,P_)):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:1,class:"description",innerHTML:r(b).props.descriptions.type},null,8,C_)):R("",!0)])],64))}},pu=function(e){return{type:"blessing_heirloom",slug:e.slug,name:e.name,powerLevelLimit:e.powerLevelLimit,getEffects:()=>[],getIcon:e.getIcon||function(){return H("blessing_heirloom")},action:e.action||function(t){ce.registerHeirloom(t),ce.rebirth()},getTooltipProps:e.getTooltipProps||function(){return{component:pe(Qr),powerLevelLimit:this.powerLevelLimit,title:this.name,descriptions:{description:"Accepting an Heirloom Blessing allows you to choose a piece of equipment to turn into an Heirloom.<br><br>Heirlooms are permanent, and so is their progress. Neither are lost on rebirth - that includes enchantments, experience, ranks and whether they are awakened or not.<br><br>More powerful items might require Heirloom Blessing from a higher floor in order to become an Heirloom.",type:"Blessing"}}}}},A_=["innerHTML"],B_={class:"descriptions"},q_=["innerHTML"],U_={key:1,class:"description effects"},F_=["innerHTML"],L_=["innerHTML"],O_={__name:"StatBlessingTooltip",setup(e){return(t,n)=>{var s;return d(),m(B,null,[g("div",{class:"title",innerHTML:r(b).props.title},null,8,A_),g("div",B_,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,q_)):R("",!0),(s=r(b).props.descriptions.effects)!=null&&s.length?(d(),m("div",U_,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,o=>(d(),m("div",{innerHTML:o},null,8,F_))),256))])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:2,class:"description",innerHTML:r(b).props.descriptions.type},null,8,L_)):R("",!0)])],64)}}},fr=function(e){return{type:"blessing_stat",slug:e.slug,name:e.name,description:e.description,limit:e.limit||1,getEffects:e.getEffects||function(){},getIcon:e.getIcon||function(){},action:function(){var t;ce.canTakeBonus(this.slug,this.limit)&&((t=e==null?void 0:e.action)==null||t.call(e),ce.incrementTakenBonusesCount(this.slug),ce.rebirth())},getTooltipProps:e.getTooltipProps||function(){return{component:pe(O_),title:this.name,descriptions:{description:this.description,effects:this.getEffectDescriptions(),type:"Blessing"}}},getEffectDescriptions:function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},W_=function(){return{heirloom_1:pu({slug:"heirloom_1",name:"Heirloom Blessing",powerLevelLimit:1}),fortitude_1:fr({slug:"fortitude_1",name:"Blessing of Fortitude",description:"Those who live are those who climb.",limit:1,getIcon:()=>H("blessing_fortitude"),getEffects:()=>[i.createMaxHp(100),i.createDr(4)]}),power_1:fr({slug:"power_1",name:"Blessing of Power",description:"Those who kill in one strike are undefeated.",limit:1,getIcon:()=>H("blessing_power"),getEffects:()=>[i.createStr(10),i.createDex(40)]}),magic_1:fr({slug:"magic_1",name:"Blessing of Magic",description:"Those who master the arcane are the ones closest to the gods.",limit:1,getIcon:()=>H("blessing_magic"),getEffects:()=>[i.createInt(6),i.createMaxMp(30)]}),charisma_1:fr({slug:"charisma_1",name:"Blessing of Charisma",description:"Those who are backed by many become kings.",limit:1,getIcon:()=>H("blessing_charisma"),getEffects:()=>[i.createStartingReputation(et.rankReputationMapping.F)],action:()=>{ce.setStartingReputation(et.rankReputationMapping.F)}})}},K_=function(e){return{type:"blessing_workshop",slug:e.slug,name:e.name,description:e.description,limit:1,getIcon:e.getIcon||function(){return H("blessing_workshop")},action:function(){var t;ce.canTakeBonus(this.slug,this.limit)&&((t=e==null?void 0:e.action)==null||t.call(e),ce.incrementTakenBonusesCount(this.slug),ce.rebirth())},getTooltipProps:e.getTooltipProps||function(){return{component:pe(Qr),title:this.name,descriptions:{description:"Accepting a Workshop Blessing unlocks permanent crafting stations in your home's Workshop.<br><br>That means that upon rebirth you will no longer need to purchase access and all crafting stations will be in the same place - your home's Workshop.",type:"Blessing"}}},getEffects:e.getEffects||function(){return[]}}},G_=function(e){return{type:"blessing_rank",slug:e.slug,name:e.name,description:e.description,limit:1,getIcon:e.getIcon||function(){return H("blessing_rank")},action:function(){var t;ce.canTakeBonus(this.slug,this.limit)&&((t=e==null?void 0:e.action)==null||t.call(e),ce.incrementTakenBonusesCount(this.slug),ce.rebirth())},getTooltipProps:e.getTooltipProps||function(){return{component:pe(Qr),title:this.name,descriptions:{description:"Accepting a Rank blessing will permanently increase your Rank.<br><br> Your Rank increases the amount of stats you gain each level by +100% of the base value.<br><br> It also increases the experience required to level up (the bonus outweighs the requirement increase).",type:"Blessing"}}},getEffects:e.getEffects||function(){return[]}}},V_=function(e){return{type:"blessing_rune",slug:e.slug,name:e.name,description:e.description,limit:1,getIcon:e.getIcon||function(){return H("blessing_rune")},action:function(){var t;ce.canTakeBonus(this.slug,this.limit)&&((t=e==null?void 0:e.action)==null||t.call(e),ce.incrementTakenBonusesCount(this.slug),ce.rebirth())},getTooltipProps:e.getTooltipProps||function(){return{component:pe(Qr),title:this.name,descriptions:{description:"Accepting a Rune Blessing unlocks permanent rune slot.<br><br>Having more rune slots means being able to equip more runes at the same time.",type:"Blessing"}}},getEffects:e.getEffects||function(){return[]}}},j_=function(){return{heirloom_5:pu({slug:"heirloom_5",name:"Heirloom Blessing",powerLevelLimit:5}),workshop_5:K_({slug:"workshop_5",name:"Workshop Blessing",description:"Unlocks all crafting stations in Workshop.",action:()=>{ce.unlockWorkshopStations()}}),rank_5:G_({slug:"rank_5",name:"Rank Blessing",description:"Increases your Rank.",action:()=>{ce.increaseRank()}}),rune_5:V_({slug:"rune_5",name:"Rune Blessing",description:"Unlock a Rune Slot.",action:()=>{ce.increaseRuneSlots()}})}},zt={...W_(),...j_()},ce={running:function(){return!!u.get().activeRebirth},start:function(e){const t=u.get();t.activeRebirth=!0,t.rebirthBlessings=e.map(n=>n.slug)},stop:function(){u.get().activeRebirth=null},getBlessings:function(){const e=u.get();return e.rebirthBlessings.map(t=>zt[t]).filter(t=>t.type==="blessing_heirloom"||t.limit>(e.rebirth.takenBonusesCount[t.slug]??0))},rebirth:function(){const e=ce.prepareNewState();ce.copyPermanentInventoryItems(e),ce.unEquipOldInventoryItems(),u.replaceState(e),u.resolveNewGameState(),ce.reEquipPreviouslyEquippedHeirlooms(e),ce.applyRankBonus(),ce.applyReputationBonus(),ce.applySkillRankBonuses(),ce.applyCraftingStationUnlocks(),ce.applyRuneUnlocks(),u.applyStatModifiers(),ce.healPlayer(),tt.rebirth()},prepareNewState:function(){const e=u.get(),t=u.createCleanState();return t.rebirth=e.rebirth,t.bestiary=e.bestiary,t.achievements=e.achievements,t.statistics=e.statistics,t.titles=e.titles,t.title=e.title,t.learnedSkills=e.learnedSkills,t.learnedCraftingRecipes=e.learnedCraftingRecipes,t.tower_variables=e.tower_variables,t.migration=e.migration,t},copyPermanentInventoryItems:function(e){e.inventory=ce.getPermanentInventoryItems().map(t=>{let n=structuredClone(We(t));return n.id=e.helpers.inventoryId++,n})},getPermanentInventoryItems:function(){return u.get().inventory.filter(e=>{const t=k.getItem(e);return t.slug===l.rune.slug||t.isCard||!e.isDeletable||e.isHeirloom})},unEquipOldInventoryItems:function(){const e=u.get();for(const t in e.equipment)e.equipment[t]&&fe.remove(e.equipment[t]);e.runes.slots.forEach(t=>{t!==null&&ho.remove(t)})},reEquipPreviouslyEquippedHeirlooms:function(e){e.inventory.forEach(t=>{if(t.isEquipped&&!k.getItem(t).isRune){fe.add(t);return}t.isEquipped&&ho.add(t)})},applyRankBonus:function(){const e=u.get();e.player.rank=e.rebirth.rank},applyReputationBonus:function(){const e=u.get();e.reputation=e.rebirth.reputation},applySkillRankBonuses:function(){const e=u.get(),t=e.rebirth.skillRanks;for(const n in t)e.skills[n].rank=t[n]},applyBlessingEffects:function(){const e=ce.getTakenBonusesCount();for(const t in e){const n=zt[t],s=e[t];n.getEffects().forEach(o=>{o.effect.up(u.get().player,o.value*s,n.slug,"blessing")})}},applyCraftingStationUnlocks:function(){const e=u.get();e.rebirth.unlockedWorkshopCraftingStations.forEach(t=>e.workshopCraftingStations[t]=!0)},applyRuneUnlocks:function(){const e=u.get();e.runes.availableSlots=e.rebirth.runes},healPlayer:function(){const e=u.get();e.player.hp=q.getMaxHp(),e.player.mp=q.getMaxMp()},getTakenBonusesCount:function(){return u.get().rebirth.takenBonusesCount},getTakenBonusCount:function(e){const t=u.get();return t.rebirth.takenBonusesCount[e]===void 0?0:t.rebirth.takenBonusesCount[e]},canTakeBonus:function(e,t){const n=u.get();return t===0?!0:n.rebirth.takenBonusesCount[e]===void 0||n.rebirth.takenBonusesCount[e]<t},incrementTakenBonusesCount:function(e){const t=u.get();t.rebirth.takenBonusesCount[e]=t.rebirth.takenBonusesCount[e]===void 0?1:t.rebirth.takenBonusesCount[e]+1},getHeirloomEligibleInventoryItems:function(e){return k.getRaw().filter(n=>{const s=k.getItem(n);return s.isEquip&&s.powerLevel<=e&&!n.isHeirloom})},registerHeirloom:function(e){u.get().rebirth.heirloomIds.push(e.id),e.isHeirloom=!0},increaseRank:function(){const e=u.get();e.rebirth.rank<q.maxRank&&(e.rebirth.rank+=1)},setStartingReputation:function(e){const t=u.get();t.rebirth.reputation=e},increaseRuneSlots:function(){const e=u.get();e.rebirth.runes<e.runes.maxSlots&&(e.rebirth.runes+=1)},increaseSkillRank:function(e){const t=u.get();t.rebirth.skillRanks[e]<se.maxRank&&(t.rebirth.skillRanks[e]+=1)},unlockWorkshopStations:function(){const e=u.get(),t=e.workshopCraftingStations;Object.keys(t).forEach(n=>e.rebirth.unlockedWorkshopCraftingStations.push(n))}},N_=function(){return{rebirth_1:x({slug:"rebirth_1",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Just as you focus on the pillar, the runes flow out and fill the room.","A voice enters you mind:","You are worthy.","Choose a blessing and start over...","...or keep climbing."],options:function(){return[Rt({slug:"rebirth_choose",title:"Choose a blessing",action:()=>ce.start([zt.heirloom_1,zt.fortitude_1,zt.power_1,zt.magic_1,zt.charisma_1])}),M(this,p.floor1_cleared,{simple:!0})]},onLeave:()=>ce.stop()})}},Zo=function(e){return e=e??{},e.type="separator",e.class="separator",e.action=()=>{},{__proto__:Rt(e)}},Q_=function(){return{floor1:x({slug:"floor1",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Ge(p.floor1_fight1,{title:"Explore deeper"}),Ge(p.floor1_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor1_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor1_fight1:x({slug:"floor1_fight1",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>A.start(Ae.floor1_fight1),onLeave:()=>A.stop()}),floor1_fight1_endless:x({slug:"floor1_fight1_endless",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>A.start(Ae.floor1_fight1_endless),onLeave:()=>A.stop()}),floor1_fight1_clear:x({slug:"floor1_fight1_clear",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Spitting pieces of slime out of your mouth, your gaze falls on a huge door in front of you."],options:function(){return[L(p.floor1_boss_room,{title:"Open the door"}),M(this,p.floor1,{simple:!0})]}}),floor1_boss_room:x({slug:"floor1_boss_room",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Ge(p.floor1_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor1,{simple:!0})]}}),floor1_boss_fight:x({slug:"floor1_boss_fight",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>A.start(Ae.floor1_boss),onLeave:()=>A.stop()}),floor1_cleared:x({slug:"floor1_cleared",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Its body slowly melts away, in its place a pillar filled with runes.","A tiny rune appears on your arm - a rune of passage, allowing you to challenge the second floor.","Huge runestone stands at the back of the room."],options:function(){return[L(p.rebirth_1,{title:"Touch the pillar"}),L(p.floor1_read_runestone,{title:"Read the runestone"}),Zo(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor1_read_runestone:x({slug:"floor1_read_runestone",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["First of many.","Take your reward."],options:function(){return[bo(l.diagram_scroll_of_fire_arrow),M(this,p.floor1_cleared,{simple:!0})]}}),...N_()}},J_=function(){return{floor2:x({slug:"floor2",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Ge(p.floor2_fight1,{title:"Explore deeper"}),Ge(p.floor2_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor2_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor2_fight1:x({slug:"floor2_fight1",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>A.start(Ae.floor2_fight1),onLeave:()=>A.stop()}),floor2_fight1_endless:x({slug:"floor2_fight1_endless",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>A.start(Ae.floor2_fight1_endless),onLeave:()=>A.stop()}),floor2_fight1_clear:x({slug:"floor2_fight1_clear",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Filthy, you once again stand in front of the Guardian's door."],options:function(){return[L(p.floor2_boss_room,{title:"Open the door"}),M(this,p.floor2,{simple:!0})]}}),floor2_boss_room:x({slug:"floor2_boss_room",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Ge(p.floor2_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor2,{simple:!0})]}}),floor2_boss_fight:x({slug:"floor2_boss_fight",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>A.start(Ae.floor2_boss),onLeave:()=>A.stop()}),floor2_cleared:x({slug:"floor2_cleared",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the third floor."],options:function(){return[L(p.floor2_read_runestone,{title:"Read the runestone"}),Zo(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor2_read_runestone:x({slug:"floor2_read_runestone",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Second of many.","Take your reward."],options:function(){return[bo(l.diagram_scroll_of_water_splash),M(this,p.floor2_cleared,{simple:!0})]}})}},_u=function(){const e=u.get();return e.tower_variables.kathryn_first_meeting_bar_completed&&!e.tower_variables.kathryn_third_floor_secret_room_completed},Y_=function(){return[L(p.kathryn_third_floor_secret_room,{title:"Talk to Kathryn",getIcon:()=>H("talk"),isVisible:()=>_u()})]},z_=function(e,t){return{kathryn_third_floor_secret_room:x({slug:"kathryn_third_floor_secret_room",title:e,description:t,messagesTitle:be.kathryn.name,messages:["Just the person I needed!","Listen, I found a secret room just around the corner. My intuition is telling me it would be pretty stupid of me to go there alone.","So what do you say, are you in? We split the loot fair and square."],options:function(){return[L(p.kathryn_third_floor_secret_room_2,{title:"Sure, why not."}),M(this,p.floor3_fight1_clear,{title:"Not interested."})]}}),kathryn_third_floor_secret_room_2:x({slug:"kathryn_third_floor_secret_room_2",title:e,description:t,messagesTitle:be.kathryn.name,messages:["Awesome!","As you may have noticed, I am a sword and board kind of person, fighting with me will improve both your physical defense and offense. I have no interest in magic nonsense.","Prepare yourself for a fight and let me know when you are ready."],options:function(){return[Ge(p.kathryn_third_floor_secret_room_fight,{title:"I am ready."}),M(this,p.floor3_fight1_clear,{title:"I need some time."})]},onEntry:()=>{lt.instantlyApplyStatusEffectOnPlayer(_e.kathryn_novice_buff)},onLeave:()=>{lt.instantlyRemoveStatusEffectFromPlayer(_e.kathryn_novice_buff)}}),kathryn_third_floor_secret_room_fight:x({slug:"kathryn_third_floor_secret_room_fight",title:"Inside tower - Floor 3",description:"A simple room with a chest in the far back.",options:function(){return[M(this,p.floor3_fight1_clear,{simple:!0})]},onEntry:()=>{lt.instantlyApplyStatusEffectOnPlayer(_e.kathryn_novice_buff),A.start(Ae.floor3_secret_room)},onLeave:()=>{A.stop(),lt.instantlyRemoveStatusEffectFromPlayer(_e.kathryn_novice_buff)}}),kathryn_third_floor_secret_room_completed:x({slug:"kathryn_third_floor_secret_room_completed",title:"Inside tower - Floor 3",description:"A simple room with a chest in the far back.",messagesTitle:be.kathryn.name,messages:["That was rough! I sure am glad to have asked you for help. Let's see what we got here...","Hmm... seems like some diagrams. Here's your share - a quiver and a magic tome.","Well, that's all. Thanks for the help! Hope we do something like this again.","Bye!"],options:function(){return[M(this,p.floor3_fight1_clear,{simple:!0})]},onEntry:()=>{u.get().tower_variables.kathryn_third_floor_secret_room_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kathryn)"),k.add(l.diagram_quiver,1);let n=k.getInventoryItem(l.diagram_quiver);n.isDeletable=!1,k.add(l.diagram_novice_tome,1),n=k.getInventoryItem(l.diagram_novice_tome),n.isDeletable=!1}})}},To="Inside Tower - Floor 3",Do="A dark, dungeon-like space. Some strange creatures can be seen roaming around.",mr="Inside Tower - Floor 3, Guardian Room",pr="A large, circular room lit by standing candelabras.",X_=function(){return{...z_(To,Do),floor3:x({slug:"floor3",title:To,description:Do,options:function(){return[Ge(p.floor3_fight1,{title:"Explore deeper"}),Ge(p.floor3_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor3_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor3_fight1:x({slug:"floor3_fight1",title:To,description:Do,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>A.start(Ae.floor3_fight1),onLeave:()=>A.stop()}),floor3_fight1_endless:x({slug:"floor3_fight1_endless",title:To,description:Do,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>A.start(Ae.floor3_fight1_endless),onLeave:()=>A.stop()}),floor3_fight1_clear:x({slug:"floor3_fight1_clear",title:To,description:Do,getMessages:()=>{let e=["The now familiar gate stands before you."];return _u()&&e.push("A familiar figure stands by the gate."),e},options:function(){return[L(p.floor3_boss_room,{title:"Open the door"}),...Y_(),M(this,p.floor3,{simple:!0})]}}),floor3_boss_room:x({slug:"floor3_boss_room",title:mr,description:pr,options:function(){return[Ge(p.floor3_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor3,{simple:!0})]}}),floor3_boss_fight:x({slug:"floor3_boss_fight",title:mr,description:pr,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>A.start(Ae.floor3_boss),onLeave:()=>A.stop()}),floor3_cleared:x({slug:"floor3_cleared",title:mr,description:pr,messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the fourth floor."],options:function(){return[L(p.floor3_read_runestone,{title:"Read the runestone"}),Zo(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor3_read_runestone:x({slug:"floor3_read_runestone",title:mr,description:pr,messages:["Third of many.","Take your reward."],options:function(){return[bo(l.diagram_scroll_of_stone_bullet),M(this,p.floor3_cleared,{simple:!0})]}})}},Z_=function(){return{floor4:x({slug:"floor4",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Ge(p.floor4_fight1,{title:"Explore deeper"}),Ge(p.floor4_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor4_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor4_fight1:x({slug:"floor4_fight1",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>A.start(Ae.floor4_fight1),onLeave:()=>A.stop()}),floor4_fight1_endless:x({slug:"floor4_fight1_endless",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>A.start(Ae.floor4_fight1_endless),onLeave:()=>A.stop()}),floor4_fight1_clear:x({slug:"floor4_fight1_clear",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["More slime, more Guardians and their doors."],options:function(){return[L(p.floor4_boss_room,{title:"Open the door"}),M(this,p.floor4,{simple:!0})]}}),floor4_boss_room:x({slug:"floor4_boss_room",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Ge(p.floor4_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor4,{simple:!0})]}}),floor4_boss_fight:x({slug:"floor4_boss_fight",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>A.start(Ae.floor4_boss),onLeave:()=>A.stop()}),floor4_cleared:x({slug:"floor4_cleared",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the fifth floor."],options:function(){return[L(p.floor4_read_runestone,{title:"Read the runestone"}),Zo(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor4_read_runestone:x({slug:"floor4_read_runestone",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Fourth of many.","Take your reward."],options:function(){return[bo(l.diagram_scroll_of_wind_blast),M(this,p.floor4_cleared,{simple:!0})]}})}},eh=function(){return{rebirth_5:x({slug:"rebirth_5",title:"Inside Tower - Floor 5, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["A familiar scene replays in front of you as the runes seep out of the pillar.","Once again, you hear the strange voice in your mind:","You are worthy.","Choose a blessing and start over...","...or keep climbing."],options:function(){return[Rt({slug:"rebirth_choose",title:"Choose a blessing",action:()=>ce.start([zt.heirloom_5,zt.rank_5,zt.workshop_5,zt.rune_5])}),M(this,p.floor5_cleared,{simple:!0})]},onLeave:()=>ce.stop()})}},th=function(){return{floor5:x({slug:"floor5",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Ge(p.floor5_fight1,{title:"Explore deeper"}),Ge(p.floor5_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor5_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor5_fight1:x({slug:"floor5_fight1",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight1),onLeave:()=>A.stop()}),floor5_fight1_endless:x({slug:"floor5_fight1_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight1_endless),onLeave:()=>A.stop()}),floor5_fight1_clear:x({slug:"floor5_fight1_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Basic slimes, just a lot bigger, simple enough. Looks like now it's for their elemental variants."],options:function(){return[Ge(p.floor5_fight2,{title:"Explore deeper"}),Ge(p.floor5_fight2_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor5_fight2_completed}),M(this,p.floor5,{simple:!0})]}}),floor5_fight2:x({slug:"floor5_fight2",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight2),onLeave:()=>A.stop()}),floor5_fight2_endless:x({slug:"floor5_fight2_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight2_endless),onLeave:()=>A.stop()}),floor5_fight2_clear:x({slug:"floor5_fight2_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Dark and light variants are next."],options:function(){return[Ge(p.floor5_fight3,{title:"Explore deeper"}),Ge(p.floor5_fight3_endless,{title:"Fight indiscriminately",isVisible:()=>u.get().tower_variables.floor5_fight3_completed}),M(this,p.floor5,{simple:!0})]}}),floor5_fight3:x({slug:"floor5_fight3",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight3),onLeave:()=>A.stop()}),floor5_fight3_endless:x({slug:"floor5_fight3_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_fight3_endless),onLeave:()=>A.stop()}),floor5_fight3_clear:x({slug:"floor5_fight3_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Finally, after wading through countless slimes, you stand in front of the Guardian door.","This one feels somewhat different."],options:function(){return[L(p.floor5_boss_room,{title:"Open the door"}),M(this,p.floor5,{simple:!0})]}}),floor5_boss_room:x({slug:"floor5_boss_room",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",options:function(){return[Ge(p.floor5_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor5,{simple:!0})]}}),floor5_boss_fight:x({slug:"floor5_boss_fight",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>A.start(Ae.floor5_boss),onLeave:()=>A.stop()}),floor5_cleared:x({slug:"floor5_cleared",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",messages:["The floor Guardian lays defeated.","Its body slowly melts away, in its place a pillar filled with runes.","Another victory, another rune on your arm, this time for the sixth floor."],options:function(){return[L(p.rebirth_5,{title:"Touch the pillar"}),L(p.floor5_read_runestone,{title:"Read the runestone"}),Zo(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor5_read_runestone:x({slug:"floor5_read_runestone",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",messages:["Fifth of many.","Take your reward."],options:function(){return[bo(l.diagram_scroll_of_heal),M(this,p.floor5_cleared,{simple:!0})]}}),...eh()}},nh=function(){return{floor6:x({slug:"floor6",title:"Inside Tower - Floor 6",description:"An empty expanse lies in front of you, seemingly endless.",options:function(){return[M(this,p.tower_hallway,{simple:!0})]}})}},sh=function(){return{tower:x({slug:"tower",title:"Tower",description:"The top cannot be seen. A pair of guards stand near the entrance.",options:function(){return[L(p.tower_hallway,{title:"Tower",getIcon:()=>H("tower")}),L(p.tower_talk_to_guards,{title:"Talk to the guards",getIcon:()=>H("talk")}),M(this,p.city)]}}),tower_talk_to_guards:x({slug:"tower_talk_to_guards",title:"Tower",description:"The top cannot be seen",messages:["Hello there, if you want to enter, you are free to do so. We are here just to warn newcomers.","Before entering, you should definitely visit the Training Grounds to learn a thing or two.","You should also visit the Adventurers' Guild, complete some jobs to get some money and properly equip yourself.","The Tower is a place of endless opportunities, but also of endless dangers.","Stay vigilant."],options:function(){return[M(this,p.tower,{simple:!0})]}}),tower_hallway:x({slug:"tower_hallway",title:"Inside Tower - Hallway",description:"A room much bigger than the outside would suggest. A huge runestone stands in the middle.",options:function(){const e=[L(p.tower_read_runestone,{title:"Read the runestone"}),M(this,p.tower,{simple:!0})];return u.get().tower_variables.floor1_unlocked&&e.push(L(p.floor1,{title:"Enter Floor 1"})),u.get().tower_variables.floor2_unlocked&&e.push(L(p.floor2,{title:"Enter Floor 2"})),u.get().tower_variables.floor3_unlocked&&e.push(L(p.floor3,{title:"Enter Floor 3"})),u.get().tower_variables.floor4_unlocked&&e.push(L(p.floor4,{title:"Enter Floor 4"})),u.get().tower_variables.floor5_unlocked&&e.push(L(p.floor5,{title:"Enter Floor 5"})),u.get().tower_variables.floor6_unlocked&&e.push(L(p.floor6,{title:"Enter Floor 6"})),e}}),tower_read_runestone:x({slug:"tower_read_runestone",title:"Inside Tower - first runestone",description:"Runestone filled with runes, some you instinctively understand, others you cannot comprehend.",messages:["Each floor, a Guardian oversees.","Those worthy enough shall be conveyed a rune of passage and a secret of magic.","The first rune of passage and the first secret of magic are a gift of the Tower to anyone brave enough to enter."],options:function(){return[bo(l.diagram_scroll_of_arcane_bolt),M(this,p.tower_hallway,{simple:!0})]},onEntry:()=>u.get().tower_variables.floor1_unlocked=!0}),...Q_(),...J_(),...X_(),...Z_(),...th(),...nh()}},ih=function(e,t){return{kathryn_first_meeting:x({slug:"kathryn_first_meeting",title:e,description:t,messagesTitle:be.kathryn.getName(),messages:["First time, eh?"],options:function(){return[L(p.kathryn_first_meeting_2,{title:"What do you mean?"})]}}),kathryn_first_meeting_2:x({slug:"kathryn_first_meeting_2",title:e,description:t,messagesTitle:be.kathryn.getName(),messages:["Confused look? Check.","Sharp eyes, speaking of battle experience? Check.","Next to no equipment, disproportionate to the sharp eyes? Check.","Yup! I'd bet my coins you have just accepted the tower's blessing for the first time!","Am I right?"],options:function(){return[L(p.kathryn_first_meeting_3,{title:"I... think so? What's going on? Who are you?"})]}}),kathryn_first_meeting_3:x({slug:"kathryn_first_meeting_3",title:e,description:t,messagesTitle:be.kathryn.getName(),messages:["The name's Kathryn, nice to meet you!","I am a fellow traveler, that's what we - those who accepted a tower blessing - call ourselves.","You accepted the tower's blessing, which transferred you 'back' in time while granting you a boon of your choice.","I am accenting the 'back' for a reason, because you did not really travel back in time.","Anyway, that's enough for now, how about you meet me in the Adventurers' Guild's Bar once you gather your thoughts?","See ya!"],options:function(){return[Rt({title:"Sure...?",class:"enter",action:()=>{const n=u.get();n.tower_variables.kathryn_first_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kathryn)"),Re(p.city)}})]}})}},oh=function(e){return{kacadu_meditation_gift:x({slug:"kacadu_meditation_gift",title:e,description:"The streets are flooded with blinding light, coming straight from the tower.",messagesTitle:be.kacadu.getName(),messages:["*A voice sounds in your mind*","And so, a feeble mortal has become a master of magic.","The tower deems you worthy of a gift - a rune of meditation.","Keep climbing, defy your mortal fate and become something greater.","*The voice slowly fades away and so does the blinding light*"],options:function(){return[Rt({title:"What the hell...?!",class:"enter",action:()=>{const t=u.get();t.tower_variables.kacadu_meditation_rune_gift_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kacadu)"),k.add(l.rune_meditation,1);const n=k.getInventoryItem(l.rune_meditation);n.isHeirloom=!0,n.isDeletable=!1,Re(p.city)}})]}})}},la="City",ca="Bustling with activity",rh=function(){return{...ih(la,ca),...oh(la),city:x({slug:"city",title:la,description:ca,getDescription:function(){return Je.isNight()?"Illuminated by the moonlight.":Je.isEvening()?"Much quieter than during the day.":ca},options:function(){return[L(p.tower,{getIcon:()=>H("tower")}),L(p.training_grounds,{getIcon:()=>H("question_mark")}),L(p.adventurers_guild,{getIcon:()=>H("adventurers_guild")}),L(p.craftsman_district,{getIcon:()=>H("craftsman_district")}),L(p.home,{getIcon:()=>H("home")}),L(p.forest_clearing,{title:"Enter Forest",getIcon:()=>H("forest")})]},onEntry:()=>{const e=u.get();_.getRebirthCount()>0&&e.tower_variables.kathryn_first_meeting_completed===!1&&Re(p.kathryn_first_meeting),e.rebirth.runes===2&&e.tower_variables.kacadu_meditation_rune_gift_completed===!1&&Re(p.kacadu_meditation_gift)}})}},ah=function(){return{forest_clearing:x({slug:"forest_clearing",title:"Forest Clearing",description:"A small cabin can be seen in the distance",options:function(){return[L(p.forest_outskirts,{getIcon:()=>H("forest")}),L(p.forest_hunter_cabin,{getIcon:()=>H("hunter_cabin")}),L(p.forest_harvest_wood,{title:"Harvest Wood",getIcon:()=>H("wood")}),L(p.forest_gather_herbs_basic,{title:"Gather Herbs",getIcon:()=>H("herb")}),M(this,p.city)]}}),forest_harvest_wood:x({slug:"forest_harvest_wood",title:"Forest Outskirts",description:"Close to the clearing, safe area to gather some wood.",options:function(){return[M(this,p.forest_clearing)]},onEntry:()=>A.start(Ae.forest_harvest_wood),onLeave:()=>A.stop()}),forest_gather_herbs_basic:x({slug:"forest_gather_herbs_basic",title:"Forest Outskirts",description:"Close to the clearing, safe area to gather some very basic herbs... among the thousands of weeds.",options:function(){return[M(this,p.forest_clearing)]},onEntry:()=>A.start(Ae.forest_gather_herbs_basic),onLeave:()=>A.stop()})}},lh=function(){return{forest_outskirts:x({slug:"forest_outskirts",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[L(p.forest_depths,{title:"Go deeper",getIcon:()=>H("forest"),isVisible:()=>u.get().variables.forest_outskirts_hunt_completed}),Ge(p.forest_outskirts_hunt,{title:"Hunt"}),Ge(p.forest_outskirts_hunt_endless,{title:"Hunt indefinitely",isVisible:()=>u.get().variables.forest_outskirts_hunt_completed}),M(this,p.forest_clearing)]}}),forest_outskirts_hunt:x({slug:"forest_outskirts_hunt",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[M(this,p.forest_outskirts)]},onEntry:()=>A.start(Ae.forest_outskirts_hunt),onLeave:()=>A.stop()}),forest_outskirts_hunt_finished:x({slug:"forest_outskirts_hunt_finished",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",messages:["Having hunted for a while, you consider going deeper into the woods."],options:function(){return[L(p.forest_depths,{title:"Go deeper",getIcon:()=>H("forest")}),M(this,p.forest_outskirts,{title:"Leave"})]}}),forest_outskirts_hunt_endless:x({slug:"forest_outskirts_hunt_endless",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[M(this,p.forest_outskirts)]},onEntry:()=>A.start(Ae.forest_outskirts_hunt_endless),onLeave:()=>A.stop()})}},ch=function(){const e=u.get();return[L(p.lomsi_first_meeting_hunting_cabin,{title:"Talk to Lomsi",getIcon:()=>H("talk"),isVisible:()=>e.tower_variables.lomsi_bear_cave_meeting_completed&&!e.tower_variables.lomsi_hunting_cabin_meeting_completed})]},uh=function(e,t){return{lomsi_first_meeting_hunting_cabin:x({slug:"lomsi_first_meeting_hunting_cabin",title:e,description:t,messagesTitle:be.lomsi.getName(),messages:["Hey. So, as I already said, I am a hunter and a traveler. I usually stay here in the evening. The other hunter does not speak much, which suits me.","Anyway, I am primarily a hunter, obsessed with collecting cards. Once you get a monster card, you learn everything there is about the monster, and that feeling is extremely satisfying to me."],options:function(){return[L(p.lomsi_first_meeting_hunting_cabin_2,{title:"What does that have to do with me?"})]}}),lomsi_first_meeting_hunting_cabin_2:x({slug:"lomsi_first_meeting_hunting_cabin_2",title:e,description:t,messagesTitle:be.lomsi.getName(),getMessages:()=>["Ah, the short version of the story... of course.","I am collecting cards, compiling all the information I learn into books and selling those to other hunters and climbers.","You could either look for a card yourself to get the information, or simply just read a book. This way you would learn not only about the monster, but its card as well, all without going through days of hunting.","I am also constantly enriching my catalogue as I collect cards, so check with me from time to time as you climb.","And a free tip from hunter to hunter: you might have more luck gathering certain items, or maybe even cards, if you are wearing specific equipment. The exact details are for you to figure out, but I already told you about the hunting bow and a bear. Unfortunately, you do not learn this from a card.","Happy hunting, and do check my wares!"],options:function(){return[Rt({title:"Leave",class:"leave",action:()=>{const n=u.get();n.tower_variables.lomsi_hunting_cabin_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Lomsi)"),Re(p.forest_hunter_cabin)},getIcon:function(){return H("leave")}})]}})}},dh=function(){if(!Je.isEvening())return[];const e=u.get();return[L(p.lomsi_shop_buy,{title:"Buy books from Lomsi",class:"buy",getIcon:()=>H("buy"),isVisible:()=>e.tower_variables.lomsi_hunting_cabin_meeting_completed})]},gh=function(){return{lomsi_shop_buy:Pn({slug:"lomsi_shop_buy",title:"Lomsi's Hunting Books",description:"Neatly stacked books are in front of you...",messages:["A wolf, rabbit, bear?"],options:function(){return[M(this,p.forest_hunter_cabin)]},getShopItems:function(){const e=u.get();let t=[P(l.bestiary_book_training_dummy,500),P(l.bestiary_book_rat,500),P(l.bestiary_book_tree,500),P(l.bestiary_book_weed,500),P(l.bestiary_book_chicken,500),P(l.bestiary_book_rabbit,500),P(l.bestiary_book_mountain_goat,500),P(l.bestiary_book_warthog,500),P(l.bestiary_book_wolf,500),P(l.bestiary_book_bear,500),P(l.bestiary_book_bat,500),P(l.bestiary_book_spider,500),P(l.bestiary_book_iron_vein,500)];return e.tower_variables.floor2_unlocked&&(t=[...t,P(l.bestiary_book_slime,500),P(l.bestiary_book_slime_water,500),P(l.bestiary_book_slime_fire,500),P(l.bestiary_book_slime_earth,500),P(l.bestiary_book_slime_wind,500)]),e.tower_variables.floor3_unlocked&&(t=[...t,P(l.bestiary_book_slime_holy,500),P(l.bestiary_book_slime_shadow,500)]),e.tower_variables.floor4_unlocked&&(t=[...t,P(l.bestiary_book_slimer,500),P(l.bestiary_book_slimer_water,500),P(l.bestiary_book_slimer_fire,500),P(l.bestiary_book_slimer_earth,500),P(l.bestiary_book_slimer_wind,500)]),e.tower_variables.floor5_unlocked&&(t=[...t,P(l.bestiary_book_slimer_holy,500),P(l.bestiary_book_slimer_shadow,500)]),e.tower_variables.floor6_unlocked&&(t=[...t,P(l.bestiary_book_slimelord,500),P(l.bestiary_book_slimelord_water,500),P(l.bestiary_book_slimelord_fire,500),P(l.bestiary_book_slimelord_earth,500),P(l.bestiary_book_slimelord_wind,500),P(l.bestiary_book_slimelord_holy,500),P(l.bestiary_book_slimelord_shadow,500)]),t}})}},ua="Hunter's Cabin",da="The walls are decorated by hunting trophies.",fh=function(){return{...uh(ua,da),...gh(),forest_hunter_cabin:x({slug:"forest_hunter_cabin",title:ua,description:da,messages:["Hello there, anything you need?"],options:function(){return[L(p.forest_hunter_cabin_tips,{title:"Ask about the whereabouts",getIcon:()=>H("talk")}),...ch(),...dh(),M(this,p.forest_clearing)]}}),forest_hunter_cabin_tips:x({slug:"forest_hunter_cabin_tips",title:ua,description:da,messages:["Well, you are in a forest, you can get a lot of useful things here.","Meat, hides, bones and wood can all be obtained here.","But don't go in too deep, some of the creatures in the depths are really dangerous. There have even been sightings of a huge bear..."],options:function(){return[M(this,p.forest_hunter_cabin)]}})}},mh=function(){return{forest_depths:x({slug:"forest_depths",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[L(p.forest_cave,{getIcon:()=>H("cave"),isVisible:()=>u.get().variables.forest_depths_hunt_completed}),L(p.forest_mine,{getIcon:()=>H("mine"),isVisible:()=>u.get().variables.forest_depths_hunt_completed}),Ge(p.forest_depths_hunt,{title:"Hunt"}),Ge(p.forest_depths_hunt_endless,{title:"Hunt indefinitely",isVisible:()=>u.get().variables.forest_depths_hunt_completed}),M(this,p.forest_outskirts)]}}),forest_depths_hunt:x({slug:"forest_depths_hunt",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[M(this,p.forest_depths)]},onEntry:()=>A.start(Ae.forest_depths_hunt),onLeave:()=>A.stop()}),forest_depths_hunt_finished:x({slug:"forest_depths_hunt_finished",title:"Forest Depths",description:"Dangerous beasts lurk around.",messages:["You see a cave ahead, you have a bad feeling about it...","There is also a mine entrance not far on the other side."],options:function(){return[L(p.forest_cave,{getIcon:()=>H("cave")}),L(p.forest_mine,{getIcon:()=>H("mine")}),M(this,p.forest_depths,{title:"Leave"})]}}),forest_depths_hunt_endless:x({slug:"forest_depths_hunt_endless",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[M(this,p.forest_depths)]},onEntry:()=>A.start(Ae.forest_depths_hunt_endless),onLeave:()=>A.stop()})}},Nl="Cave",Ql="The bear lays dead, but someone is behind you...",ph=function(){return{lomsi_first_meeting_bear_cave:x({slug:"lomsi_first_meeting_bear_cave",title:Nl,description:Ql,messagesTitle:be.lomsi.getName(),messages:["Oh... seems like you have beat me to it.","And you are bleeding. Here, let me bandage that for you."],options:function(){return[L(p.lomsi_first_meeting_bear_cave_2,{title:"Thank you, who are you?"})]},onEntry:()=>{k.add(l.bandage,1,!0);const e=k.getInventoryItem(l.bandage);k.useInventoryItem(e)}}),lomsi_first_meeting_bear_cave_2:x({slug:"lomsi_first_meeting_bear_cave_2",title:Nl,description:Ql,messagesTitle:be.lomsi.getName(),getMessages:()=>["Lomsi.","A hunter and also a traveler, whether you know what that means or not is of no importance.",fe.itemIsEquipped(l.hunting_bow)?"Seems like you had the foresight to use a hunting bow against the beast, preserving the pelt intact. Not bad.":"What a waste though, its pelt is ruined. You should have used a hunting bow to avoid damaging the pelt.","Since you have hunted the beast, you might be worth a chat. If you share that sentiment, meet me in the Hunter's Cabin.","Don't die."],options:function(){return[Rt({title:"Leave",class:"leave",action:()=>{const e=u.get();e.tower_variables.lomsi_bear_cave_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Lomsi)"),Re(p.forest_depths)},getIcon:function(){return H("leave")}})]}})}},_h=function(){return{...ph(),forest_cave:x({slug:"forest_cave",title:"Cave",description:"A huge bear is in the middle of the cave.",options:function(){return[Ge(p.forest_cave_hunt,{title:"Fight the bear"}),M(this,p.forest_depths,{title:"Run away"})]}}),forest_cave_hunt:x({slug:"forest_cave_hunt",title:"Cave",description:"A huge bear is in the middle of the cave.",options:function(){return[M(this,p.forest_depths,{title:"Run away"})]},onEntry:()=>A.start(Ae.forest_cave_hunt),onLeave:()=>A.stop()}),forest_cave_hunt_finished:x({slug:"forest_cave_hunt_finished",title:"Cave",description:"A few bones lay here and there.",messages:["The large beast lays motionlessly."],options:function(){return[M(this,p.forest_depths,{title:"Leave"})]}})}},hh=function(){const e=u.get(),t=e.variables.mine_man_first_meeting?[L(p.forest_mine_first_talk,{title:"Talk to the man",getIcon:()=>H("talk")})]:[],n=e.variables.mine_man_available?[L(p.forest_mine_repeatable_talk,{title:"Talk to the man",getIcon:()=>H("talk")})]:[];return[...t,...n]},yh=function(){return{forest_mine_first_talk:x({slug:"forest_mine_first_talk",title:"Abandoned Mine",description:"Torches of magical nature line the walls, providing dim light.",messages:["Hello there, here to get some ore?","I would advise you to turn around, this place is infested with annoying critters. They don't seem like much, but they are quite dangerous...","You know what, I have mined quite a bit and have some extras, you can have them. I come here quite often, about every 3 days I'd say. If you need some ores but are unable to get them yourself, just come here later and I'll share.","Of course, if you need more then you are going to have to get them yourself, I wish you the best of luck!"],options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>{k.add(l.iron_ore,5),u.get().variables.mine_man_first_meeting=!1,$r.schedule(Dr.mine_man_reset,3)}}),forest_mine_repeatable_talk:x({slug:"forest_mine_repeatable_talk",title:"Abandoned Mine",description:"Torches of magical nature line the walls, providing dim light.",messages:["Nice to see you again! Here for more ore?","You can have these. If you need even more then I wish you the best of luck!"],options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>{k.add(l.iron_ore,5),u.get().variables.mine_man_available=!1,$r.schedule(Dr.mine_man_reset,3)}})}},vh=function(){return{...yh(),forest_mine:x({slug:"forest_mine",title:"Abandoned Mine",description:"A man stands not far inside the mine.",getDescription:function(){const e=u.get();return e.variables.mine_man_first_meeting||e.variables.mine_man_available?this.description:"No sign of the generous man..."},options:function(){return[...hh(),Ge(p.forest_mine_hunt,{title:"Go deeper"}),Ge(p.forest_mine_hunt_endless,{title:"Go deeper (infinite)",isVisible:()=>u.get().variables.forest_mine_hunt_completed}),M(this,p.forest_depths)]}}),forest_mine_hunt:x({slug:"forest_mine_hunt",title:"Abandoned Mine",description:"Infested with dangerous critters.",options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>A.start(Ae.forest_mine_hunt),onLeave:()=>A.stop()}),forest_mine_hunt_endless:x({slug:"forest_mine_hunt_endless",title:"Abandoned Mine",description:"Infested with dangerous critters.",options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>A.start(Ae.forest_mine_hunt_endless),onLeave:()=>A.stop()}),forest_mine_hunt_finished:x({slug:"forest_mine_hunt_finished",title:"Abandoned Mine",description:"Ore veins are visible in the dim light.",options:function(){return[L(p.forest_mine_ore,{title:"Mine Ore",getIcon:()=>H("iron_ore")}),M(this,p.forest_mine,{title:"Leave"})]}}),forest_mine_ore:x({slug:"forest_mine_ore",title:"Abandoned Mine",description:"Ore veins are visible in the dim light.",options:function(){return[M(this,p.forest_mine_hunt_finished,{title:"Leave"})]},onEntry:()=>A.start(Ae.forest_mine_ore),onLeave:()=>A.stop()})}},kh=function(){return{...ah(),...fh(),...lh(),...mh(),...vh(),..._h()}},p={...rh(),...g_(),...sh(),...I_(),...T_(),...D_(),...kh()},ga=new s_,Ke={interval:null,loopRunning:!1,cardDropRate:.01,run:function(){u.load(),ga.onmessage=Ke.loop;const e=u.get();ga.postMessage({action:e.tickSpeed===0?"pause":"set-speed",value:e.tickSpeed})},loop:function(){const e=u.get();Ke.loopRunning||(Ke.loopRunning=!0,$r.runScheduled(),et.generateNewGuildQuests(),A.running()&&A.handleCombat(),q.handleRegen(),Ee.handleRegen(),q.tickStatusEffects(),Ee.tickStatusEffects(),k.tickCooldowns(),et.clearExpired(),Et.checkAchievementUnlockConditions(),on.running()&&on.tickReading(),e.elapsedTime+=e.gameSpeed,ee.separatorMessage(),e.scene===p.bed.slug&&tt.sleeping(e.gameSpeed),u.save(),e.shouldUpdateWorker&&Ke.updateWorker(),Ke.loopRunning=!1)},updateWorker:function(){const e=u.get();ga.postMessage({action:e.tickSpeed===0?"pause":"set-speed",value:e.tickSpeed})}},hu=4*28*24*60,yu=hu/4,Sr=yu/28,Jl=Sr/24,wh=4,bh=28,Yl=24,zl=60,Eh=500,Ih=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Je={getTimeString:function(e){e=e||u.get().elapsedTime;let t=Math.floor(e/hu)+Eh,n=Math.floor(e/yu)%wh+1,s=Je.getDay(e)+1,o=(Math.floor(e/Jl)%Yl).toString().padStart(2,"0"),a=(e%zl).toString().padStart(2,"0");return`${t}/${n}/${s} ${o}:${a}`},getTimeIcon:function(){if(Je.isMorning())return"morning";if(Je.isAfternoon())return"day";if(Je.isEvening())return"evening";if(Je.isNight())return"night"},getDayString:function(){let e=Je.getDay()%7;return Ih[e]},getDay:function(e){return e=e||u.get().elapsedTime,Math.floor(e/Sr)%bh},getHour:function(){let e=u.get().elapsedTime;return Math.floor(e/Jl)%Yl},getMinute:function(){return u.get().elapsedTime%zl},getDaysInUnits:function(e){return e*Sr},isNthDay:function(e){return Je.getDay()%e===0},convertTimeToDays:function(e){return e/Sr},isMorning:function(){let e=Je.getHour();return e>=6&&e<=12},isAfternoon:function(){let e=Je.getHour();return e>=13&&e<=17},isEvening:function(){let e=Je.getHour();return e>=18&&e<=21},isNight:function(){let e=Je.getHour();return e>=22||e<=5},pauseGame:function(){u.get().tickSpeed=0,u.get().shouldUpdateWorker=!0},setSpeed:function(e){const t=1e3/e;u.get().tickSpeed=t,u.get().shouldUpdateWorker=!0,Ke.loopRunning||Ke.loop()}},Sh={__name:"ItemName",props:{inventoryItem:{default:null},item:{default:!0},arrows:{default:!1}},setup(e){const t=e,n=D(()=>{var a;let s=t.inventoryItem?je.getName(t.inventoryItem):t.item.getName(),o=t.inventoryItem&&k.getItem(t.inventoryItem).isEquip?t.inventoryItem.rank:null;return o&&(s=Wt(s,o,(a=t.inventoryItem)==null?void 0:a.isAwakened)),s});return(s,o)=>(d(),m("span",null,[e.arrows?(d(),m(B,{key:0},[oe("<"+C(n.value)+">",1)],64)):(d(),m(B,{key:1},[oe(C(n.value),1)],64))]))}},Mt=j(Sh,[["__scopeId","data-v-3a7c10bd"]]),er=e=>(ft("data-v-e1baa532"),e=e(),mt(),e),xh=["innerHTML"],Mh={class:"descriptions"},Rh=["innerHTML"],Th={key:1,class:"description requirements"},Dh=er(()=>g("div",{class:"corner-title"},"Requirements",-1)),$h={key:2,class:"description rewards c-success"},Hh=er(()=>g("div",{class:"corner-title"},"Rewards",-1)),Ph={key:3,class:"description failure c-danger"},Ch=er(()=>g("div",{class:"corner-title"},"Failure Consequences",-1)),Ah={key:4,class:"description deadline c-danger"},Bh=er(()=>g("div",{class:"corner-title"},"Deadline",-1)),qh={key:5,class:"description deadline c-danger"},Uh=er(()=>g("div",{class:"corner-title"},"Time Limit",-1)),Fh=["innerHTML"],Lh={__name:"QuestTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,xh),g("div",Mh,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,Rh)):R("",!0),r(b).props.descriptions.requirements?(d(),m("div",Th,[Dh,(d(!0),m(B,null,re(r(b).props.descriptions.requirements,s=>(d(),m("div",null,[oe(C(s.amount)+"x ",1),X(Mt,{arrows:!0,item:s.requirement},null,8,["item"])]))),256))])):R("",!0),r(b).props.descriptions.rewards?(d(),m("div",$h,[Hh,(d(!0),m(B,null,re(r(b).props.descriptions.rewards,s=>(d(),m("div",null,[s.type===r($e).item?(d(),m(B,{key:0},[oe(C(s.amount)+"x ",1),X(Mt,{arrows:!0,item:s.item},null,8,["item"])],64)):R("",!0),s.type===r($e).money?(d(),m(B,{key:1},[oe("+ "),X(Wn,{money:s.amount},null,8,["money"])],64)):R("",!0),s.type===r($e).reputation?(d(),m(B,{key:2},[oe("+ "+C(s.amount)+" Reputation",1)],64)):R("",!0),s.type===r($e).experience?(d(),m(B,{key:3},[oe("+ "+C(s.amount)+" EXP",1)],64)):R("",!0)]))),256))])):R("",!0),r(b).props.descriptions.failureConsequences?(d(),m("div",Ph,[Ch,(d(!0),m(B,null,re(r(b).props.descriptions.failureConsequences,s=>(d(),m("div",null,[s.type===r(Yo).money?(d(),m(B,{key:0},[oe("- "+C(s.amount)+" Money",1)],64)):R("",!0),s.type===r(Yo).reputation?(d(),m(B,{key:1},[oe("- "+C(s.amount)+" Reputation",1)],64)):R("",!0)]))),256))])):R("",!0),r(b).props.deadline?(d(),m("div",Ah,[Bh,oe(" "+C(r(Je).getTimeString(r(b).props.deadline)),1)])):R("",!0),!r(b).props.deadline&&r(b).props.timeLimit?(d(),m("div",qh,[Uh,oe(" "+C(r(b).props.timeLimit)+" Days ",1)])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:6,class:"description",innerHTML:r(b).props.descriptions.type},null,8,Fh)):R("",!0)])],64))}},Oh=j(Lh,[["__scopeId","data-v-e1baa532"]]),Wh=function(e){let t=e.length,n;for(;t>0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e},et={rankReputationMapping:{G:0,F:10,E:100,D:200,C:300,B:400,A:500,S:600},questGenerationCount:6,questGenerationInterval:3,running:function(e){return u.get().quests[e.slug]},getTooltipProps:function(e){return{component:pe(Oh),title:e.name,deadline:e.expiresAt,timeLimit:e.timeLimit,descriptions:{description:e.description,requirements:e.getRequirements(),rewards:e.getRewards(),failureConsequences:e.getFailureConsequences(),type:"Quest"}}},requirementsMet:function(e){return e.getRequirements().every(t=>k.getCleanInventoryItems(t.requirement).reduce((o,a)=>o+=a.amount,0)>=t.amount)},removeRequiredItemsFromInventory:function(e){e.getRequirements().forEach(t=>{let n=k.getCleanInventoryItems(t.requirement);if(t.requirement.isEquip){for(let s=0;s<t.amount;s++)k.remove(n[s],1);return}k.remove(n[0],t.amount)})},giveCompletionRewards:function(e){const t=u.get();e.getRewards().forEach(n=>{switch(n.type){case $e.item:k.add(n.item,n.amount);break;case $e.money:q.addMoney(n.amount),ee.moneyMessage(n.amount);break;case $e.reputation:t.reputation+=n.amount,ee.commonMessage("+ "+n.amount+" reputation.");break;case $e.experience:q.gainExp(n.amount);break}})},startGuildQuest:function(e){const t=u.get();if(et.running(e)){ee.commonMessage("You already have this quest","c-danger");return}delete t.availableGuildQuests[e.slug],t.quests[e.slug]={expiresAt:t.elapsedTime+Je.getDaysInUnits(e.timeLimit)},b.visible=!1},finishGuildQuest:function(e){et.requirementsMet(e)&&(tt.questFinished(),et.removeRequiredItemsFromInventory(e),et.giveCompletionRewards(e),delete u.get().quests[e.slug],b.visible=!1)},getAvailableQuests:function(){let e=[];return Object.keys(u.get().availableGuildQuests).forEach(t=>{e.push(Ro[t])}),e},getAcceptedQuests:function(){const e=u.get();return Object.keys(e.quests).length===0?[]:Object.keys(e.quests).map(t=>({...Ro[t],expiresAt:e.quests[t].expiresAt}))},clearExpired:function(){const e=u.get();Object.keys(e.quests).forEach(t=>{e.quests[t].expiresAt<=e.elapsedTime&&(et.handleFailureConsequences(Ro[t]),delete e.quests[t])})},handleFailureConsequences:function(e){const t=u.get();e.getFailureConsequences().forEach(n=>{n.type===Yo.reputation&&(t.reputation=an(t.reputation-n.amount,0),ee.commonMessage("Quest expired. Lost "+n.amount+" reputation.","c-danger"))})},generateNewGuildQuests:function(){const e=u.get();e.lastQuestGeneratedAt!==void 0&&Je.convertTimeToDays(e.elapsedTime-e.lastQuestGeneratedAt)<et.questGenerationInterval||(e.availableGuildQuests={},Object.keys(et.rankReputationMapping).map(t=>{const n=Object.keys(Ro).filter(o=>Ro[o].rank===t);Wh(n),n.slice(0,et.questGenerationCount).forEach(o=>e.availableGuildQuests[o]=o)}),e.lastQuestGeneratedAt=e.elapsedTime)},rankUnlocked:function(e){return u.get().reputation>=et.rankReputationMapping[e]}},yo={running:function(){return u.get().activeQuestFinishing},start:function(){u.get().activeQuestFinishing=!0},stop:function(){u.get().activeQuestFinishing=!1},getAvailableQuests:function(){return et.getAcceptedQuests().filter(e=>et.running(e)&&et.requirementsMet(e))}},on={running:function(){return!!u.get().activeReading},start:function(e){const t=u.get();if(kt.running()||A.running()||De.running()||Hn.running()||Ln.running()||yo.running()||ce.running()){ee.commonMessage("Cannot do that right now.","c-danger");return}if(e.id===t.activeReading){on.stop();return}t.activeReading=e.id},stop:function(){u.get().activeReading=null,V()},getCurrentReadingInventoryItem:function(){return k.getInventoryItemById(u.get().activeReading)},tickReading:function(){let e=k.getInventoryItemById(u.get().activeReading);if(e.readingDuration=an(bt(e.readingDuration-1*(1+q.getStudyingSpeed()/100)),0),se.gainExp(K.studying,1),e.readingDuration<=0){let t=k.getItem(e);e.readingDuration=t.readingDuration,k.remove(e,1),t.doneReading(),on.stop(),tt.readableRead()}}},kt={running:function(){return u.get().activeEnchant!==null},start:function(e){if(on.running()||A.running()||De.running()||Hn.running()||Ln.running()||yo.running()||ce.running()){ee.commonMessage("Cannot do that right now.","c-danger");return}if(e.id===u.get().activeEnchant){kt.stop();return}u.get().activeEnchant=e.id},stop:function(){u.get().activeEnchant=null},applyEnchant:function(e,t,n){let s=kt.getSlottedEnchantItem(e,t),o=kt.getActiveEnchantInventoryItem();e.enchantSlots[t]=o.slug,!n&&(k.remove(o,1),u.get().activeEnchant=null,tt.enchantApplied(k.getItem(o),s))},getEnchantingSlotsCount:function(e){let t=k.getItem(e);return e.isAwakened?t.awakenedEnchantSlotsCount:t.enchantSlotsCount},getSlottedEnchantItem:function(e,t){let n=e.enchantSlots[t];return n?l[n]:null},getActiveEnchantInventoryItem:function(){return k.getInventoryItemById(u.get().activeEnchant)},getEnchantingEligibleInventoryItems:function(){return k.getRaw().filter(e=>!e.isEquipped&&kt.getEnchantingSlotsCount(e)>0)},fakeEnchantedInventoryItem:function(e,t){let n=structuredClone(e);return kt.applyEnchant(n,t,!0),n}},je={isClean:function(e){return e.exp===0&&e.rank===0&&e.enchantSlots.length===0&&e.isEquipped===!1&&e.isFavorite===!1&&e.isHidden===!1&&e.isHeirloom===!1},getTooltipProps:function(e){if(!e)return;let t=k.getItem(e),n=t.getTooltipProps({rank:e.rank,isAwakened:e.isAwakened});return n.inventoryItemId=e.id,t.isEquip&&(n.descriptions.enchants=je.getEnchantTooltipDescriptions(e),n.exp=e.exp,n.maxExp=t.getExpForRank(e.rank)??1,n.maxed=e.rank===fe.maxRank),e.startedAwakening&&(n.startedAwakening=!0,n.awakeningExp=e.awakeningExp,n.requiredAwakeningExp=t.requiredAwakeningExp,n.isAwakened=e.isAwakened),n},updateTooltip:function(e){b.visible&&b.props.inventoryItemId===e.id&&Hr(je.getTooltipProps(e))},getEnchantTooltipDescriptions:function(e){let t=[],n=kt.getEnchantingSlotsCount(e);for(let s=0;s<n;s++){let o=e.enchantSlots[s];if(!o){t.push({title:"<span class='c-gray'>Empty enchant slot</span>"});continue}let a=l[o];t.push({title:uv(a.getName()),descriptions:a.getEffects().map(c=>c.effect.getDescription(fe.getRankEffectModifier(c.value,e.rank)))})}return t},getEffects:function(e){let t=k.getItem(e);return e.isAwakened?t.getAwakenedEffects():t.getEffects()},getName:function(e){let t=k.getItem(e);return e.isAwakened?t.awakenedName:t.getName()},setHotkey:function(e,t){e.hotkey=t},clearHotkey:function(e){k.getRaw().forEach(t=>t.hotkey=t.hotkey===e?null:t.hotkey)},useHotkeyInventoryItem:function(e){const t=k.getRaw().find(n=>n.hotkey===e);t&&k.useInventoryItem(t)}},se={maxLevel:99,maxRank:wo.length-1,getLearnedSkills:function(){const e=u.get();return Object.values(K).filter(t=>e.learnedSkills.includes(t.slug))},getLevel:function(e){return se.getSkillState(e).level},getExp:function(e){return se.getSkillState(e).exp},getSkillState:function(e){return u.get().skills[e.slug]},isMaxLevel:function(e){return se.getSkillState(e).level>=se.getMaxLevel(e)},getMaxLevel:function(e){return Math.round(se.maxLevel*(se.getRank(e)+1)/(se.maxRank+1))},getPerkIdentifier:function(e,t){return`${e.slug}_${t.level}`},gainExp:function(e,t){se.isMaxLevel(e)||(se.getSkillState(e).exp+=bt(t*(1+q.getSkillExpModifier(e.slug)/100),0),se.handleLevelUp(e),se.updateTooltip(e),se.updateItemTooltip(e))},handleLevelUp:function(e){let t=se.getExpToNextLevel(e);se.getSkillState(e).exp<t||se.isMaxLevel(e)||(se.onLevelUp(e,t),se.handleLevelUp(e),tt.skillLevelUp(e))},onLevelUp:function(e,t){const n=u.get();let s=se.getSkillState(e);s.level++,s.level===1&&!n.learnedSkills.includes(e.slug)&&n.learnedSkills.push(e.slug),s.exp=s.exp-t,ee.skillMessage(e),se.applySkillEffects(e)},applySkillEffects:function(e){const t=u.get(),n=se.getSkillState(e);e.getEffects().forEach(s=>{s.effect.up(u.get().player,s.value*n.level,e.slug,"skill")}),e.perks.forEach((s,o)=>{s.level<=n.level&&(t.tower_variables.skillPerksUnlocked[se.getPerkIdentifier(e,s)]=!0,s.getEffects().forEach(a=>{a.effect.up(u.get().player,a.value,`${e.slug}_${o}`,"perk")}))})},getExpToNextLevel:function(e){return e.getExpForLevel(se.getSkillState(e).level)},getTooltipProps:function(e){return{component:pe(Zp),skillSlug:e.slug,title:e.name,exp:se.getExp(e),maxExp:se.getExpToNextLevel(e),maxed:se.isMaxLevel(e),rank:se.getRank(e),descriptions:{description:e.description,effects:se.getEffectDescriptions(e),perks:se.getPerkDescriptions(e),type:"Skill"}}},getEffectDescriptions:function(e){return e.getEffects().map(t=>t.effect.getDescription(t.value)+" per level")},getPerkDescriptions:function(e){let t=[];for(let n=0;n<e.perks.length;n++){const s=e.perks[n],o=`Level ${s.level}:`,c=u.get().tower_variables.skillPerksUnlocked[se.getPerkIdentifier(e,s)],f=s.level<=se.getSkillState(e).level;t.push({title:o,descriptions:c||f?s.getEffects().map(h=>h.effect.getDescription(h.value)):["???"],unlocked:f})}return t},isMaxRank:function(e){return se.getRank(e)>=se.maxRank},getRank:function(e){return se.getSkillState(e).rank},updateTooltip:function(e){b.visible&&b.props.skillSlug===e.slug&&Hr(se.getTooltipProps(e))},updateItemTooltip:function(){b.visible&&b.props.inventoryItemId!==void 0&&Hr(je.getTooltipProps(k.getInventoryItemById(b.props.inventoryItemId)))}},Ot=function(e){return{__proto__:Nr(e),type:"consumable",target:e.target,isConsumable:!0,cooldown:e.cooldown||0,getTargetState:function(){return this.target==="enemy"?Ee.getEntityState:q.getEntityState()},use:e.use||function(){let t=this.getTargetState();return t===null?"no-target":(this.getEffects().forEach(n=>{n.effect.up(t,n.value,this.name)}),tt.consumableUsed(this),(this.isFood||this.isDrink||this.isHealthPotion||this.isManaPotion)&&se.gainExp(K.gluttony,1),!0)}}},fa=function(e){return{__proto__:Ot(e),slot:"food",isFood:!0}},Kh=function(){return{dry_bread:fa({slug:"dry_bread",name:"Dry Bread",description:"A piece of dry bread. Somewhat filling, no risk of food poisoning, cheap. Nothing to complain about, right? Right?",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.dry_bread,caster:"player",target:"player"})]}),cooked_rat_meat:fa({slug:"cooked_rat_meat",name:"Cooked Rat Meat",description:"A poor man's solution.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.cooked_rat_meat,caster:"player",target:"player"})]}),cooked_meat:fa({slug:"cooked_meat",name:"Cooked Meat",description:"A good chunk of cooked meat. Tasty and filling.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.cooked_meat,caster:"player",target:"player"})]})}},ye=function(e){const t=e.slug.split("_");t.shift();const n=t.map(s=>Ce(s)).join(" ");return e.name="Diagram - "+n,e.description="Teaches how to make "+n+".",{__proto__:Ot(e),type:"readable",slot:"diagram",isReadable:!0,isDiagram:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"diagram"),getRecipe:e.getRecipe||function(){if(e.getRecipes)return e.getRecipes()[t.join("_")]},use:function(){if(De.hasLearnedRecipe(this.getRecipe()))return"already-learned";on.start(k.getInventoryItem(this))},doneReading:e.doneReading||function(){De.learnRecipe(this.getRecipe())}}},ge=function(e){return{getSkill:e.getSkill||function(){},slug:e.slug,name:e.name,materials:e.materials,results:e.results,expGained:e.expGained||0,canCraft:e.canCraft||function(){return!0},additionalRequirementDescription:e.additionalRequirementDescription}},Gh={slug:"blacksmithing",recipes:{iron_ingot:ge({getSkill:()=>K.blacksmithing,slug:"iron_ingot",name:"Iron Ingot",expGained:1,materials:[{getItem:()=>l.iron_ore,quantity:5}],results:[{getItem:()=>l.iron_ingot,quantity:1}]}),iron_helmet:ge({getSkill:()=>K.blacksmithing,slug:"iron_helmet",name:"Iron Helmet",expGained:5,materials:[{getItem:()=>l.iron_ingot,quantity:5}],results:[{getItem:()=>l.iron_helmet,quantity:1}]}),iron_armor:ge({getSkill:()=>K.blacksmithing,slug:"iron_armor",name:"Iron Armor",expGained:10,materials:[{getItem:()=>l.iron_ingot,quantity:10}],results:[{getItem:()=>l.iron_armor,quantity:1}]}),iron_boots:ge({getSkill:()=>K.blacksmithing,slug:"iron_boots",name:"Iron Boots",expGained:7,materials:[{getItem:()=>l.iron_ingot,quantity:7}],results:[{getItem:()=>l.iron_boots,quantity:1}]}),iron_sword:ge({getSkill:()=>K.blacksmithing,slug:"iron_sword",name:"Iron Sword",expGained:8,materials:[{getItem:()=>l.iron_ingot,quantity:8}],results:[{getItem:()=>l.iron_sword,quantity:1}]})}},Vh={slug:"enchanting",recipes:{enchant_minor_health:ge({getSkill:()=>K.enchanting,slug:"enchant_minor_health",name:"Enchant Minor Health",expGained:5,materials:[{getItem:()=>l.rat_tail,quantity:100}],results:[{getItem:()=>l.enchant_minor_health,quantity:1}]}),enchant_minor_strength:ge({getSkill:()=>K.enchanting,slug:"enchant_minor_strength",name:"Enchant Minor Strength",expGained:5,materials:[{getItem:()=>l.wolf_fang,quantity:1}],results:[{getItem:()=>l.enchant_minor_strength,quantity:1}]}),enchant_minor_intelligence:ge({getSkill:()=>K.enchanting,slug:"enchant_minor_intelligence",name:"Enchant Minor Intelligence",expGained:5,materials:[{getItem:()=>l.feather,quantity:100}],results:[{getItem:()=>l.enchant_minor_intelligence,quantity:1}]}),enchant_minor_dexterity:ge({getSkill:()=>K.enchanting,slug:"enchant_minor_dexterity",name:"Enchant Minor Dexterity",expGained:5,materials:[{getItem:()=>l.rabbit_fur,quantity:100}],results:[{getItem:()=>l.enchant_minor_dexterity,quantity:1}]})}},jh={slug:"tailoring",recipes:{cloth:ge({getSkill:()=>K.tailoring,slug:"cloth",name:"Cloth",expGained:1,materials:[{getItem:()=>l.wool,quantity:5}],results:[{getItem:()=>l.cloth,quantity:1}]}),bandage:ge({getSkill:()=>K.tailoring,slug:"bandage",name:"Bandage",expGained:1,materials:[{getItem:()=>l.cloth,quantity:1}],results:[{getItem:()=>l.bandage,quantity:3}]}),string:ge({getSkill:()=>K.tailoring,slug:"string",name:"String",expGained:1,materials:[{getItem:()=>l.spider_silk,quantity:5}],results:[{getItem:()=>l.string,quantity:1}]}),novice_hat:ge({getSkill:()=>K.tailoring,slug:"novice_hat",name:"Novice Hat",expGained:8,materials:[{getItem:()=>l.cloth,quantity:5},{getItem:()=>l.fragment_mana,quantity:5}],results:[{getItem:()=>l.novice_hat,quantity:1}]}),novice_robe:ge({getSkill:()=>K.tailoring,slug:"novice_robe",name:"Novice Robe",expGained:18,materials:[{getItem:()=>l.cloth,quantity:10},{getItem:()=>l.fragment_mana,quantity:15}],results:[{getItem:()=>l.novice_robe,quantity:1}]}),novice_shoes:ge({getSkill:()=>K.tailoring,slug:"novice_shoes",name:"Novice Shoes",expGained:12,materials:[{getItem:()=>l.cloth,quantity:7},{getItem:()=>l.fragment_mana,quantity:10}],results:[{getItem:()=>l.novice_shoes,quantity:1}]})}},Nh={slug:"woodworking",recipes:{training_sword:ge({getSkill:()=>K.woodworking,slug:"training_sword",name:"Training Sword",expGained:2,materials:[{getItem:()=>l.wood,quantity:10}],results:[{getItem:()=>l.training_sword,quantity:1}]}),wooden_shield:ge({getSkill:()=>K.woodworking,slug:"wooden_shield",name:"Wooden Shield",expGained:2,materials:[{getItem:()=>l.wood,quantity:10}],results:[{getItem:()=>l.wooden_shield,quantity:1}]}),wooden_armguard:ge({getSkill:()=>K.woodworking,slug:"wooden_armguard",name:"Wooden Armguard",expGained:1,materials:[{getItem:()=>l.wood,quantity:6}],results:[{getItem:()=>l.wooden_armguard,quantity:1}]}),novice_staff:ge({getSkill:()=>K.woodworking,slug:"novice_staff",name:"Novice Staff",expGained:12,materials:[{getItem:()=>l.wood,quantity:10},{getItem:()=>l.fragment_mana,quantity:20}],results:[{getItem:()=>l.novice_staff,quantity:1}]}),hunting_bow:ge({getSkill:()=>K.woodworking,slug:"hunting_bow",name:"Hunting Bow",expGained:5,materials:[{getItem:()=>l.wood,quantity:10},{getItem:()=>l.string,quantity:3}],results:[{getItem:()=>l.hunting_bow,quantity:1}]})}},Qh={slug:"cooking",recipes:{cooked_rat_meat:ge({getSkill:()=>K.cooking,slug:"cooked_rat_meat",name:"Cooked Rat Meat",expGained:1,materials:[{getItem:()=>l.rat_meat,quantity:1},{getItem:()=>l.wood,quantity:1}],results:[{getItem:()=>l.cooked_rat_meat,quantity:1}]}),cooked_meat:ge({getSkill:()=>K.cooking,slug:"cooked_meat",name:"Cooked Meat",expGained:2,materials:[{getItem:()=>l.raw_meat,quantity:1},{getItem:()=>l.wood,quantity:1}],results:[{getItem:()=>l.cooked_meat,quantity:1}]})}},Jh={slug:"scrollcrafting",recipes:{scroll_of_arcane_bolt:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_arcane_bolt",name:"Arcane Bolt",expGained:1,materials:[{getItem:()=>l.fragment_mana,quantity:5}],results:[{getItem:()=>l.scroll_of_arcane_bolt,quantity:1}]}),scroll_of_fire_arrow:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_fire_arrow",name:"Fire Arrow",expGained:1,materials:[{getItem:()=>l.fragment_fire,quantity:5}],results:[{getItem:()=>l.scroll_of_fire_arrow,quantity:1}]}),scroll_of_water_splash:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_water_splash",name:"Water Splash",expGained:1,materials:[{getItem:()=>l.fragment_water,quantity:5}],results:[{getItem:()=>l.scroll_of_water_splash,quantity:1}]}),scroll_of_stone_bullet:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_stone_bullet",name:"Stone Bullet",expGained:1,materials:[{getItem:()=>l.fragment_earth,quantity:5}],results:[{getItem:()=>l.scroll_of_stone_bullet,quantity:1}]}),scroll_of_wind_blast:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_wind_blast",name:"Wind Blast",expGained:1,materials:[{getItem:()=>l.fragment_wind,quantity:5}],results:[{getItem:()=>l.scroll_of_wind_blast,quantity:1}]}),scroll_of_heal:ge({getSkill:()=>K.scrollcrafting,slug:"scroll_of_heal",name:"Heal",expGained:1,materials:[{getItem:()=>l.fragment_holy,quantity:5}],results:[{getItem:()=>l.scroll_of_heal,quantity:1}]}),novice_tome:ge({getSkill:()=>K.scrollcrafting,slug:"novice_tome",name:"Novice Tome",expGained:5,materials:[{getItem:()=>l.novice_tome_page,quantity:5},{getItem:()=>l.leather,quantity:1},{getItem:()=>l.fragment_mana,quantity:5}],results:[{getItem:()=>l.novice_tome,quantity:1}]})}},Yh={slug:"runecarving",recipes:{rune_arcane_bolt:ge({getSkill:()=>K.runecarving,slug:"rune_arcane_bolt",name:"Arcane Bolt",expGained:5,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_arcane_bolt,quantity:1},{getItem:()=>l.fragment_mana,quantity:50}],results:[{getItem:()=>l.rune_arcane_bolt,quantity:1}]}),rune_fire_arrow:ge({getSkill:()=>K.runecarving,slug:"rune_fire_arrow",name:"Fire Arrow",expGained:5,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_fire_arrow,quantity:1},{getItem:()=>l.fragment_fire,quantity:50}],results:[{getItem:()=>l.rune_fire_arrow,quantity:1}]}),rune_water_splash:ge({getSkill:()=>K.runecarving,slug:"rune_water_splash",name:"Water Splash",expGained:5,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_water_splash,quantity:1},{getItem:()=>l.fragment_water,quantity:50}],results:[{getItem:()=>l.rune_water_splash,quantity:1}]}),rune_stone_bullet:ge({getSkill:()=>K.runecarving,slug:"rune_stone_bullet",name:"Stone Bullet",expGained:5,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_stone_bullet,quantity:1},{getItem:()=>l.fragment_earth,quantity:50}],results:[{getItem:()=>l.rune_stone_bullet,quantity:1}]}),rune_wind_blast:ge({getSkill:()=>K.runecarving,slug:"rune_wind_blast",name:"Wind Blast",expGained:5,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_wind_blast,quantity:1},{getItem:()=>l.fragment_wind,quantity:50}],results:[{getItem:()=>l.rune_wind_blast,quantity:1}]}),rune_heal:ge({getSkill:()=>K.runecarving,slug:"rune_heal",name:"Heal",expGained:10,materials:[{getItem:()=>l.rune,quantity:1},{getItem:()=>l.scroll_of_heal,quantity:1},{getItem:()=>l.fragment_holy,quantity:50}],results:[{getItem:()=>l.rune_heal,quantity:1}],canCraft:()=>se.getLevel(K.runecarving)>=1,additionalRequirementDescription:"Requires Runecarving level 1"})}},zh={slug:"leatherworking",recipes:{leather:ge({getSkill:()=>K.leatherworking,slug:"leather",name:"Leather",expGained:1,materials:[{getItem:()=>l.raw_hide,quantity:5}],results:[{getItem:()=>l.leather,quantity:1}]}),leather_hat:ge({getSkill:()=>K.leatherworking,slug:"leather_hat",name:"Leather Hat",expGained:5,materials:[{getItem:()=>l.leather,quantity:5}],results:[{getItem:()=>l.leather_hat,quantity:1}]}),leather_armor:ge({getSkill:()=>K.leatherworking,slug:"leather_armor",name:"Leather Armor",expGained:10,materials:[{getItem:()=>l.leather,quantity:10}],results:[{getItem:()=>l.leather_armor,quantity:1}]}),leather_shoes:ge({getSkill:()=>K.leatherworking,slug:"leather_shoes",name:"Leather Shoes",expGained:7,materials:[{getItem:()=>l.leather,quantity:7}],results:[{getItem:()=>l.leather_shoes,quantity:1}]}),bear_cloak:ge({getSkill:()=>K.leatherworking,slug:"bear_cloak",name:"Bear Cloak",expGained:15,materials:[{getItem:()=>l.pristine_bear_pelt,quantity:1},{getItem:()=>l.string,quantity:5},{getItem:()=>l.leather,quantity:5}],results:[{getItem:()=>l.bear_cloak,quantity:1}]}),quiver:ge({getSkill:()=>K.leatherworking,slug:"quiver",name:"Quiver",expGained:7,materials:[{getItem:()=>l.leather,quantity:5},{getItem:()=>l.string,quantity:2}],results:[{getItem:()=>l.quiver,quantity:1}]})}},Xh={slug:"jewelcrafting",recipes:{wolf_fang_amulet:ge({getSkill:()=>K.jewelcrafting,slug:"wolf_fang_amulet",name:"Wolf Fang Amulet",expGained:10,materials:[{getItem:()=>l.wolf_fang,quantity:5}],results:[{getItem:()=>l.wolf_fang_amulet,quantity:1}]}),iron_ring:ge({getSkill:()=>K.jewelcrafting,slug:"iron_ring",name:"Iron Ring",expGained:2,materials:[{getItem:()=>l.iron_ingot,quantity:2}],results:[{getItem:()=>l.iron_ring,quantity:1}]}),iron_earring:ge({getSkill:()=>K.jewelcrafting,slug:"iron_earring",name:"Iron Earring",expGained:2,materials:[{getItem:()=>l.iron_ingot,quantity:2}],results:[{getItem:()=>l.iron_earring,quantity:1}]}),slime_ring:ge({getSkill:()=>K.jewelcrafting,slug:"slime_ring",name:"Slime Ring",expGained:5,materials:[{getItem:()=>l.iron_ingot,quantity:3},{getItem:()=>l.item_slime,quantity:20}],results:[{getItem:()=>l.slime_ring,quantity:1}]}),slime_earring:ge({getSkill:()=>K.jewelcrafting,slug:"slime_earring",name:"Slime Earring",expGained:5,materials:[{getItem:()=>l.iron_ingot,quantity:3},{getItem:()=>l.item_slime,quantity:20}],results:[{getItem:()=>l.slime_earring,quantity:1}]})}},Zh={slug:"alchemy",recipes:{bone_dust:ge({getSkill:()=>K.alchemy,slug:"bone_dust",name:"Bone Dust",expGained:1,materials:[{getItem:()=>l.bone,quantity:1}],results:[{getItem:()=>l.bone_dust,quantity:1}]}),antidote:ge({getSkill:()=>K.alchemy,slug:"antidote",name:"Antidote",expGained:2,materials:[{getItem:()=>l.water,quantity:1},{getItem:()=>l.herb,quantity:3}],results:[{getItem:()=>l.antidote,quantity:1}]}),enchanted_water:ge({getSkill:()=>K.alchemy,slug:"enchanted_water",name:"Enchanted Water",expGained:2,materials:[{getItem:()=>l.water,quantity:1},{getItem:()=>l.fragment_mana,quantity:2}],results:[{getItem:()=>l.enchanted_water,quantity:1}]}),minor_healing_potion:ge({getSkill:()=>K.alchemy,slug:"minor_healing_potion",name:"Minor Healing Potion",expGained:3,materials:[{getItem:()=>l.herb,quantity:3},{getItem:()=>l.item_slime,quantity:1}],results:[{getItem:()=>l.minor_healing_potion,quantity:1}]}),healing_potion:ge({getSkill:()=>K.alchemy,slug:"healing_potion",name:"Healing Potion",expGained:5,materials:[{getItem:()=>l.herb,quantity:5},{getItem:()=>l.item_slime,quantity:2},{getItem:()=>l.bone_dust,quantity:1}],results:[{getItem:()=>l.healing_potion,quantity:1}]}),minor_mana_potion:ge({getSkill:()=>K.alchemy,slug:"minor_mana_potion",name:"Minor Mana Potion",expGained:3,materials:[{getItem:()=>l.fragment_mana,quantity:3},{getItem:()=>l.item_slime,quantity:1}],results:[{getItem:()=>l.minor_mana_potion,quantity:1}]}),mana_potion:ge({getSkill:()=>K.alchemy,slug:"mana_potion",name:"Mana Potion",expGained:5,materials:[{getItem:()=>l.fragment_mana,quantity:5},{getItem:()=>l.item_slime,quantity:2},{getItem:()=>l.bat_wing,quantity:1}],results:[{getItem:()=>l.mana_potion,quantity:1}]})}},xt={blacksmithing:Gh,tailoring:jh,enchanting:Vh,woodworking:Nh,cooking:Qh,alchemy:Zh,scrollcrafting:Jh,runecarving:Yh,leatherworking:zh,jewelcrafting:Xh},$o=()=>xt.blacksmithing.recipes,e0=function(e){return{diagram_iron_ingot:ye({slug:"diagram_iron_ingot",readingDuration:e*2,getRecipes:$o}),diagram_iron_sword:ye({slug:"diagram_iron_sword",readingDuration:e*10,getRecipes:$o}),diagram_iron_helmet:ye({slug:"diagram_iron_helmet",readingDuration:e*8,getRecipes:$o}),diagram_iron_armor:ye({slug:"diagram_iron_armor",readingDuration:e*10,getRecipes:$o}),diagram_iron_boots:ye({slug:"diagram_iron_boots",readingDuration:e*8,getRecipes:$o})}},Ho=()=>xt.woodworking.recipes,t0=function(e){return{diagram_training_sword:ye({slug:"diagram_training_sword",readingDuration:e,getRecipes:Ho}),diagram_wooden_shield:ye({slug:"diagram_wooden_shield",readingDuration:e,getRecipes:Ho}),diagram_wooden_armguard:ye({slug:"diagram_wooden_armguard",readingDuration:e,getRecipes:Ho}),diagram_novice_staff:ye({slug:"diagram_novice_staff",readingDuration:e*10,getRecipes:Ho}),diagram_hunting_bow:ye({slug:"diagram_hunting_bow",readingDuration:e*10,getRecipes:Ho})}},ao=()=>xt.tailoring.recipes,n0=function(e){return{diagram_cloth:ye({slug:"diagram_cloth",readingDuration:e*2,getRecipes:ao}),diagram_bandage:ye({slug:"diagram_bandage",readingDuration:e*3,getRecipes:ao}),diagram_string:ye({slug:"diagram_string",readingDuration:e*3,getRecipes:ao}),diagram_novice_hat:ye({slug:"diagram_novice_hat",readingDuration:e*8,getRecipes:ao}),diagram_novice_robe:ye({slug:"diagram_novice_robe",readingDuration:e*10,getRecipes:ao}),diagram_novice_shoes:ye({slug:"diagram_novice_shoes",readingDuration:e*8,getRecipes:ao})}},gs=()=>xt.scrollcrafting.recipes,s0=function(e){return{diagram_scroll_of_arcane_bolt:ye({slug:"diagram_scroll_of_arcane_bolt",readingDuration:e*6,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_arcane_bolt,!0)}}),diagram_scroll_of_fire_arrow:ye({slug:"diagram_scroll_of_fire_arrow",readingDuration:e*6,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_fire_arrow,!0)}}),diagram_scroll_of_water_splash:ye({slug:"diagram_scroll_of_water_splash",readingDuration:e*6,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_water_splash,!0)}}),diagram_scroll_of_stone_bullet:ye({slug:"diagram_scroll_of_stone_bullet",readingDuration:e*6,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_stone_bullet,!0)}}),diagram_scroll_of_wind_blast:ye({slug:"diagram_scroll_of_wind_blast",readingDuration:e*6,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_wind_blast,!0)}}),diagram_scroll_of_heal:ye({slug:"diagram_scroll_of_heal",readingDuration:e*12,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_heal,!0)}}),diagram_novice_tome:ye({slug:"diagram_novice_tome",readingDuration:e*8,getRecipes:gs,doneReading:function(){De.learnRecipe(this.getRecipe())}})}},lo=()=>xt.leatherworking.recipes,i0=function(e){return{diagram_leather:ye({slug:"diagram_leather",readingDuration:e,getRecipes:lo}),diagram_leather_hat:ye({slug:"diagram_leather_hat",readingDuration:e*8,getRecipes:lo}),diagram_leather_armor:ye({slug:"diagram_leather_armor",readingDuration:e*10,getRecipes:lo}),diagram_leather_shoes:ye({slug:"diagram_leather_shoes",readingDuration:e*8,getRecipes:lo}),diagram_bear_cloak:ye({slug:"diagram_bear_cloak",readingDuration:e*10,getRecipes:lo}),diagram_quiver:ye({slug:"diagram_quiver",readingDuration:e*8,getRecipes:lo})}},fs=()=>xt.alchemy.recipes,o0=function(e){return{diagram_bone_dust:ye({slug:"diagram_bone_dust",readingDuration:e*2,getRecipes:fs}),diagram_antidote:ye({slug:"diagram_antidote",readingDuration:e*3,getRecipes:fs}),diagram_enchanted_water:ye({slug:"diagram_enchanted_water",readingDuration:e*3,getRecipes:fs}),diagram_minor_healing_potion:ye({slug:"diagram_minor_healing_potion",readingDuration:e*6,getRecipes:fs}),diagram_healing_potion:ye({slug:"diagram_healing_potion",readingDuration:e*12,getRecipes:fs}),diagram_minor_mana_potion:ye({slug:"diagram_minor_mana_potion",readingDuration:e*6,getRecipes:fs}),diagram_mana_potion:ye({slug:"diagram_mana_potion",readingDuration:e*12,getRecipes:fs})}},r0=function(e){return{}},_r=()=>xt.enchanting.recipes,a0=function(e){return{diagram_enchant_minor_health:ye({slug:"diagram_enchant_minor_health",readingDuration:e*36,getRecipes:_r}),diagram_enchant_minor_strength:ye({slug:"diagram_enchant_minor_strength",readingDuration:e*36,getRecipes:_r}),diagram_enchant_minor_intelligence:ye({slug:"diagram_enchant_minor_intelligence",readingDuration:e*36,getRecipes:_r}),diagram_enchant_minor_dexterity:ye({slug:"diagram_enchant_minor_dexterity",readingDuration:e*36,getRecipes:_r})}},Po=()=>xt.jewelcrafting.recipes,Co=60,l0=function(e){return{diagram_wolf_fang_amulet:ye({slug:"diagram_wolf_fang_amulet",readingDuration:Co*12,getRecipes:Po}),diagram_iron_ring:ye({slug:"diagram_iron_ring",readingDuration:Co*6,getRecipes:Po}),diagram_iron_earring:ye({slug:"diagram_iron_earring",readingDuration:Co*6,getRecipes:Po}),diagram_slime_ring:ye({slug:"diagram_slime_ring",readingDuration:Co*10,getRecipes:Po}),diagram_slime_earring:ye({slug:"diagram_slime_earring",readingDuration:Co*10,getRecipes:Po})}},ms=60,c0=function(){return{...e0(ms),...t0(ms),...n0(ms),...s0(ms),...i0(ms),...o0(ms),...r0(),...a0(ms),...l0()}},Sn=function(e){return{__proto__:Ot(e),type:"readable",slot:"book",isReadable:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"book"),use:function(){on.start(k.getInventoryItem(this))},doneReading:e.doneReading||function(){}}},xn=60,u0=function(){return{book_blacksmithing:Sn({slug:"book_blacksmithing",name:"Blacksmithing manual",description:"Grants <span class='c-highlight'>Blacksmithing Theory</span>. Upon using <span class='c-highlight'>Blacksmithing Theory</span>, you will gain 100% more Blacksmithing experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_blacksmithing_buff,1)}}),book_tailoring:Sn({slug:"book_tailoring",name:"Tailoring manual",description:"Grants <span class='c-highlight'>Tailoring Theory</span>. Upon using <span class='c-highlight'>Tailoring Theory</span>, you will gain 100% more Tailoring experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_tailoring_buff,1)}}),book_enchanting:Sn({slug:"book_enchanting",name:"Enchanting manual",description:"Grants <span class='c-highlight'>Enchanting Theory</span>. Upon using <span class='c-highlight'>Enchanting Theory</span>, you will gain 100% more Enchanting experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_enchanting_buff,1)}}),book_woodworking:Sn({slug:"book_woodworking",name:"Woodworking manual",description:"Grants <span class='c-highlight'>Woodworking Theory</span>. Upon using <span class='c-highlight'>Woodworking Theory</span>, you will gain 100% more Woodworking experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_woodworking_buff,1)}}),book_cooking:Sn({slug:"book_cooking",name:"Cooking manual",description:"Grants <span class='c-highlight'>Cooking Theory</span>. Upon using <span class='c-highlight'>Cooking Theory</span>, you will gain 100% more Cooking experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_cooking_buff,1)}}),book_alchemy:Sn({slug:"book_alchemy",name:"Alchemy manual",description:"Grants <span class='c-highlight'>Alchemy Theory</span>. Upon using <span class='c-highlight'>Alchemy Theory</span>, you will gain 100% more Alchemy experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_alchemy_buff,1)}}),book_scrollcrafting:Sn({slug:"book_scrollcrafting",name:"Scrollcrafting manual",description:"Grants <span class='c-highlight'>Scrollcrafting Theory</span>. Upon using <span class='c-highlight'>Scrollcrafting Theory</span>, you will gain 100% more Scrollcrafting experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_scrollcrafting_buff,1)}}),book_runecarving:Sn({slug:"book_runecarving",name:"Runecarving manual",description:"Grants <span class='c-highlight'>Runecarving Theory</span>. Upon using <span class='c-highlight'>Runecarving Theory</span>, you will gain 100% more Runecarving experience.",readingDuration:xn*60,doneReading:function(){k.add(l.book_runecarving_buff,1)}}),book_leatherworking:Sn({slug:"book_leatherworking",name:"Leatherworking manual",description:"Grants <span class='c-highlight'>Leatherworking Theory</span>. Upon using <span class='c-highlight'>Leatherworking Theory</span>, you will gain 100% more Leatherworking experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_leatherworking_buff,1)}}),book_jewelcrafting:Sn({slug:"book_jewelcrafting",name:"Jewelcrafting manual",description:"Grants <span class='c-highlight'>Jewelcrafting Theory</span>. Upon using <span class='c-highlight'>Jewelcrafting Theory</span>, you will gain 100% more Jewelcrafting experience.",readingDuration:xn*30,doneReading:function(){k.add(l.book_jewelcrafting_buff,1)}})}},d0=function(e){return{__proto__:Ot(e),slot:"drink",isDrink:!0}},g0=function(){return{water:d0({slug:"water",name:"Water",description:"Clean water, refreshing.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.water,caster:"player",target:"player"})]})}},Xl=function(e){return{__proto__:Ot(e),slot:"potion_health",isHealthPotion:!0}},f0=function(){return{minor_healing_potion:Xl({slug:"minor_healing_potion",name:"Minor Healing Potion",description:"Cheap version of the healing potion, has minor healing effect.",cooldown:5,getEffects:function(){return[i.createRecoverHpPercentage(10)]}}),healing_potion:Xl({slug:"healing_potion",name:"Healing Potion",description:"Standard healing potion, has decent healing effect",cooldown:10,getEffects:function(){return[i.createRecoverHpPercentage(25)]}})}},Zl=function(e){return{__proto__:Ot(e),slot:"potion_mana",isManaPotion:!0}},m0=function(){return{minor_mana_potion:Zl({slug:"minor_mana_potion",name:"Minor Mana Potion",description:"Cheap version of the mana potion, restores a small amount of mana.",cooldown:5,getEffects:function(){return[i.createRecoverMpPercentage(10)]}}),mana_potion:Zl({slug:"mana_potion",name:"Mana Potion",description:"Standard mana potion, restores a decent amount of mana.",cooldown:10,getEffects:function(){return[i.createRecoverMpPercentage(25)]}})}},Be=function(e){const t=e.slug.split("_");return t.shift(),t.shift(),{__proto__:Ot(e),type:"readable",slot:"bestiary_book",isReadable:!0,isBestiaryBook:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"book"),getEnemy:e.getEnemy||function(){return ae[t.join("_")]},getName:function(){return"Bestiary Book - "+this.getEnemy().getName()},getDescription:function(){return"Unlock bestiary entry for "+this.getEnemy().getName()+"."},use:function(){if(Fn.isEntryUnlocked(this.getEnemy()))return"already-learned";on.start(k.getInventoryItem(this))},doneReading:e.doneReading||function(){Fn.unlockEntry(this.getEnemy())}}},qe=1,p0=function(){return{bestiary_book_rat:Be({slug:"bestiary_book_rat",readingDuration:qe}),bestiary_book_training_dummy:Be({slug:"bestiary_book_training_dummy",readingDuration:qe}),bestiary_book_tree:Be({slug:"bestiary_book_tree",readingDuration:qe}),bestiary_book_weed:Be({slug:"bestiary_book_weed",readingDuration:qe}),bestiary_book_chicken:Be({slug:"bestiary_book_chicken",readingDuration:qe}),bestiary_book_rabbit:Be({slug:"bestiary_book_rabbit",readingDuration:qe}),bestiary_book_mountain_goat:Be({slug:"bestiary_book_mountain_goat",readingDuration:qe}),bestiary_book_warthog:Be({slug:"bestiary_book_warthog",readingDuration:qe}),bestiary_book_wolf:Be({slug:"bestiary_book_wolf",readingDuration:qe}),bestiary_book_bear:Be({slug:"bestiary_book_bear",readingDuration:qe}),bestiary_book_bat:Be({slug:"bestiary_book_bat",readingDuration:qe}),bestiary_book_spider:Be({slug:"bestiary_book_spider",readingDuration:qe}),bestiary_book_iron_vein:Be({slug:"bestiary_book_iron_vein",readingDuration:qe}),bestiary_book_slime:Be({slug:"bestiary_book_slime",readingDuration:qe}),bestiary_book_slime_water:Be({slug:"bestiary_book_slime_water",readingDuration:qe}),bestiary_book_slime_fire:Be({slug:"bestiary_book_slime_fire",readingDuration:qe}),bestiary_book_slime_earth:Be({slug:"bestiary_book_slime_earth",readingDuration:qe}),bestiary_book_slime_wind:Be({slug:"bestiary_book_slime_wind",readingDuration:qe}),bestiary_book_slime_holy:Be({slug:"bestiary_book_slime_holy",readingDuration:qe}),bestiary_book_slime_shadow:Be({slug:"bestiary_book_slime_shadow",readingDuration:qe}),bestiary_book_slimer:Be({slug:"bestiary_book_slimer",readingDuration:qe}),bestiary_book_slimer_water:Be({slug:"bestiary_book_slimer_water",readingDuration:qe}),bestiary_book_slimer_fire:Be({slug:"bestiary_book_slimer_fire",readingDuration:qe}),bestiary_book_slimer_earth:Be({slug:"bestiary_book_slimer_earth",readingDuration:qe}),bestiary_book_slimer_wind:Be({slug:"bestiary_book_slimer_wind",readingDuration:qe}),bestiary_book_slimer_holy:Be({slug:"bestiary_book_slimer_holy",readingDuration:qe}),bestiary_book_slimer_shadow:Be({slug:"bestiary_book_slimer_shadow",readingDuration:qe}),bestiary_book_slimelord:Be({slug:"bestiary_book_slimelord",readingDuration:qe}),bestiary_book_slimelord_water:Be({slug:"bestiary_book_slimelord_water",readingDuration:qe}),bestiary_book_slimelord_fire:Be({slug:"bestiary_book_slimelord_fire",readingDuration:qe}),bestiary_book_slimelord_earth:Be({slug:"bestiary_book_slimelord_earth",readingDuration:qe}),bestiary_book_slimelord_wind:Be({slug:"bestiary_book_slimelord_wind",readingDuration:qe}),bestiary_book_slimelord_holy:Be({slug:"bestiary_book_slimelord_holy",readingDuration:qe}),bestiary_book_slimelord_shadow:Be({slug:"bestiary_book_slimelord_shadow",readingDuration:qe})}},Mn=function(e){return{__proto__:Ot(e),slot:"book_buff",isBookBuff:!0,getIcon:e.getIcon||(()=>"book")}},_0=function(){return{book_blacksmithing_buff:Mn({slug:"book_blacksmithing_buff",name:"Blacksmithing Theory",description:"Acquired blacksmithing theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_blacksmithing_buff,caster:"player",target:"player"})]}),book_tailoring_buff:Mn({slug:"book_tailoring_buff",name:"Tailoring Theory",description:"Acquired tailoring theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_tailoring_buff,caster:"player",target:"player"})]}),book_enchanting_buff:Mn({slug:"book_enchanting_buff",name:"Enchanting Theory",description:"Acquired enchanting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_enchanting_buff,caster:"player",target:"player"})]}),book_woodworking_buff:Mn({slug:"book_woodworking_buff",name:"Woodworking Theory",description:"Acquired woodworking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_woodworking_buff,caster:"player",target:"player"})]}),book_cooking_buff:Mn({slug:"book_cooking_buff",name:"Cooking Theory",description:"Acquired cooking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_cooking_buff,caster:"player",target:"player"})]}),book_alchemy_buff:Mn({slug:"book_alchemy_buff",name:"Alchemy Theory",description:"Acquired alchemy theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_alchemy_buff,caster:"player",target:"player"})]}),book_scrollcrafting_buff:Mn({slug:"book_scrollcrafting_buff",name:"Scrollcrafting Theory",description:"Acquired scrollcrafting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_scrollcrafting_buff,caster:"player",target:"player"})]}),book_runecarving_buff:Mn({slug:"book_runecarving_buff",name:"Runecarving Theory",description:"Acquired runecarving theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_runecarving_buff,caster:"player",target:"player"})]}),book_leatherworking_buff:Mn({slug:"book_leatherworking_buff",name:"Leatherworking Theory",description:"Acquired leatherworking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_leatherworking_buff,caster:"player",target:"player"})]}),book_jewelcrafting_buff:Mn({slug:"book_jewelcrafting_buff",name:"Jewelcrafting Theory",description:"Acquired jewelcrafting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.book_jewelcrafting_buff,caster:"player",target:"player"})]})}},h0=function(){return{...Kh(),...g0(),...c0(),...p0(),...u0(),..._0(),...f0(),...m0(),bandage:Ot({slug:"bandage",name:"Bandage",slot:"Medicine",description:"Cloth bandage, effective at stopping bleeding.",getEffects:function(){return[i.createRemoveBleeding()]}}),antidote:Ot({slug:"antidote",name:"Antidote",slot:"Medicine",description:"Mixture of medicinal ingredients, effective at stopping most poisons.",getEffects:function(){return[i.createRemovePoison()]}}),enchanted_water:Ot({slug:"enchanted_water",name:"Enchanted Water",slot:"Medicine",description:"A jug of enchanted water, effective at dousing basic magical fire.",getEffects:function(){return[i.createRemoveBurning()]}}),kacadu_blessing:Ot({slug:"kacadu_blessing",name:"Kacadu's Blessing",slot:"potion",description:"THE POWAH",getEffects:function(){return[i.createStatusEffectTriggerEffect({statusEffect:_e.kacadu_blessing,caster:"player",target:"player"})]}}),throwing_stone:Ot({slug:"throwing_stone",name:"Throwing Stone",slot:"throwable",description:"Might hurt a bit",target:"enemy",getEffects:function(){return[i.createTakeHp(10)]}})}},qn=function(e){return{__proto__:Ot(e),type:"enchant",isEnchant:!0,use:function(){kt.start(k.getInventoryItem(this))}}},y0=function(){return{enchant_minor_health:qn({slug:"enchant_minor_health",name:"Enchant - Minor Health",description:"A weak enchant that increases the user's health a little.",getIcon:()=>"health",getEffects:()=>[i.createMaxHp(10)]}),enchant_minor_strength:qn({slug:"enchant_minor_strength",name:"Enchant - Minor Strength",description:"A weak enchant that increases the user's strength a little.",getIcon:()=>"strength",getEffects:()=>[i.createStr(1)]}),enchant_minor_intelligence:qn({slug:"enchant_minor_intelligence",name:"Enchant - Minor Intelligence",description:"A weak enchant that increases the user's intelligence a little.",getIcon:()=>"intelligence",getEffects:()=>[i.createInt(1)]}),enchant_minor_dexterity:qn({slug:"enchant_minor_dexterity",name:"Enchant - Minor Dexterity",description:"A weak enchant that increases the user's dexterity a little.",getIcon:()=>"dexterity",getEffects:()=>[i.createDex(10)]}),enchant_poison:qn({slug:"enchant_poison",name:"Enchant - Poison",description:"When applied to equipment, causes the enemy to get poisoned with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.poison,caster:"player",target:"enemy"})]}),enchant_burning:qn({slug:"enchant_burning",name:"Enchant - Burning",description:"When applied to equipment, causes burning to the enemy with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.burning,caster:"player",target:"enemy"})]}),enchant_bleeding:qn({slug:"enchant_bleeding",name:"Enchant - Bleeding",description:"When applied to equipment, causes bleeding to the enemy with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.bleeding,caster:"player",target:"enemy"})]}),enchant_kacadu_blessing:qn({slug:"enchant_kacadu_blessing",name:"Enchant - Kacadu's blessing",description:"♥",getEffects:()=>[i.createMaxHp(1e3),i.createMaxMp(500),i.createStr(50),i.createInt(50)]})}},Ve=function(e){return{__proto__:Nr(e),type:"material",getTypeDescription:e.getTypeDescription||function(){return Ce(this.type)}}},v0=function(){return{fragment_mana:Ve({slug:"fragment_mana",name:"Mana Fragment",description:"Crystallized mana, rarely found in entities of magical nature, or those touched by mana.<br><br> Small and filled with impurities."}),fragment_fire:Ve({slug:"fragment_fire",name:"Fire Fragment",description:"Crystallized fire-attuned mana, rarely found in entities of fire nature.<br><br> Small and filled with impurities."}),fragment_water:Ve({slug:"fragment_water",name:"Water Fragment",description:"Crystallized water-attuned mana, rarely found in entities of water nature.<br><br> Small and filled with impurities."}),fragment_earth:Ve({slug:"fragment_earth",name:"Earth Fragment",description:"Crystallized earth-attuned mana, rarely found in entities of earth nature.<br><br> Small and filled with impurities."}),fragment_wind:Ve({slug:"fragment_wind",name:"Wind Fragment",description:"Crystallized wind-attuned mana, rarely found in entities of wind nature.<br><br> Small and filled with impurities."}),fragment_shadow:Ve({slug:"fragment_shadow",name:"Shadow Fragment",description:"Crystallized shadow-attuned mana, rarely found in entities of shadow nature.<br><br> Small and filled with impurities."}),fragment_holy:Ve({slug:"fragment_holy",name:"Holy Fragment",description:"Crystallized holy-attuned mana, rarely found in entities of holy nature.<br><br> Small and filled with impurities."})}},k0=function(){return{...v0(),rat_meat:Ve({slug:"rat_meat",name:"Rat Meat",description:"Beggars can't be choosers. Although you should probably cook it first."}),raw_meat:Ve({slug:"raw_meat",name:"Raw Meat",description:"A piece of raw flesh, better cook it first."}),wood:Ve({slug:"wood",name:"Wood",description:"A piece of wood."}),herb:Ve({slug:"herb",name:"Herb",description:"Herb, commonly used in medicine."}),bone:Ve({slug:"bone",name:"Bone",description:"Bone extracted from medium-sized beast. Can be processed in multiple ways."}),bone_dust:Ve({slug:"bone_dust",name:"Bone Dust",description:"A ground bone, necessary ingredient when it comes to crafting potions. Mainly those of recovery nature."}),item_slime:Ve({slug:"item_slime",name:"Slime",description:"Said to have mild healing effects. Also used as a binding agent."}),raw_hide:Ve({slug:"raw_hide",name:"Raw Hide",description:"Raw material used in crafting leather."}),leather:Ve({slug:"leather",name:"Leather",description:"Processed material, mostly used in making leather armor and durable working clothes."}),pristine_bear_pelt:Ve({slug:"pristine_bear_pelt",name:"Pristine Bear Pelt",description:"Perfectly extracted bear pelt, would make for a great cloak. Perhaps someone skilled with leather could help with that."}),wool:Ve({slug:"wool",name:"Wool",description:"Raw material used in crafting cloth."}),cloth:Ve({slug:"cloth",name:"Cloth",description:"Processed material, mostly used in making warm clothes. Also the material of choice for crafting magical robes."}),spider_silk:Ve({slug:"spider_silk",name:"Spider Silk",description:"Very durable and flexible, can be processed into string."}),string:Ve({slug:"string",name:"String",description:"Made out of spider silk. Necessary component when crafting clothes."}),wolf_fang:Ve({slug:"wolf_fang",name:"Wolf Fang",description:"Large wolf fang."}),iron_ore:Ve({slug:"iron_ore",name:"Iron Ore",description:"Raw material used in crafting iron ingots."}),iron_ingot:Ve({slug:"iron_ingot",name:"Iron Ingot",description:"Valuable material used for many things. Perfect for crafting durable weapons and armor."}),rune:Ve({slug:"rune",name:"Rune",description:"A piece of blank runestone, very rare and valuable. Used in making spell runes."}),feather:Ve({slug:"feather",name:"Feather",description:"A piece of feather."}),rabbit_fur:Ve({slug:"rabbit_fur",name:"Rabbit Fur",description:"A piece of rabbit fur."}),rat_tail:Ve({slug:"rat_tail",name:"Rat Tail",description:"A rat tail. Yuck."}),bat_wing:Ve({slug:"bat_wing",name:"Bat Wing",description:"A bat wing, might have some use in alchemy."})}},w0=["innerHTML"],b0=["innerHTML"],E0={key:1,class:"desc effects"},I0=["innerHTML"],S0={key:2,class:"enchants"},x0={class:"desc enchant"},M0=["innerHTML"],R0=["innerHTML"],T0={key:3,class:"description money"},D0=["innerHTML"],$0={__name:"SplitTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(b).props.title},null,8,w0),r(b).props.descriptions.description?(d(),m("div",{key:0,class:"desc lore",innerHTML:r(b).props.descriptions.description},null,8,b0)):R("",!0),r(b).props.descriptions.effects&&r(b).props.descriptions.effects.length>0?(d(),m("div",E0,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,s=>(d(),m("div",{innerHTML:s},null,8,I0))),256))])):R("",!0),r(b).props.descriptions.enchants.length?(d(),m("div",S0,[(d(!0),m(B,null,re(r(b).props.descriptions.enchants,s=>(d(),m("div",x0,[g("div",{class:"enchant-title",innerHTML:s.title},null,8,M0),(d(!0),m(B,null,re(s.descriptions,o=>(d(),m("div",{class:"enchant-stats",innerHTML:o},null,8,R0))),256))]))),256))])):R("",!0),r(b).props.price?(d(),m("div",T0,[X(Wn,{money:r(b).props.price},null,8,["money"])])):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:4,class:"desc type",innerHTML:r(b).props.descriptions.type},null,8,D0)):R("",!0),r(b).props.maxExp?(d(),Se(Xt,{key:5,label:"",value:r(b).props.maxed?1:r(b).props.exp,maxValue:r(b).props.maxed?1:r(b).props.maxExp,color:"item-rank",hideValues:!!r(b).props.maxed},null,8,["value","maxValue","hideValues"])):R("",!0),r(b).props.startedAwakening?(d(),Se(Xt,{key:6,class:"awakening",label:"",value:r(b).props.isAwakened?1:r(b).props.awakeningExp,maxValue:r(b).props.isAwakened?1:r(b).props.requiredAwakeningExp,color:"item-awakening",hideValues:!!r(b).props.isAwakened},null,8,["value","maxValue","hideValues"])):R("",!0)],64))}},H0=j($0,[["__scopeId","data-v-7924b157"]]),nt=function(e){return{__proto__:Nr(e),type:"equip",isEquip:!0,powerLevel:e.powerLevel||1e3,enchantSlotsCount:e.enchantSlotsCount||0,canAwaken:e.canAwaken||!1,awakenedName:e.awakenedName||e.name,awakenedDescription:e.awakenedDescription||e.description,awakenedEnchantSlotsCount:e.awakenedEnchantSlotsCount||e.enchantSlotsCount,requiredAwakeningExp:e.requiredAwakeningExp||1,onAwakening:e.onAwakening||function(){},requiredRankExpModifier:e.requiredRankExpModifier||1,getExpForRank:e.getExpForRank||function(t){switch(t){case 0:return 1e3*this.requiredRankExpModifier;case 1:return 3e3*this.requiredRankExpModifier;case 2:return 9e3*this.requiredRankExpModifier;case 3:return 25e3*this.requiredRankExpModifier;case 4:return 4e4*this.requiredRankExpModifier;case 5:return 75e3*this.requiredRankExpModifier;case 6:return 15e4*this.requiredRankExpModifier}},getAwakenedEffects:e.getAwakenedEffects||function(){},getTooltipProps:e.getTooltipProps||function(t){return t=t||{},{component:pe(H0),split:!0,rank:t.rank,price:t==null?void 0:t.price,title:Wt(t.isAwakened?this.awakenedName:this.name,t.rank,t.isAwakened),descriptions:{description:t.isAwakened?this.awakenedDescription:this.description,effects:this.getEffectDescriptions(t.rank,t.isAwakened),type:this.getTypeDescription(),enchants:[...Array(this.enchantSlotsCount).keys()].map(()=>({title:"<span class='c-gray'>Empty enchant slot</span>"}))}}},getEffectDescriptions:function(t,n){return t=t||0,(n?this.getAwakenedEffects():this.getEffects()).map(s=>s.effect.getDescription(fe.getRankEffectModifier(s.value,t)))}}},P0=function(){return{wooden_shield:nt({slug:"wooden_shield",slot:"offhand",name:"Wooden Shield",description:"Handy shield, might save your life.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.3,getEffects:()=>[i.createDef(5),i.createDr(1)]}),quiver:nt({slug:"quiver",slot:"offhand",name:"Quiver",description:"Basic leather quiver.",enchantSlotsCount:1,powerLevel:5,getEffects:()=>[i.createDex(50)]}),novice_tome:nt({slug:"novice_tome",slot:"offhand",name:"Novice Tome",description:"Basic tome for novice mages. Improves spell casting ability.",enchantSlotsCount:2,powerLevel:5,getEffects:()=>[i.createIntPercentage(3),i.createMaxMpPercentage(3),i.createManaEfficiency(3)]})}},C0=function(){return{test_weapon:nt({slug:"test_weapon",slot:"weapon",name:"Test Weapon",description:"Testing weapon, you should not have this. Tsk tsk.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createFireWeaponElement()],requiredRankExpModifier:.1,getIcon:()=>"training_sword"}),test_weapon2:nt({slug:"test_weapon2",slot:"offhand",name:"Test Weapon",description:"Testing weapon, you should not have this. Tsk tsk.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createWaterWeaponElement()],requiredRankExpModifier:.1,getIcon:()=>"training_sword"}),training_sword:nt({slug:"training_sword",slot:"weapon",name:"Training Sword",description:"Basic training sword, made out of wood.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createStr(2)],canAwaken:!0,awakenedName:"Trainee's Determination",awakenedDescription:"From dawn until dusk he kept swinging, hoping to finally climb the Tower.<br><br>And climb the tower he did. Alas, he did not get very far and perished.<br><br>The sword resonates with the soul of this poor lad whose name nobody remembers.",awakenedEnchantSlotsCount:2,requiredAwakeningExp:50,requiredRankExpModifier:.3,getAwakenedEffects:()=>[i.createMaxHp(50),i.createStr(6)],onAwakening:()=>{Et.unlockAchievement(Ht.training_sword_awakening)}}),iron_sword:nt({slug:"iron_sword",slot:"weapon",name:"Iron Sword",description:"A sword made out of iron, pretty reliable.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createStr(5)],canAwaken:!0,awakenedName:"Halvord's Reliability",awakenedDescription:"His father was a blacksmith. When he reached adulthood, his father gifted him a seemingly basic sword. At that time he questioned his father in his mind, but did not say a word.<br><br> Thirty years passed, and the very same sword still hung on his hip. Only much later, when his father was long dead, did he realize that this sword was his father's masterpiece.<br><br> A slight regret tinged his heart, since he did not appreciate his father's art. Luckily, his son inherited the late blacksmith's talent which appeased his regret and filled him with pride.<br><br> Every day he climbed the tower to provide for his family. Just like the sword he wore, he was reliable. He knew his limits, did not push his luck and returned home safely with enough to live comfortably. Despite climbing the tower his whole life, he passed in his sleep.<br><br> The sword resonates with the soul of Halvord.",awakenedEnchantSlotsCount:1,requiredAwakeningExp:20,getAwakenedEffects:()=>[i.createMaxHp(100),i.createStr(15),i.createDr(2)],onAwakening:()=>{Et.unlockAchievement(Ht.iron_sword_awakening)}}),hunting_bow:nt({slug:"hunting_bow",slot:"weapon",name:"Hunting Bow",description:"Useful for hunting game",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createStr(2),i.createDex(20),i.createBeastHatred(25)],canAwaken:!0,awakenedName:"Kylee's Regret",awakenedDescription:"Since early childhood, she spent most of her time in the forest, familiarizing herself with its fauna. Having grown up, she became an excellent huntress, albeit a bit arrogant.<br><br>Despite being warned by her father countless times, she set out to hunt the bear.<br><br> The bow resonates with the soul of Kylee, hoping to slay the bear.",awakenedEnchantSlotsCount:2,requiredAwakeningExp:20,getAwakenedEffects:()=>[i.createStr(10),i.createDex(100),i.createBeastHatred(50)],onAwakening:()=>{Et.unlockAchievement(Ht.hunting_bow_awakening)}}),novice_staff:nt({slug:"novice_staff",slot:"weapon",name:"Novice Staff",description:"Basic wooden staff with some pieces of crystal embedded in the wood.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(20),i.createInt(5)],canAwaken:!0,awakenedName:"Jorm's Foolishness",awakenedDescription:"Young bachelor with huge prospects. He was, after all, a rune user.<br><br> By sheer luck he obtained a rune and even managed to inscribe it with fire arrow. Unfortunately, this made him underestimate the importance of bringing some spell scrolls with him, especially as a pure magic user, as he called himself.<br><br> After all, he had no need for scrolls as someone with a rune, a permanent source of spell. Fighting fire slime with only a fire arrow rune made him realize his mistake.<br><br> This staff resonates with the soul of Jorm.",awakenedEnchantSlotsCount:3,requiredAwakeningExp:25,getAwakenedEffects:()=>[i.createMaxMp(30),i.createInt(10),i.createFirePower(25)],onAwakening:()=>{Et.unlockAchievement(Ht.novice_staff_awakening)}})}},jn=function(e){return{__proto__:nt(e),type:"equip",slot:"rune",isRune:!0,getSpell:e.getSpell||function(){},chance:e.chance||0,requiredRankExpModifier:e.requiredRankExpModifier||1,getExpForRank:e.getExpForRank||function(t){switch(t){case 0:return 500*this.requiredRankExpModifier;case 1:return 1500*this.requiredRankExpModifier;case 2:return 5e3*this.requiredRankExpModifier;case 3:return 12500*this.requiredRankExpModifier;case 4:return 25e3*this.requiredRankExpModifier;case 5:return 5e4*this.requiredRankExpModifier;case 6:return 1e5*this.requiredRankExpModifier}},getCost:e.getCost||function(t){return this.getSpell().getCost()},getChance:function(t){return _n(bt(this.chance*(1+t/10)),100)},getTooltipProps:function(t){t=t||{};let n=this.getSpell().getTooltipProps(t.rank);return n.split=!1,n.title=this.name,n.cost=this.getCost(t.rank),n.chance=this.getChance(t.rank),n.descriptions.description=this.getSpell().description,n.descriptions.type=this.getTypeDescription(),n}}},vu=e=>(ft("data-v-417242d6"),e=e(),mt(),e),A0=["innerHTML"],B0={class:"descriptions"},q0={class:"description cost"},U0=vu(()=>g("span",{class:"c-mp"},"MP",-1)),F0={key:0},L0=["innerHTML"],O0={key:1,class:"description scaling"},W0=vu(()=>g("span",{class:"c-int"},"INT",-1)),K0={key:2,class:"description effects"},G0=["innerHTML"],V0={key:3,class:"description money"},j0={class:"description split"},N0=["innerHTML"],Q0={class:"element"},J0={__name:"SpellTooltip",setup(e){return(t,n)=>{var s;return d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,A0),g("div",B0,[g("div",q0,[g("span",null,[oe("Cost: "+C(r(b).props.cost)+" ",1),U0]),r(b).props.chance?(d(),m("span",F0," Chance: "+C(r(b).props.chance)+"% ",1)):R("",!0)]),r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,L0)):R("",!0),r(b).props.scaling?(d(),m("div",O0,[oe(" Deals "+C(r(b).props.scaling)+"% of ",1),W0,oe(" as magical damage ")])):R("",!0),(s=r(b).props.descriptions.effects)!=null&&s.length?(d(),m("div",K0,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,o=>(d(),m("div",{innerHTML:o},null,8,G0))),256))])):R("",!0),r(b).props.price?(d(),m("div",V0,[X(Wn,{money:r(b).props.price},null,8,["money"])])):R("",!0),g("div",j0,[r(b).props.descriptions.type?(d(),m("div",{key:0,class:"",innerHTML:r(b).props.descriptions.type},null,8,N0)):R("",!0),g("div",Q0,[g("span",{class:ie("c-"+r(b).props.element)},C(r(Ce)(r(b).props.element)),3)])])]),r(b).props.maxExp?(d(),Se(Xt,{key:0,label:"",value:r(b).props.maxed?1:r(b).props.exp,maxValue:r(b).props.maxed?1:r(b).props.maxExp,color:"item-rank",hideValues:!!r(b).props.maxed},null,8,["value","maxValue","hideValues"])):R("",!0)],64)}}},Y0=j(J0,[["__scopeId","data-v-417242d6"]]),Ze=function(e){return{type:"spell",slug:e.slug,name:e.name,description:e.description,target:e.target||"enemy",caster:e.caster||"player",element:e.element||w.neutral,cost:e.cost,scaling:e.scaling||0,scalingPerRank:e.scalingPerRank||0,dealsDamage:e.dealsDamage??!0,getEffects:e.getEffects||function(){return[]},getTargetState:function(){const t=u.get();return this.target==="enemy"?t.combat.enemy:t.player},getCasterState:function(){const t=u.get();return this.caster==="enemy"?t.combat.enemy:t.player},getTargetController:function(){return this.target==="enemy"?Ee:q},getCasterController:function(){return this.caster==="enemy"?Ee:q},getScaling:function(t){return t?this.scaling+t*this.scalingPerRank:this.scaling},getCost:function(t){t=t||1;let n=this.cost*t;return this.caster==="player"&&(n=n*(1-this.getCasterController().getManaEfficiency()/100)),an(bt(n),0)},use:function(t,n){t=t===void 0?this.getCost():t;let s=this.getTargetState();if(s===null)return"no-target";let o=this.getCasterState();if(o.mp<t)return"no-mp";o.mp-=t;let a=A.getMagicalDamageDone(this.getCasterController(),this.getTargetController(),this.getScaling(n),this.element);return this.caster==="player"&&(tt.spellCast(this,t,n),se.gainExp(K.mana_control,t),this.element.slug!=="neutral"&&se.gainExp(K[this.element.slug+"_affinity"],1)),this.getEffects().forEach(c=>{c.effect.up(s,c.value,this.name)}),ee.spellMessage(this,o.name,t,n),this.dealsDamage?(ee.spellMessage(this,o.name,t,n,a),A.dealMagicalDamage(this.getTargetController(),a,this.element.slug)?"target-died":!0):!0},getTooltipProps:e.getTooltipProps||function(t,n){return{component:pe(Y0),rank:t,title:this.name,cost:n||this.getCost(),element:this.element.slug,scaling:this.getScaling(t),descriptions:{description:this.description,effects:this.getEffectDescriptions(t),type:this.getTypeDescription()}}},getEffectDescriptions:function(t){return this.getEffects().map(n=>n.effect.getDescription(n.value))},getTypeDescription:e.getTypeDescription||function(){return"Spell"}}},z0=function(){return{test_test:Ze({slug:"test_test",name:"Tackle",description:"Tackle.",target:"player",caster:"enemy",cost:0,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.burning,caster:"enemy",target:"player",durationMultiplier:.1})]}),arcane_bolt:Ze({slug:"arcane_bolt",name:"Arcane Bolt",description:"Condensed magic power in the form of damaging bolt.",cost:5,scaling:200,scalingPerRank:20}),arcane_blast:Ze({slug:"arcane_blast",name:"Arcane Blast",description:"A more powerful version of the arcane bolt.",cost:10,scaling:250,scalingPerRank:50}),enemy_arcane_bolt:Ze({slug:"enemy_arcane_bolt",name:"Arcane Bolt",description:"Condensed magic power in the form of damaging bolt.",target:"player",caster:"enemy",cost:5,scaling:200}),enemy_sharp_swipe:Ze({slug:"enemy_sharp_swipe",name:"Maul",description:"A quick swipe with sharp claws.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.bleeding,caster:"enemy",target:"player"})]}),enemy_poison_bite:Ze({slug:"enemy_poison_bite",name:"Poison Bite",description:"A venomous bite.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.poison,caster:"enemy",target:"player"})]}),enemy_tackle:Ze({slug:"enemy_tackle",name:"Tackle",description:"Tackle.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.stun,caster:"enemy",target:"player"})]}),enemy_impale:Ze({slug:"enemy_impale",name:"Impale",description:"Dangerous attack with a pointy horn.",target:"player",caster:"enemy",scaling:200,cost:1}),enemy_silence:Ze({slug:"enemy_silence",name:"Silence",description:"Silence.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.silence,caster:"enemy",target:"player"})]}),enemy_second_wind:Ze({slug:"enemy_second_wind",name:"Second Wind",description:"Recovers HP, MP and applies a powerful buff.",target:"enemy",caster:"enemy",cost:0,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.second_wind,caster:"enemy",target:"enemy"})]})}},X0=function(){return{fire_arrow:Ze({slug:"fire_arrow",name:"Fire Arrow",description:"An arrow made of fire.",element:w.fire,cost:5,scaling:200,scalingPerRank:20}),fireball:Ze({slug:"fireball",name:"Fireball",description:"Powerful ball of fire.",element:w.fire,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.burning,caster:"player",target:"enemy"})]}),enemy_fire_arrow:Ze({slug:"enemy_fire_arrow",name:"Fire Arrow",description:"An arrow made of fire.",target:"player",caster:"enemy",element:w.fire,cost:5,scaling:200}),enemy_fireball:Ze({slug:"enemy_fireball",name:"Fireball",description:"Ball of fire. Burns stuff.",target:"player",caster:"enemy",element:w.fire,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.burning,caster:"enemy",target:"player"})]})}},Z0=function(){return{water_splash:Ze({slug:"water_splash",name:"Water Splash",description:"Small-sized spray of water.",element:w.water,cost:5,scaling:200,scalingPerRank:20}),water_jet:Ze({slug:"water_jet",name:"Water Jet",description:"Powerful stream of water.",element:w.water,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[]}),enemy_water_splash:Ze({slug:"enemy_water_splash",name:"Water Splash",description:"Small-sized spray of water.",target:"player",caster:"enemy",element:w.water,cost:5,scaling:200})}},ey=function(){return{stone_bullet:Ze({slug:"stone_bullet",name:"Stone Bullet",description:"Small rock flying at the speed of wind.",element:w.earth,cost:5,scaling:200,scalingPerRank:20}),rockfall:Ze({slug:"rockfall",name:"Rockfall",description:"Hurls a large rock towards the enemy.",element:w.earth,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[]}),enemy_stone_bullet:Ze({slug:"enemy_stone_bullet",name:"Stone Bullet",description:"Small rock flying at the speed of wind.",target:"player",caster:"enemy",element:w.earth,cost:5,scaling:200})}},ty=function(){return{wind_blast:Ze({slug:"wind_blast",name:"Wind Blast",description:"Blast of wind, not very powerful.",element:w.wind,cost:5,scaling:200,scalingPerRank:20}),wind_cutter:Ze({slug:"wind_cutter",name:"Wind Cutter",description:"Sharp blade of wind, quite dangerous.",element:w.wind,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.bleeding,caster:"player",target:"enemy"})]}),enemy_wind_blast:Ze({slug:"enemy_wind_blast",name:"Wind Blast",description:"Blast of wind, not very powerful.",target:"player",caster:"enemy",element:w.wind,cost:5,scaling:200})}},ny=function(){return{enemy_shadow_lock:Ze({slug:"enemy_shadow_lock",name:"Shadow Lock",description:"Locks the enemy shadow in place, making them unable to act.",element:w.shadow,caster:"enemy",target:"player",cost:10,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.stun,caster:"enemy",target:"player",durationMultiplier:3})]}),enemy_shadow_bolt:Ze({slug:"enemy_shadow_bolt",name:"Shadow Bolt",description:"Bolt made out of dark matter.",element:w.shadow,scaling:200,caster:"enemy",target:"player",cost:5}),enemy_shadow_burn:Ze({slug:"enemy_shadow_burn",name:"Shadow Burn",description:"Burn the enemy's shadow.",element:w.shadow,caster:"enemy",target:"player",cost:10,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.burning,caster:"enemy",target:"player",durationMultiplier:.5})]})}},tr=e=>(ft("data-v-fdc35caa"),e=e(),mt(),e),sy=["innerHTML"],iy={class:"descriptions"},oy={class:"description cost"},ry=tr(()=>g("span",{class:"c-mp"},"MP",-1)),ay={key:0},ly=["innerHTML"],cy={key:1,class:"description scaling"},uy=tr(()=>g("span",{class:"c-int"},"INT",-1)),dy=tr(()=>g("span",{class:"c-hp"},"HP",-1)),gy=tr(()=>g("span",{class:"c-int"},"INT",-1)),fy=tr(()=>g("span",{class:"c-mp"},"MP",-1)),my={key:2,class:"description effects"},py=["innerHTML"],_y={key:3,class:"description money"},hy={class:"description split"},yy=["innerHTML"],vy={class:"element"},ky={__name:"RecoverySpellTooltip",setup(e){return(t,n)=>{var s;return d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,sy),g("div",iy,[g("div",oy,[g("span",null,[oe("Cost: "+C(r(b).props.cost)+" ",1),ry]),r(b).props.chance?(d(),m("span",ay," Chance: "+C(r(b).props.chance)+"% ",1)):R("",!0)]),r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,ly)):R("",!0),r(b).props.scaling?(d(),m("div",cy,[r(b).props.recoveryStat==="hp"?(d(),m(B,{key:0},[oe(" Recovers "+C(r(b).props.scaling)+"% of ",1),uy,oe(" as "),dy],64)):(d(),m(B,{key:1},[oe(" Recovers "+C(r(b).props.scaling)+"% of ",1),gy,oe(" as "),fy],64))])):R("",!0),(s=r(b).props.descriptions.effects)!=null&&s.length?(d(),m("div",my,[(d(!0),m(B,null,re(r(b).props.descriptions.effects,o=>(d(),m("div",{innerHTML:o},null,8,py))),256))])):R("",!0),r(b).props.price?(d(),m("div",_y,[X(Wn,{money:r(b).props.price},null,8,["money"])])):R("",!0),g("div",hy,[r(b).props.descriptions.type?(d(),m("div",{key:0,class:"",innerHTML:r(b).props.descriptions.type},null,8,yy)):R("",!0),g("div",vy,[g("span",{class:ie("c-"+r(b).props.element)},C(r(Ce)(r(b).props.element)),3)])])]),r(b).props.maxExp?(d(),Se(Xt,{key:0,label:"",value:r(b).props.maxed?1:r(b).props.exp,maxValue:r(b).props.maxed?1:r(b).props.maxExp,color:"item-rank",hideValues:!!r(b).props.maxed},null,8,["value","maxValue","hideValues"])):R("",!0)],64)}}},wy=j(ky,[["__scopeId","data-v-fdc35caa"]]),ec=function(e){return{__proto__:Ze(e),isRecovery:!0,recoveryStat:e.recoveryStat||"hp",use:function(t,n){t=t===void 0?this.getCost():t;let s=this.getTargetState();if(s===null)return"no-target";let o=this.getCasterState();if(o.mp<t)return"no-mp";o.mp-=t;let a=this.getCasterController(),c=a.getInt()*(this.getScaling(n)/100),f=A.willCrit(a)?2+a.getCritPower()/100:1,h=1+a.getElementPower(this.element.slug)/100,E=c*h*f;return s[this.recoveryStat]+=E,bs(s),this.caster==="player"&&(tt.spellCast(this,t,n),se.gainExp(K.mana_control,1),this.element.slug!=="neutral"&&se.gainExp(K[this.element.slug+"_affinity"],1)),this.getEffects().forEach(S=>{S.effect.up(s,S.value,this.name)}),ee.spellMessage(this,o.name,t,n),!0},getTooltipProps:e.getTooltipProps||function(t,n){return{component:pe(wy),rank:t,title:this.name,cost:n||this.getCost(),element:this.element.slug,scaling:this.getScaling(t),recoveryStat:this.recoveryStat,descriptions:{description:this.description,effects:this.getEffectDescriptions(t),type:this.getTypeDescription()}}},getTypeDescription:e.getTypeDescription||function(){return"Spell"}}},by=function(){return{heal:ec({slug:"heal",name:"Heal",description:"Basic healing spell.",element:w.holy,cost:5,scaling:100,scalingPerRank:10,recoveryStat:"hp",target:"player",caster:"player"}),meditation:ec({slug:"meditation",name:"Meditation",description:"Basic recovery spell.",element:w.holy,cost:0,scaling:10,scalingPerRank:1.25,recoveryStat:"mp",target:"player",caster:"player"}),enemy_holy_bolt:Ze({slug:"enemy_holy_bolt",name:"Holy Bolt",description:"Bolt made out of holy energy.",element:w.holy,cost:5,scaling:200,caster:"enemy",target:"player"})}},ue={...z0(),...X0(),...Z0(),...ey(),...ty(),...ny(),...by()},Ey=function(){return{rune_arcane_bolt:jn({slug:"rune_arcane_bolt",name:"Rune - Arcane Bolt",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.arcane_bolt}),rune_fire_arrow:jn({slug:"rune_fire_arrow",name:"Rune - Fire Arrow",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.fire_arrow}),rune_water_splash:jn({slug:"rune_water_splash",name:"Rune - Water Splash",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.water_splash}),rune_stone_bullet:jn({slug:"rune_stone_bullet",name:"Rune - Stone Bullet",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.stone_bullet}),rune_wind_blast:jn({slug:"rune_wind_blast",name:"Rune - Wind Blast",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.wind_blast}),rune_fireball:jn({slug:"rune_fireball",name:"Rune - Fireball",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.fireball}),rune_heal:jn({slug:"rune_heal",name:"Rune - Heal",chance:10,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ue.heal}),rune_meditation:jn({slug:"rune_meditation",name:"Rune - Meditation",chance:60,powerLevel:1,requiredRankExpModifier:1,getSpell:()=>ue.meditation})}};function ku(e){return e.charAt(0).toUpperCase()+e.slice(1)}function tc(e){let t=e.split("_"),n=[];return t.forEach(s=>{n.push(ku(s))}),n.join(" ")}const rn=function(e){let t=e.spell.slug;return{__proto__:Ot(e),slug:"scroll_of_"+t,name:"Scroll - "+tc(t),slot:"scroll",isScroll:!0,description:"Casts "+tc(t),cooldown:1,getSpell:()=>ue[t],getCost:e.getCost||function(){return this.getSpell().getCost(.5)},use:function(){if(q.isSilenced())return ee.commonMessage("You are silenced.","c-danger"),!1;let n=this.getSpell().use(this.getCost());return(n==="target-died"||n===!0)&&tt.consumableUsed(this),n==="target-died"?(A.handleEnemyDeath(),!0):n},getTooltipProps:function(n){let s=this.getSpell().getTooltipProps(n==null?void 0:n.rank);return s.title=this.name,s.cost=this.getCost(),s.descriptions.description=this.getSpell().description,s.descriptions.type=ku(this.slot),s.price=n==null?void 0:n.price,s}}},Iy=function(){return{scroll_of_arcane_bolt:rn({spell:ue.arcane_bolt}),scroll_of_arcane_blast:rn({spell:ue.arcane_blast})}},Sy=function(){return{scroll_of_fire_arrow:rn({spell:ue.fire_arrow}),scroll_of_fireball:rn({spell:ue.fireball})}},xy=function(){return{scroll_of_water_splash:rn({spell:ue.water_splash}),scroll_of_water_jet:rn({spell:ue.water_jet})}},My=function(){return{scroll_of_stone_bullet:rn({spell:ue.stone_bullet}),scroll_of_rockfall:rn({spell:ue.rockfall})}},Ry=function(){return{scroll_of_wind_blast:rn({spell:ue.wind_blast}),scroll_of_wind_cutter:rn({spell:ue.wind_cutter})}},Ty=function(){return{scroll_of_heal:rn({spell:ue.heal}),scroll_of_meditation:rn({spell:ue.meditation})}},Dy=function(){return{...Iy(),...Sy(),...xy(),...My(),...Ry(),...Ty()}},Ue=function(e){const t=e.slug.split("_");return t.shift(),e.getSource=()=>ae[t.join("_")],e.getName=()=>"Card - "+e.getSource().name,e.getDescription=()=>"Contains the essence of "+e.getSource().name+".",{__proto__:qn(e),type:"enchant",isCard:!0,getSource:e.getSource||function(){},getName:e.getName||function(){},getDescription:e.getDescription||function(){}}},$y=function(){return{card_training_dummy:Ue({slug:"card_training_dummy",getEffects:()=>[i.createExpModifier(5)]}),card_rat:Ue({slug:"card_rat",getEffects:()=>[i.createMaxHp(20)]}),card_tree:Ue({slug:"card_tree",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-earth">Wood</span> on any kill (non-stacking).']}}),card_weed:Ue({slug:"card_weed",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-wind">Herb</span> on any kill (non-stacking).']}}),card_chicken:Ue({slug:"card_chicken",getEffects:()=>[i.createInt(2)]}),card_rabbit:Ue({slug:"card_rabbit",getEffects:()=>[i.createDex(20)]}),card_wolf:Ue({slug:"card_wolf",getEffects:()=>[i.createStr(2)]}),card_warthog:Ue({slug:"card_warthog",getEffects:()=>[i.createDr(1)]}),card_mountain_goat:Ue({slug:"card_mountain_goat",getEffects:()=>[i.createMdef(1)]}),card_bear:Ue({slug:"card_bear",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:_e.bleeding,caster:"player",target:"enemy"})]}),card_bat:Ue({slug:"card_bat",getEffects:()=>[i.createShadowHatred(10)]}),card_spider:Ue({slug:"card_spider",getEffects:()=>[i.createPoisonResistance(10)]}),card_iron_vein:Ue({slug:"card_iron_vein",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-neutral">Iron Ore</span> on any kill (non-stacking).']}}),card_slime:Ue({slug:"card_slime",getEffects:()=>[i.createFormlessHatred(10)]}),card_slime_fire:Ue({slug:"card_slime_fire",getEffects:()=>[i.createFireResistance(1)]}),card_slime_water:Ue({slug:"card_slime_water",getEffects:()=>[i.createWaterResistance(1)]}),card_slime_earth:Ue({slug:"card_slime_earth",getEffects:()=>[i.createEarthResistance(1)]}),card_slime_wind:Ue({slug:"card_slime_wind",getEffects:()=>[i.createWindResistance(1)]}),card_slime_holy:Ue({slug:"card_slime_holy",getEffects:()=>[i.createHolyResistance(1)]}),card_slime_shadow:Ue({slug:"card_slime_shadow",getEffects:()=>[i.createShadowResistance(1)]}),card_slimer:Ue({slug:"card_slimer",getEffects:()=>[i.createFormlessHatred(15)]}),card_slimer_fire:Ue({slug:"card_slimer_fire",getEffects:()=>[i.createFireResistance(2)]}),card_slimer_water:Ue({slug:"card_slimer_water",getEffects:()=>[i.createWaterResistance(2)]}),card_slimer_earth:Ue({slug:"card_slimer_earth",getEffects:()=>[i.createEarthResistance(2)]}),card_slimer_wind:Ue({slug:"card_slimer_wind",getEffects:()=>[i.createWindResistance(2)]}),card_slimer_holy:Ue({slug:"card_slimer_holy",getEffects:()=>[i.createHolyResistance(2)]}),card_slimer_shadow:Ue({slug:"card_slimer_shadow",getEffects:()=>[i.createShadowResistance(2)]}),card_slimelord:Ue({slug:"card_slimelord",getEffects:()=>[i.createFormlessHatred(20)]}),card_slimelord_fire:Ue({slug:"card_slimelord_fire",getEffects:()=>[i.createFireHatred(20)]}),card_slimelord_water:Ue({slug:"card_slimelord_water",getEffects:()=>[i.createWaterHatred(20)]}),card_slimelord_earth:Ue({slug:"card_slimelord_earth",getEffects:()=>[i.createEarthHatred(20)]}),card_slimelord_wind:Ue({slug:"card_slimelord_wind",getEffects:()=>[i.createWindHatred(20)]}),card_slimelord_holy:Ue({slug:"card_slimelord_holy",getEffects:()=>[i.createHolyHatred(20)]}),card_slimelord_shadow:Ue({slug:"card_slimelord_shadow",getEffects:()=>[i.createShadowHatred(20)]})}},Hy=function(){return{test_armor:nt({slug:"test_armor",slot:"armor",name:"Test Armor",description:"For testing purposes. You should not have this.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createDef(100),i.createDr(100),i.createStr(4e4),i.createFireArmorElement(),i.createPoisonResistance(10),i.createBleedingResistance(80),i.createBurningResistance(12)]}),test_armor2:nt({slug:"test_armor2",slot:"armor",name:"Test Armor",description:"For testing purposes. You should not have this.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createWaterArmorElement()],getIcon:()=>"test_armor"}),iron_armor:nt({slug:"iron_armor",slot:"armor",name:"Iron Armor",description:"An armor made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(30),i.createDef(10),i.createDr(3),i.createStr(4)]}),leather_armor:nt({slug:"leather_armor",slot:"armor",name:"Leather Armor",description:"An armor made out of regular leather, provides decent protection while being very flexible.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(20),i.createDef(7),i.createDr(2),i.createDex(50)]}),novice_robe:nt({slug:"novice_robe",slot:"armor",name:"Novice Robe",description:"Smooth to the touch, imbued with mana. Provides no physical protection but enhances magical capabilities.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(15),i.createMdef(10),i.createInt(4)]})}},Py=function(){return{iron_helmet:nt({slug:"iron_helmet",slot:"headgear",name:"Iron Helmet",description:"Basic helmet made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createStr(2)]}),leather_hat:nt({slug:"leather_hat",slot:"headgear",name:"Leather Hat",description:"A hat made out of regular leather, provides minor protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(10),i.createDef(3),i.createDr(1),i.createDex(20)]}),novice_hat:nt({slug:"novice_hat",slot:"headgear",name:"Novice Hat",description:"Smooth to the touch, imbued with mana.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxMp(8),i.createMdef(5),i.createInt(2)]})}},Cy=function(){return{iron_boots:nt({slug:"iron_boots",slot:"shoes",name:"Iron Boots",description:"A pair of boots made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(20),i.createDef(7),i.createDr(2),i.createStr(3)]}),leather_shoes:nt({slug:"leather_shoes",slot:"shoes",name:"Leather Shoes",description:"A pair of shoes made out of regular leather, provides decent protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createDex(40)]}),novice_shoes:nt({slug:"novice_shoes",slot:"shoes",name:"Novice Shoes",description:"Smooth to the touch, imbued with mana. Provides no physical protection but enhances magical capabilities.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxMp(8),i.createMdef(7),i.createInt(3)]})}},Ay=function(){return{bear_cloak:nt({slug:"bear_cloak",slot:"garment",name:"Bear Cloak",description:"A cloak made out of pristine bear pelt. Surprisingly very sturdy, provides moderate protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createNeutralResistance(10)]})}},By=function(){return{iron_ring:nt({slug:"iron_ring",slot:"accessory_left",name:"Iron Ring",description:"A simple iron ring.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.5,getEffects:()=>[]}),slime_ring:nt({slug:"slime_ring",slot:"accessory_left",name:"Slime Ring",description:"Amalgamation of slime and iron in the form of a ring.",enchantSlotsCount:0,powerLevel:5,requiredRankExpModifier:.5,getEffects:()=>[i.createDropModifier(5)]})}},qy=function(){return{wooden_armguard:nt({slug:"wooden_armguard",slot:"accessory_right",name:"Wooden Armguard",description:"A few pieces of wood strung together, provides some protection.",enchantSlotsCount:0,powerLevel:1,requiredRankExpModifier:.3,getEffects:()=>[i.createDr(1)]}),iron_earring:nt({slug:"iron_earring",slot:"accessory_right",name:"Iron Earring",description:"A simple iron earring.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.5,getEffects:()=>[]}),slime_earring:nt({slug:"slime_earring",slot:"accessory_right",name:"Slime Earring",description:"Amalgamation of slime and iron in the form of an earring.",enchantSlotsCount:0,powerLevel:5,requiredRankExpModifier:.5,getEffects:()=>[i.createExpModifier(10)]})}},Uy=function(){return{wolf_fang_amulet:nt({slug:"wolf_fang_amulet",slot:"amulet",name:"Fang Amulet",description:"An amulet made out of wolf fangs. A hunter's trophy.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createBeastHatred(20)]})}},Fy=function(e){return{__proto__:Nr(e),type:"junk",getTypeDescription:e.getTypeDescription||function(){return Ce(this.type)}}},Ly=function(){return{ruined_bear_pelt:Fy({slug:"ruined_bear_pelt",name:"Ruined Bear Pelt",description:"Ruined bear pelt, useless."})}},Oy=function(){return{novice_tome_page:Ve({slug:"novice_tome_page",name:"Novice Tome Page",description:"Random page from Novice Tome, can be reassembled with enough pieces and a diagram."})}},l={...Ay(),...Py(),...Uy(),...C0(),...Hy(),...P0(),...qy(),...Cy(),...By(),...Ey(),...h0(),...Dy(),...y0(),...$y(),...k0(),...Oy(),...Ly()},Wy=function(e){return{id:u.get().helpers.inventoryId++,slug:e.slug,amount:e.amount||1,isEquipped:e.isEquipped||!1,isFavorite:e.isFavorite||!1,isHeirloom:e.isHeirloom||!1,isHidden:e.isHidden||!1,isDeletable:e.isDeletable||!0,enchantSlots:e.enchantSlots||[],cooldown:e.cooldown||0,isAwakened:!1,startedAwakening:!1,canAwaken:!1,awakeningExp:0,rank:0,exp:0,hotkey:null}},k={add:function(e,t,n){tt.itemObtained(e,t);const s=u.get();let o=null;if(n||ee.itemMessage(e,t),e.isEquip){for(let c=0;c<t;c++)s.inventory.push(k.createInventoryItem(e,1));return}e.isCard&&Fn.unlockEntry(e.getSource());let a=k.getInventoryItem(e);a?a.amount+=t:(e.isReadable&&(o=k.createInventoryItem(e,t),o.readingDuration=e.readingDuration),s.inventory.push(o||k.createInventoryItem(e,t)))},remove:function(e,t){const n=u.get();let s=n.inventory.indexOf(e);if(k.getItem(e).isEquip){b.visible=!1,n.inventory.splice(s,1);return}if(e.amount<t){ee.commonMessage("You cannot remove more items than you have.","c-danger");return}if(e.amount===t){b.visible=!1,n.inventory.splice(s,1);return}n.inventory[s].amount-=t},get:function(){return k.sort(k.filter(u.get().inventory))},getRaw:function(){return u.get().inventory},createInventoryItem:function(e,t){return Wy({slug:e.slug,amount:t})},useInventoryItem:function(e){if(q.isStunned()){ee.commonMessage("You are stunned.","c-danger");return}let t=k.getItem(e);if(t.isEquip){let n=t.isRune?ho:fe;e.isEquipped?n.remove(e.id):n.add(e);return}if(t.isEnchant){t.use();return}if(t.isReadable){t.use()==="already-learned"&&ee.commonMessage("You already know this recipe!","c-danger");return}if(t.isConsumable){if(e.cooldown>0)return;let n=t.use();if(e.cooldown=t.cooldown,n===!0){k.remove(e,1);return}n==="no-target"&&ee.commonMessage("No target.","c-danger"),n==="no-mp"&&ee.commonMessage("You do not have enough mana!","c-danger");return}console.log("unexpected item used")},getInventoryItemQuantity:function(e){let t=k.getInventoryItem(e);return t?t.amount:0},getCleanInventoryItems:function(e){return u.get().inventory.filter(t=>t.slug===e.slug&&je.isClean(t))},getInventoryItem:function(e){return u.get().inventory.find(t=>t.slug===e.slug)},getInventoryItemById:function(e){return u.get().inventory.find(t=>t.id==e)},getItem:function(e){return e===null?null:l[e.slug]},getItemById:function(e){return k.getItem(k.getInventoryItemById(e))},tickCooldowns:function(){k.get().forEach(e=>e.cooldown=an(e.cooldown-1,0))},sort:function(e){const t=u.get();return e.sort((n,s)=>{if(n.isEquipped&&!s.isEquipped)return 1;if(!n.isEquipped&&s.isEquipped)return-1;if(n.isFavorite&&!s.isFavorite)return 1;if(!n.isFavorite&&s.isFavorite)return-1;let o=t.inventorySettings.sort,a=je.getName(n),c=je.getName(s);return o==="alpha_asc"?-1*a.localeCompare(c):o==="alpha_desc"?a.localeCompare(c):o==="quantity_asc"?n.amount<s.amount?1:-1:o==="quantity_desc"?n.amount>s.amount?1:-1:n.id<s.id?1:-1}).reverse()},filter:function(e){let t=u.get().inventorySettings.filter;return e.filter(n=>{if(n.isHidden)return t==="isHidden";let s=k.getItem(n);return t==="none"?!0:t==="etc"?!s.isEquip&&!s.isConsumable:t==="isConsumable"?s.isConsumable&&!s.isEnchant:s[t]})},setFilter:function(e){u.get().inventorySettings.filter=e},getFilter:function(){return u.get().inventorySettings.filter},setSort:function(e){const t=u.get();if(e==="default"){t.inventorySettings.sort="none";return}if(t.inventorySettings.sort==="none"){t.inventorySettings.sort=e+"_asc";return}let n=t.inventorySettings.sort.split("_");n[0]=e,n[1]=n[1]==="asc"?"desc":"asc",t.inventorySettings.sort=n.join("_")},toggleFavorite:function(e){e.isFavorite=!e.isFavorite},toggleHidden:function(e){e.isHidden=!e.isHidden}},fe={maxRank:wo.length-1,add:function(e){const t=u.get();let s=k.getItem(e).slot;t.equipment[s]&&fe.remove(t.equipment[s]),t.equipment[s]=e.id,fe.applyEquipEffects(e),e.isEquipped=!0,kt.stop(),V()},remove:function(e){const t=k.getInventoryItemById(e);u.get().equipment[k.getItem(t).slot]=null,fe.removeEquipEffects(t),t.isEquipped=!1},getEquippedItem:function(e){return k.getItemById(u.get().equipment[e])},itemIsEquipped:function(e,t){return fe.getEquippedInventoryItems().some(n=>n.slug===e.slug&&(t?n.isAwakened:!0))},cardIsEquipped:function(e){return fe.getEquippedInventoryItems().some(t=>t.enchantSlots.some(n=>n===e.slug))},getEquippedInventoryItems:function(){const e=[];return fe.getEquipmentSlots().forEach(t=>{const n=k.getInventoryItemById(u.get().equipment[t]);n&&e.push(n)}),e},getEquippedInventoryItem:function(e){return k.getInventoryItemById(u.get().equipment[e])},getEquipmentSlots:function(){return Object.keys(u.get().equipment)},applyEquipEffects:function(e,t){let n=(s,o)=>a=>(t?a.effect.eachTick:!a.effect.eachTick)&&a.effect.up(u.get().player,fe.getRankEffectModifier(a.value,e.rank),s,o);je.getEffects(e).forEach(n(e.id,"item")),fe.forEachEnchantEffect(e,n)},removeEquipEffects:function(e){const t=u.get();let n=(s,o)=>a=>a.effect.down(t.player,s);je.getEffects(e).forEach(n(e.id)),fe.forEachEnchantEffect(e,n),bs(t.player)},forEachEnchantEffect:function(e,t){e.enchantSlots.forEach((n,s)=>l[n].getEffects().forEach(t(`${n}_${e.id}_${s}`,"enchant")))},getRankEffectModifier:function(e,t){let n=1+t/10;return Math.round(e*n)},gainExpAllEquip:function(e){fe.getEquipmentSlots().forEach(function(t){const n=k.getInventoryItemById(u.get().equipment[t]);fe.gainExp(n,e)})},gainExp:function(e,t){!e||e.rank===fe.maxRank||(e.exp+=t,fe.handleRankUp(e),je.updateTooltip(e))},handleRankUp:function(e){if(e.rank===fe.maxRank)return;let t=k.getItem(e),n=t.getExpForRank(e.rank);if(!(e.exp<n)){if(e.rank++,e.exp=e.exp-n,fe.applyEquipEffects(e),ee.inventoryItemRankUpMessage(e),e.rank===fe.maxRank&&t.canAwaken){fe.startAwakening(e);return}fe.handleRankUp(e)}},startAwakening:function(e){ee.startAwakeningMessage(e),e.startedAwakening=!0},feeding:function(){return u.get().activeFeeding!==null},getFeedingInventoryItem:function(){return k.getInventoryItemById(u.get().activeFeeding)},startFeeding:function(e){fe.getFeedableItems(e).length<=0||(u.get().activeFeeding=e.id)},stopFeeding:function(){u.get().activeFeeding=null},feed:function(){let e=k.getInventoryItemById(u.get().activeFeeding),t=fe.getFeedableItems(e),n=t.length;t.forEach(s=>{k.remove(s,1)}),ee.feedingMessage(e,k.getItem(t[0]),n),e.canAwaken||(e.awakeningExp+=n),e.awakeningExp>=k.getItem(e).requiredAwakeningExp&&(ee.awakeningAvailableMessage(e),e.canAwaken=!0),fe.stopFeeding()},getFeedableItems:function(e){return k.getCleanInventoryItems(k.getItem(e))},awaken:function(e){ee.awakeningMessage(e),k.getItem(e).onAwakening(),e.isAwakened=!0,e.isEquipped&&(fe.removeEquipEffects(e),fe.applyEquipEffects(e))}};function Nn(e,t=1){let s=(e.rank||0)+1;return e.level*s*t}function nc(){const e=[];return fe.cardIsEquipped(l.card_tree)&&e.push(Q(l.wood,5,1)),fe.cardIsEquipped(l.card_weed)&&e.push(Q(l.herb,5,1)),fe.cardIsEquipped(l.card_iron_vein)&&e.push(Q(l.iron_ore,5,1)),e}const Me=function(e){return{slug:e.slug,name:e.name,description:e.description,rank:e.rank||0,level:e.level,exp:Bn(e.exp,Nn(e)),hp:Bn(e.maxHp,Nn(e,10)),maxHp:Bn(e.maxHp,Nn(e,10)),mp:Bn(e.maxMp!==void 0?e.maxHp:Nn(e)),maxMp:Bn(e.maxMp,Nn(e)),str:Bn(e.str,Nn(e)),dex:Bn(e.dex,Nn(e)),int:Bn(e.int,Nn(e)),def:e.def||0,mdef:e.mdef||0,dr:e.dr||0,hpRegen:e.hpRegen||0,hpRegenPercentage:e.hpRegenPercentage||0,isBoss:e.isBoss||!1,dealsDamage:e.dealsDamage===void 0?!0:e.dealsDamage,race:e.race,raceResistances:e.raceResistances,raceHatreds:e.raceHatreds,elementResistances:e.elementResistances,elementHatreds:e.elementHatreds,elementPowers:e.elementPowers,armorElement:e.armorElement||w.neutral,weaponElement:e.weaponElement||w.neutral,skill:e.skill||K.combat_mastery,image:e.image||H(e.slug),excludeFromBestiary:e.excludeFromBestiary||!1,getName:function(){return this.name},getDrops:function(){return e.getDrops?[...nc(),...e.getDrops()]:nc()},getSpells:e.getSpells||function(){return[]},onKill:e.onKill||function(){}}},Ky=function(){return{training_dummy:Me({slug:"training_dummy",name:"Training Dummy",level:1,dex:0,int:0,def:0,mdef:0,race:J.construct,getDrops:()=>[Q(l.card_training_dummy,Ke.cardDropRate,1)]}),rat:Me({slug:"rat",name:"Rat",level:2,dex:50,int:0,def:0,mdef:0,maxMp:1,race:J.beast,getSpells:function(){return[{spell:ue.enemy_poison_bite,chance:5}]},getDrops:()=>[Q(l.rat_meat,10,1),Q(l.rat_tail,10,1),Q(l.card_rat,Ke.cardDropRate,1)]})}},Gy=function(){return{tree:Me({slug:"tree",name:"Tree",level:1,maxHp:500,maxMp:0,str:0,dex:0,int:0,def:0,mdef:0,race:J.plant,armorElement:w.earth,skill:K.woodcutting,dealsDamage:!1,getDrops:()=>[Q(l.wood,100,1),Q(l.card_tree,Ke.cardDropRate,1)]}),weed:Me({slug:"weed",name:"Weed",level:1,maxHp:1,maxMp:0,str:0,dex:0,int:0,def:0,mdef:0,race:J.plant,armorElement:w.earth,skill:K.herbalism,dealsDamage:!1,getDrops:()=>[Q(l.herb,5,1),Q(l.card_weed,Ke.cardDropRate,1)]}),chicken:Me({slug:"chicken",name:"Chicken",level:2,maxMp:0,dex:3,int:10,def:0,mdef:0,race:J.beast,getDrops:()=>[Q(l.raw_meat,3,1),Q(l.feather,5,1),Q(l.card_chicken,Ke.cardDropRate,1)]}),rabbit:Me({slug:"rabbit",name:"Rabbit",level:5,maxMp:0,str:3,dex:200,int:0,def:0,mdef:0,race:J.beast,getDrops:()=>[Q(l.raw_meat,3,1),Q(l.rabbit_fur,5,1),Q(l.card_rabbit,Ke.cardDropRate,1)]}),mountain_goat:Me({slug:"mountain_goat",name:"Mountain Goat",level:7,str:6,dex:15,int:3,def:5,mdef:10,maxMp:1,race:J.beast,getDrops:()=>[Q(l.raw_meat,5,1),Q(l.bone,5,1),Q(l.wool,5,1),Q(l.card_mountain_goat,Ke.cardDropRate,1)],getSpells:function(){return[{spell:ue.enemy_impale,chance:5}]}}),warthog:Me({slug:"warthog",name:"Warthog",level:8,maxMp:1,str:7,dex:10,int:0,def:10,mdef:0,dr:1,race:J.beast,getDrops:()=>[Q(l.raw_meat,10,1),Q(l.raw_hide,5,1),Q(l.bone,5,1),Q(l.card_warthog,Ke.cardDropRate,1)],getSpells:function(){return[{spell:ue.enemy_tackle,chance:5}]}}),wolf:Me({slug:"wolf",name:"Wolf",level:12,maxMp:1,str:10,dex:50,int:0,def:5,mdef:0,race:J.beast,getDrops:()=>[Q(l.raw_meat,5,1),Q(l.raw_hide,5,1),Q(l.bone,5,1),Q(l.wolf_fang,.5,1),Q(l.card_wolf,Ke.cardDropRate,1)],getSpells:function(){return[{spell:ue.enemy_sharp_swipe,chance:5}]}}),bear:Me({slug:"bear",name:"Bear",level:20,race:J.beast,rank:1,maxHp:1200,maxMp:1,str:25,dex:60,int:0,def:20,mdef:0,dr:2,hpRegen:5,exp:500,isBoss:!0,getDrops:()=>[Q(l.raw_meat,100,5),fe.itemIsEquipped(l.hunting_bow)?Q(l.pristine_bear_pelt,100,1):Q(l.ruined_bear_pelt,100,1),Q(l.raw_hide,50,5),Q(l.bone,50,5),Q(l.card_bear,Ke.cardDropRate,1)],getSpells:function(){return[{spell:ue.enemy_sharp_swipe,chance:100}]},onKill:function(){const e=k.getInventoryItemById(u.get().equipment.weapon);e&&e.slug===l.hunting_bow.slug&&e.isAwakened&&e.isEquipped&&Et.unlockAchievement(Ht.hunting_bow_resonance)}}),bat:Me({slug:"bat",name:"Bat",level:15,str:12,dex:100,int:0,def:10,mdef:10,dr:1,race:J.beast,element:w.shadow,getDrops:()=>[Q(l.bat_wing,5,1),Q(l.card_bat,Ke.cardDropRate,1)]}),spider:Me({slug:"spider",name:"Spider",level:17,str:15,dex:100,int:0,def:10,mdef:10,dr:2,race:J.insect,element:w.shadow,getDrops:()=>[Q(l.spider_silk,5,1),Q(l.card_spider,Ke.cardDropRate,1)],getSpells:function(){return[{spell:ue.enemy_poison_bite,chance:5}]}}),iron_vein:Me({slug:"iron_vein",name:"Iron Vein",level:1,maxHp:1500,str:0,dex:0,int:0,def:0,mdef:0,race:J.formless,armorElement:w.earth,skill:K.mining,dealsDamage:!1,getDrops:()=>[Q(l.iron_ore,100,1),Q(l.card_iron_vein,Ke.cardDropRate,1)]})}},Ao=e=>{const t="card_slime"+(e==="mana"?"":"_"+e);return fv([Q(l.item_slime,5,1),Q(l["fragment_"+e],5,1),Q(l.rune,Ke.cardDropRate,1),Q(l[t],Ke.cardDropRate,1)])},hr={level:20,maxMp:5,str:8,int:16,dex:25,def:8,mdef:20,dr:0},Vy=function(){return{slime:Me({slug:"slime",name:"Slime",level:18,maxMp:0,str:16,int:0,dex:50,def:15,mdef:0,dr:2,race:J.formless,getDrops:()=>[...Ao("mana")]}),slime_water:Me({slug:"slime_water",name:"Water Slime",...hr,race:J.formless,armorElement:w.water,getDrops:()=>[...Ao("water")],getSpells:function(){return[{spell:ue.enemy_water_splash,chance:20}]}}),slime_fire:Me({slug:"slime_fire",name:"Fire Slime",...hr,race:J.formless,armorElement:w.fire,getDrops:()=>[...Ao("fire")],getSpells:function(){return[{spell:ue.enemy_fire_arrow,chance:20}]}}),slime_earth:Me({slug:"slime_earth",name:"Earth Slime",...hr,race:J.formless,armorElement:w.earth,getDrops:()=>[...Ao("earth")],getSpells:function(){return[{spell:ue.enemy_stone_bullet,chance:20}]}}),slime_wind:Me({slug:"slime_wind",name:"Wind Slime",...hr,race:J.formless,armorElement:w.wind,getDrops:()=>[...Ao("wind")],getSpells:function(){return[{spell:ue.enemy_wind_blast,chance:20}]}}),floor_1_boss:Me({slug:"floor_1_boss",name:"Kacadu's Shadow, the Examiner",level:20,maxHp:3e3,maxMp:100,str:40,int:40,dex:200,def:35,mdef:50,dr:10,rank:1,exp:1e3,race:J.formless,armorElement:w.shadow,weaponElement:w.shadow,isBoss:!0,getDrops:()=>[Q(l.item_slime,100,5),Q(l.rune,1,1)],getSpells:function(){return[{spell:ue.enemy_shadow_lock,chance:5},{spell:ue.enemy_shadow_bolt,chance:5},{spell:ue.enemy_shadow_burn,chance:10}]},onKill:function(){Fn.unlockEntry(this)}})}},sc=e=>{const t="card_slime"+(e==="mana"?"":"_"+e);return[Q(l.item_slime,5,1),Q(l["fragment_"+e],5,1),Q(l.rune,Ke.cardDropRate,1),Q(l[t],Ke.cardDropRate,1)].filter(n=>!n.item.isDiagram||!De.hasLearnedRecipe(n.item.getRecipe()))},ic={level:22,maxMp:5,str:10,int:20,dex:28,def:10,mdef:22,dr:2},jy=function(){return{slime_holy:Me({slug:"slime_holy",name:"Holy Slime",...ic,race:J.formless,armorElement:w.holy,getDrops:()=>[...sc("holy")],getSpells:function(){return[{spell:ue.enemy_holy_bolt,chance:20}]}}),slime_shadow:Me({slug:"slime_shadow",name:"Shadow Slime",...ic,race:J.formless,armorElement:w.shadow,getDrops:()=>[...sc("shadow")],getSpells:function(){return[{spell:ue.enemy_shadow_bolt,chance:20}]}}),floor_2_boss:Me({slug:"floor_2_boss",name:"Gorglott, the Sponge",level:25,maxHp:5e3,maxMp:0,str:0,int:0,dex:0,def:95,mdef:0,dr:20,rank:1,exp:1e3,race:J.formless,armorElement:w.earth,weaponElement:w.earth,isBoss:!0,getDrops:()=>[Q(l.item_slime,100,5),Q(l.rune,1,1)],onKill:function(){Fn.unlockEntry(this)}})}},Bo=e=>{const t="card_slimer"+(e==="mana"?"":"_"+e);return[Q(l.item_slime,10,1),Q(l["fragment_"+e],10,1),Q(l.novice_tome_page,.2,1),Q(l.rune,Ke.cardDropRate,1),Q(l[t],Ke.cardDropRate,1),Q(l.diagram_slime_ring,.1,1),Q(l.diagram_slime_earring,.1,1)].filter(n=>!n.item.isDiagram||!De.hasLearnedRecipe(n.item.getRecipe()))},yr={level:25,maxMp:10,str:12,int:24,dex:36,def:15,mdef:25,dr:5},Ny=function(){return{slimer:Me({slug:"slimer",name:"Slimer",level:22,maxMp:0,str:25,int:0,dex:80,def:25,mdef:0,dr:8,race:J.formless,getDrops:()=>[...Bo("mana")]}),slimer_water:Me({slug:"slimer_water",name:"Water Slimer",...yr,race:J.formless,armorElement:w.water,getDrops:()=>[...Bo("water")],getSpells:function(){return[{spell:ue.enemy_water_splash,chance:40}]}}),slimer_fire:Me({slug:"slimer_fire",name:"Fire Slimer",...yr,race:J.formless,armorElement:w.fire,getDrops:()=>[...Bo("fire")],getSpells:function(){return[{spell:ue.enemy_fire_arrow,chance:40}]}}),slimer_earth:Me({slug:"slimer_earth",name:"Earth Slimer",...yr,race:J.formless,armorElement:w.earth,getDrops:()=>[...Bo("earth")],getSpells:function(){return[{spell:ue.enemy_stone_bullet,chance:40}]}}),slimer_wind:Me({slug:"slimer_wind",name:"Wind Slimer",...yr,race:J.formless,armorElement:w.wind,getDrops:()=>[...Bo("wind")],getSpells:function(){return[{spell:ue.enemy_wind_blast,chance:40}]}}),floor_3_boss:Me({slug:"floor_3_boss",name:"Mixa, the Rotator",level:30,maxHp:3e3,maxMp:0,str:100,int:0,dex:0,def:0,mdef:0,dr:0,rank:1,exp:1500,race:J.formless,armorElement:w.neutral,weaponElement:w.neutral,isBoss:!0,getDrops:()=>[Q(l.item_slime,100,5),Q(l.rune,1,1)],onKill:function(){Fn.unlockEntry(this)}}),floor_3_shadow_hound:Me({slug:"floor_3_shadow_hound",name:"Shadow Hound",level:35,maxHp:2e3,maxMp:5,str:120,int:0,dex:400,def:25,mdef:25,dr:20,rank:1,exp:1e3,race:J.beast,armorElement:w.shadow,weaponElement:w.shadow,excludeFromBestiary:!0,getSpells:function(){return[{spell:ue.enemy_tackle,chance:5},{spell:ue.enemy_second_wind,chance:100,hpThreshold:.33,additionalCondition:()=>!Ee.getEntityState().usedSecondWind,onUse:()=>{const e=Ee.getEntityState();e.usedSecondWind=!0}}]}})}},oc=e=>{const t="card_slimer"+(e==="mana"?"":"_"+e);return[Q(l.item_slime,5,1),Q(l["fragment_"+e],5,1),Q(l.novice_tome_page,.5,1),Q(l.rune,Ke.cardDropRate,1),Q(l[t],Ke.cardDropRate,1),Q(l.diagram_slime_ring,.15,1),Q(l.diagram_slime_earring,.15,1)].filter(n=>!n.item.isDiagram||!De.hasLearnedRecipe(n.item.getRecipe()))},rc={level:27,maxMp:10,str:16,int:26,dex:40,def:15,mdef:25,dr:5},Qy=function(){return{slimer_holy:Me({slug:"slimer_holy",name:"Holy Slimer",...rc,race:J.formless,armorElement:w.holy,getDrops:()=>[...oc("holy")],getSpells:function(){return[{spell:ue.enemy_holy_bolt,chance:40}]}}),slimer_shadow:Me({slug:"slimer_shadow",name:"Shadow Slimer",...rc,race:J.formless,armorElement:w.shadow,getDrops:()=>[...oc("shadow")],getSpells:function(){return[{spell:ue.enemy_shadow_bolt,chance:40}]}}),floor_4_boss:Me({slug:"floor_4_boss",name:"Xerox, the Blaze",level:35,maxHp:2e3,maxMp:100,str:20,int:80,dex:0,def:30,mdef:50,dr:10,rank:1,exp:2e3,race:J.formless,armorElement:w.fire,weaponElement:w.fire,isBoss:!0,getDrops:()=>[Q(l.item_slime,100,5),Q(l.novice_tome_page,100,1),Q(l.rune,1,1)],getSpells:function(){return[{spell:ue.enemy_fire_arrow,chance:50},{spell:ue.enemy_fireball,chance:25}]},onKill:function(){Fn.unlockEntry(this)}})}},ps=e=>{const t="card_slimelord"+(e==="mana"?"":"_"+e);return[Q(l.item_slime,25,1),Q(l["fragment_"+e],25,1),Q(l.rune,Ke.cardDropRate,1),Q(l[t],Ke.cardDropRate,1),Q(l.diagram_slime_ring,.3,1),Q(l.diagram_slime_earring,.3,1)].filter(n=>!n.item.isDiagram||!De.hasLearnedRecipe(n.item.getRecipe()))},vr={level:30,maxMp:15,str:20,int:35,dex:60,def:20,mdef:30,dr:8},ac={level:35,maxMp:25,str:25,int:40,dex:100,def:20,mdef:30,dr:8},Jy=function(){return{slimelord:Me({slug:"slimelord",name:"Slimelord",level:28,maxMp:0,str:40,int:0,dex:150,def:30,mdef:0,dr:15,race:J.formless,getDrops:()=>[...ps("mana")]}),slimelord_water:Me({slug:"slimelord_water",name:"Water Slimelord",...vr,race:J.formless,armorElement:w.water,getDrops:()=>[...ps("water")],getSpells:function(){return[{spell:ue.enemy_water_splash,chance:60}]}}),slimelord_fire:Me({slug:"slimelord_fire",name:"Fire Slimelord",...vr,race:J.formless,armorElement:w.fire,getDrops:()=>[...ps("fire")],getSpells:function(){return[{spell:ue.enemy_fire_arrow,chance:60}]}}),slimelord_earth:Me({slug:"slimelord_earth",name:"Earth Slimelord",...vr,race:J.formless,armorElement:w.earth,getDrops:()=>[...ps("earth")],getSpells:function(){return[{spell:ue.enemy_stone_bullet,chance:60}]}}),slimelord_wind:Me({slug:"slimelord_wind",name:"Wind Slimelord",...vr,race:J.formless,armorElement:w.wind,getDrops:()=>[...ps("wind")],getSpells:function(){return[{spell:ue.enemy_wind_blast,chance:60}]}}),slimelord_holy:Me({slug:"slimelord_holy",name:"Holy Slimelord",...ac,race:J.formless,armorElement:w.holy,getDrops:()=>[...ps("holy")],getSpells:function(){return[{spell:ue.enemy_holy_bolt,chance:60}]}}),slimelord_shadow:Me({slug:"slimelord_shadow",name:"Shadow Slimelord",...ac,race:J.formless,armorElement:w.shadow,getDrops:()=>[...ps("shadow")],getSpells:function(){return[{spell:ue.enemy_shadow_bolt,chance:60}]}}),floor_5_boss:Me({slug:"floor_5_boss",name:"Kacadu's Shadow, the Examiner",level:40,maxHp:6e3,maxMp:100,str:60,int:60,dex:250,def:40,mdef:55,dr:20,rank:2,exp:5e3,race:J.formless,armorElement:w.shadow,weaponElement:w.shadow,isBoss:!0,getDrops:()=>[Q(l.item_slime,100,5),Q(l.rune,1,1)],getSpells:function(){return[{spell:ue.enemy_shadow_lock,chance:5},{spell:ue.enemy_shadow_bolt,chance:10},{spell:ue.enemy_shadow_burn,chance:15}]},onKill:function(){Fn.unlockEntry(this)}})}},Yy=function(){return{...Vy(),...jy(),...Ny(),...Qy(),...Jy()}},Q=function(e,t,n){return{item:e,chance:t,amount:n}},ae={...Ky(),...Gy(),...Yy()},gn={latestMigration:6,migrateToLatest:function(e){gn.migrateTo(e,gn.latestMigration)},migrateTo:function(e,t){t>e.migration?gn.runMigrations(e,t):gn.reverseMigrations(e,t)},runMigrations:function(e,t){let n=e.migration;for(;n<t;){n++;const s=`migration_${n}_up`;gn[s](e)}e.migration=n},reverseMigrations:function(e,t){let n=e.migration;for(;n>t;){const s=`migration_${n}_down`;gn[s](e),n--}e.migration=n},migration_1_up:function(e){e.testing="aye",console.log("migrated up to 1")},migration_1_down:function(e){delete e.testing,console.log("migrated down from 1")},migration_2_up:function(e){e.log=u.createCleanState().log,e.helpers.messageId=1,e.achievements=e.achievements.filter(t=>Object.keys(Ht).includes(t))},migration_3_up:function(e){e.last_saved_at=null},migration_3_down:function(e){delete e.last_saved_at},migration_4_up:function(e){console.log("migration 4")},migration_5_up:function(e){console.log("migration 5"),gn.removeEntryEnemyBestiary(e,ae.floor_3_shadow_hound)},migration_6_up:function(e){console.log("migration 6"),e.tower_variables.skillPerksUnlocked={}},removeEntryEnemyBestiary:function(e,t){delete e.bestiary[t.slug]},changeMonsterSlug:function(e,t,n){const s=e.bestiary[t];delete e.bestiary[t],e.bestiary[n]=s,gn.fixBestiaryOrder(e),gn.changeItemSlug(e,"card_"+t,"card_"+n)},fixBestiaryOrder:function(e){const t=wu();Object.keys(e.bestiary).forEach(n=>{t[n]=e.bestiary[n]}),e.bestiary=t},changeItemSlug:function(e,t,n){e.inventory.forEach(s=>{s.slug===t&&(s.slug=n),s.enchantSlots.includes(t)&&(s.enchantSlots[s.enchantSlots.indexOf(t)]=n)})}},zy=function(){ce.unlockWorkshopStations(),ce.applyCraftingStationUnlocks(),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.increaseSkillRank(K.combat_mastery.slug),ce.applySkillRankBonuses(),ce.increaseRank(),ce.applyRankBonus(),se.gainExp(K.combat_mastery,1e14),q.gainExp(5e4),k.add(l.novice_staff,1);const e=k.getInventoryItem(l.novice_staff);e.isAwakened=!0,k.add(l.training_sword,1);const t=k.getInventoryItem(l.training_sword);t.isAwakened=!0,k.add(l.hunting_bow,1);const n=k.getInventoryItem(l.hunting_bow);n.isAwakened=!0,k.add(l.test_armor,1),k.add(l.test_armor2,1),k.add(l.rune,1),k.add(l.cooked_meat,1e3),k.add(l.minor_healing_potion,100),k.add(l.minor_mana_potion,100),k.add(l.scroll_of_arcane_bolt,100),k.add(l.scroll_of_fire_arrow,100),k.add(l.scroll_of_stone_bullet,100),k.add(l.scroll_of_water_splash,100),k.add(l.scroll_of_wind_blast,100),k.add(l.card_warthog,100),k.add(l.card_bear,100),k.add(l.card_rabbit,100),k.add(l.enchant_minor_dexterity,100),k.add(l.rune_fire_arrow,1),k.add(l.rune_heal,1),k.add(l.scroll_of_heal,10),k.add(l.test_weapon,1),k.add(l.test_weapon2,1),k.add(l.card_rat,1),k.add(l.card_training_dummy,1),k.add(l.card_bear,1),k.add(l.card_tree,1),k.add(l.card_weed,1),k.add(l.card_iron_vein,1),k.add(l.card_spider,1),k.add(l.card_slime,1),k.add(l.card_mountain_goat,1),k.add(l.slime_earring,1),k.add(l.slime_ring,1),k.add(l.diagram_iron_ring,1),k.add(l.diagram_iron_earring,1),k.add(l.diagram_slime_earring,1),k.add(l.diagram_slime_ring,1),k.add(l.iron_ore,104),De.learnRecipe(l.diagram_iron_ingot.getRecipe()),De.learnRecipe(l.diagram_iron_ring.getRecipe()),De.learnRecipe(l.diagram_scroll_of_fire_arrow.getRecipe()),De.learnRecipe(l.diagram_scroll_of_heal.getRecipe()),De.learnRecipe(xt.runecarving.recipes.rune_fire_arrow,!0),De.learnRecipe(xt.runecarving.recipes.rune_heal,!0),k.add(l.rune,5),k.add(l.scroll_of_fire_arrow,50),k.add(l.scroll_of_heal,50),k.add(l.fragment_fire,500),k.add(l.fragment_holy,500),k.add(l.book_blacksmithing,500),k.add(l.book_tailoring,500),k.add(l.book_enchanting,500),k.add(l.book_woodworking,500),k.add(l.book_cooking,500),k.add(l.book_alchemy,500),k.add(l.book_scrollcrafting,500),k.add(l.book_runecarving,500),k.add(l.book_leatherworking,500),k.add(l.book_jewelcrafting,500),k.add(l.iron_armor,1),k.add(l.iron_helmet,1),k.add(l.iron_boots,1),k.add(l.wooden_armguard,1),k.add(l.wooden_shield,1),k.add(l.healing_potion,10),k.add(l.novice_tome,1),k.add(l.quiver,1),k.add(l.novice_tome_page,5),k.add(l.rabbit_fur,1),k.add(l.raw_hide,1),k.add(l.pristine_bear_pelt,1),k.add(l.ruined_bear_pelt,1),u.get().reputation=1e4,q.addMoney(1e6),u.get().tower_variables.kathryn_first_meeting_bar_completed=!0,Re(p.floor3_fight1_clear)},An=zo({}),u={debug:!1,get:function(){return An},init:function(){u.replaceState(u.createCleanState()),u.resolveNewGameState()},replaceState:function(e){for(const t in e)An[t]=e[t]},replaceStateWithSave:function(e){const t=["player","skills","statistics"];u.replaceSkillState(e.skills),u.replacePlayerState(e.player),u.replaceStatisticsState(e.statistics);for(const n in e)t.includes(n)||(An[n]=e[n])},replaceStatisticsState:function(e){for(const t in e)An.statistics[t]=e[t]},replaceSkillState:function(e){for(const t in e)An.skills[t]=e[t]},replacePlayerState:function(e){for(const t in e)t!=="stats"&&(An.player[t]=e[t])},resolveNewGameState:function(){An.player.money=42,k.add(l.dry_bread,10,!0),k.add(l.bandage,5,!0),k.add(l.antidote,5,!0),k.add(l.enchanted_water,5,!0),De.learnRecipe(xt.cooking.recipes.cooked_rat_meat,!0),De.learnRecipe(xt.cooking.recipes.cooked_meat,!0),u.debug&&zy()},save:function(){localStorage.setItem("save",u.getStateString()),u.get().last_saved_at=u.get().elapsedTime},load:function(){u.replaceState(u.createCleanState());const e=JSON.parse(localStorage.getItem("save"));if(!e){u.init();return}gn.migrateToLatest(e),u.replaceStateWithSave(e),u.applyStatModifiers()},isSaved:function(){const e=u.get(),t=5;return e.last_saved_at===null?!1:e.elapsedTime-e.last_saved_at<=t},exportSave:function(){u.getStateString();var e=new Date;const t="save_"+e.toLocaleString()+".txt";var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(u.getStateString())),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},getStateString:function(){return JSON.stringify(An)},loadFromString:function(e){e!==""&&(localStorage.setItem("save",e),u.load())},applyStatModifiers:function(){fe.getEquippedInventoryItems().forEach(e=>fe.applyEquipEffects(e)),Et.getUnlockedAchievements().forEach(e=>Et.applyAchievementEffects(e)),q.setLevelUpStatModifiers(!1),se.getLearnedSkills().forEach(e=>se.applySkillEffects(e)),lt.reApplyAllStatusEffectsEffects(),ce.applyBlessingEffects(),An.scene===p.bed.slug&&(Re(p.home),Re(p.bed))},createCleanState:function(){return{last_saved_at:null,selectedInfoTab:"Log",activeOverlay:null,journal:{selectedTab:null,selectedStat:null,selectedPerson:null,selectedGuidebookEntry:null},migration:gn.latestMigration,lastQuestGeneratedAt:void 0,elapsedTime:480,gameSpeed:1,tickSpeed:1e3,shouldUpdateWorker:!1,player:q.createPlayerState(),log:ov(),inventory:tv(),inventorySettings:nv(),shoppingSettings:sv(),questSelectingRank:"none",equipment:Zy(),runes:ev(),skills:rv(),learnedSkills:av(),learnedCraftingRecipes:iv(),reputation:0,combat:Xy(),activeQuestSelecting:!1,activeQuestFinishing:!1,activeShopping:null,activeCrafting:null,activeEnchant:null,activeFeeding:null,activeReading:null,activeDeleting:null,activeRebirth:null,rebirthBlessings:[],scene:"start",rebirth:cv(),scheduledEvents:{},achievements:[],titles:[Dn.unremarkable.slug],title:Dn.unremarkable.slug,statistics:lv(),bestiary:wu(),availableGuildQuests:{},quests:{},preferences:{combatLog:!0},workshopCraftingStations:lc(),townCraftingStations:lc(!0),helpers:{inventoryId:1,messageId:1},variables:{basement_fight_completed:!1,training_grounds_fight_completed:!1,free_stuff_completed:!1,forest_outskirts_hunt_completed:!1,forest_depths_hunt_completed:!1,forest_cave_hunt_completed:!1,forest_mine_hunt_completed:!1,mine_man_first_meeting:!0,mine_man_available:!1,leatherworking_pristine_pelt_quest_finished:!1,leatherworking_shop_bear_cloak_available:!1,blacksmithing_shop_iron_sword_awaken_reaction_finished:!1,novice_staff_awakened_fire_arrow_counter:0,training_sword_awakened_training_dummy_kill_counter:0},tower_variables:{kathryn_first_meeting_completed:!1,kathryn_first_meeting_bar_completed:!1,kathryn_third_floor_secret_room_completed:!1,lomsi_bear_cave_meeting_completed:!1,lomsi_hunting_cabin_meeting_completed:!1,kacadu_meditation_rune_gift_completed:!1,floor1_unlocked:!1,floor1_fight1_completed:!1,floor2_unlocked:!1,floor2_fight1_completed:!1,floor3_unlocked:!1,floor3_fight1_completed:!1,floor4_unlocked:!1,floor4_fight1_completed:!1,floor5_unlocked:!1,floor5_fight1_completed:!1,floor5_fight2_completed:!1,floor6_unlocked:!1,skillPerksUnlocked:{}}}}},lc=function(e=!1){return{blacksmithing:!1,tailoring:!1,woodworking:e,leatherworking:!1,alchemy:!1,cooking:!0,enchanting:!1,scrollcrafting:!1,runecarving:!0,jewelcrafting:!1}},Xy=function(){return{enemyGroup:null,enemy:null,paused:!1}},Zy=function(){return{garment:null,headgear:null,amulet:null,weapon:null,armor:null,offhand:null,accessory_right:null,shoes:null,accessory_left:null}},ev=function(){return{availableSlots:1,maxSlots:4,slots:[null,null,null,null]}},tv=function(){return[]},nv=function(){return{filter:"none",sort:"none"}},sv=function(){return{filter:"none"}},iv=function(){return{blacksmithing:[],tailoring:[],leatherworking:[],woodworking:[],alchemy:[],cooking:[],enchanting:[],scrollcrafting:[],runecarving:[],jewelcrafting:[]}},ov=function(){return{messages:{combat:[],item:[],other:[]},filter:"none"}},rv=function(){let e={};return Object.keys(K).forEach(t=>{e[t]={level:0,exp:0,rank:0,maxLevel:se.maxLevel/wo.length}}),e},wu=function(){let e={};return Object.keys(ae).forEach(t=>{ae[t].excludeFromBestiary||(e[t]=!1)}),e},av=function(){return[]},lv=function(){return{enemiesKilled:0,bossesKilled:0,raceKilled:{humanoid:0,beast:0,angel:0,demon:0,dragon:0,fish:0,insect:0,plant:0,undead:0,construct:0,formless:0},elementKilled:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0},scenesEntered:0,itemsBought:0,itemsObtained:0,cardsObtained:0,questsFinished:0,questsFailed:0,enchantsApplied:0,enchantsOverwritten:0,spellsCast:0,scrollsUsed:0,manaUsed:0,foodUsed:0,drinksUsed:0,healthPotionsUsed:0,manaPotionsUsed:0,readablesRead:0,statusEffectsApplied:0,statusEffectsReceived:0,itemsCrafted:0,totalSkillLevelUps:0,moneyGained:0,moneySpent:0,deathCount:0,sleepingTime:0,bleedingDamageReceived:0,bleedingDamageDealt:0,poisonDamageReceived:0,poisonDamageDealt:0,burningDamageReceived:0,burningDamageDealt:0,timeSpentStunned:0,afflictedStunTime:0,timeSpentSilenced:0,afflictedSilenceTime:0,physicalDamageReceived:0,physicalDamageDealt:0,magicalDamageReceived:0,magicalDamageDealt:0,rebirthCount:0,elementalDamageDealt:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0},elementalDamageReceived:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0}}},cv=function(){return{takenBonusesCount:{},skillExpModifiers:(()=>{let e={};return Object.keys(K).forEach(t=>{e[t]=0}),e})(),rank:0,reputation:0,runes:1,skillRanks:(()=>{let e={};return Object.keys(K).forEach(t=>{e[t]=0}),e})(),heirloomIds:[],unlockedWorkshopCraftingStations:[]}},ee={maxSize:500,getMessages:function(){const e=u.get(),t=e.log.messages.combat.concat(e.log.messages.item,e.log.messages.other);let n={};return ee.filterMessages(t).sort((s,o)=>s.id>o.id?1:-1).filter(s=>s.type==="SeparatorMessage"&&n.type==="SeparatorMessage"?!1:(n=s,!0))},filterMessages:function(e){const t=u.get().log.filter;return e.filter(n=>t==="none"||n.category==="separator"?!0:n.category===t)},setFilter:function(e){u.get().log.filter=e},getFilter:function(){return u.get().log.filter},addMessage:function(e){const t=u.get();e.category=e.category||"other",t.log.messages[e.category].length===ee.maxSize&&t.log.messages[e.category].shift(),t.log.messages[e.category].push({id:ee.getNextId(),...e})},commonMessage:function(e,t){ee.addMessage({type:"CommonMessage",message:e,color:t})},separatorMessage:function(){const e=u.get();["combat","item","other"].forEach(n=>{if(e.log.messages[n].length===0)return;e.log.messages[n][e.log.messages[n].length-1].type!=="SeparatorMessage"&&ee.addMessage({category:n,type:"SeparatorMessage"})})},skillMessage:function(e){ee.addMessage({type:"SkillMessage",skill:e.slug,level:u.get().skills[e.slug].level})},achievementMessage:function(e){ee.addMessage({type:"AchievementMessage",achievement:e.slug})},titleMessage:function(e){ee.addMessage({type:"TitleMessage",title:e.slug})},moneyMessage:function(e){ee.addMessage({type:"MoneyMessage",money:e})},combatMessage:function(e,t){u.get().preferences.combatLog&&ee.addMessage({category:"combat",type:"CommonMessage",message:e,color:t})},spellMessage:function(e,t,n,s,o){ee.addMessage({category:"combat",type:"SpellMessage",spell:e.slug,cost:n,rank:s,caster:e.caster,message:o===void 0?t+" used <"+Wt(e.name,s)+">":"<"+Wt(e.name,s)+"> dealt "+o+" damage"})},startAwakeningMessage:function(e){ee.addMessage({type:"StartAwakeningMessage",inventoryItem:e.id})},awakeningAvailableMessage:function(e){ee.addMessage({type:"AwakeningAvailableMessage",inventoryItem:e.id})},awakeningMessage:function(e){ee.addMessage({type:"AwakeningMessage",inventoryItem:e.id})},feedingMessage:function(e,t,n){ee.addMessage({type:"FeedingMessage",inventoryItem:e.id,item:t.slug,amount:n})},damageDealtMessage:function(e,t){let n=u.get().player.name+" hit "+e.name+" for "+t;ee.combatMessage(n,"damage-dealt")},damageReceivedMessage:function(e,t){let n=e.name+" hit "+u.get().player.name+" for "+t;ee.combatMessage(n,"damage-received")},gainedExpMessage:function(e){let t="EXP + "+bt(e);ee.combatMessage(t,"c-exp-lighter")},itemMessage:function(e,t){ee.addMessage({category:"item",type:"ItemMessage",item:e.slug,amount:t})},inventoryItemRankUpMessage:function(e){ee.addMessage({type:"InventoryItemRankUpMessage",inventoryItem:structuredClone(We(e))})},getNextId:function(){const e=u.get();e.helpers.messageId>=1e8&&ee.reset();let n=e.helpers.messageId;return e.helpers.messageId++,n},reset:function(){const e=u.get();e.log=u.createCleanState().log,e.helpers.messageId=1}},bu={handleRegen:function(){let e=this.getEntityState();if(!e)return;let t=this.handleOriginalHp?e.hp:null;e.hp=e.hp+this.getHpRegen(),e.hp=e.hp+bt(this.getMaxHp()*this.getHpRegenPercentage()/100),e.mp=e.mp+this.getMpRegen(),e.mp=e.mp+bt(this.getMaxMp()*this.getMpRegenPercentage()/100),bs(e),e.hp<=0&&t!==0&&this.handleDeath()},isStunned:function(){return lt.hasStatusEffect(_e.stun.slug,this.getEntityState())},isSilenced:function(){return lt.hasStatusEffect(_e.silence.slug,this.getEntityState())},addStatusEffect:function(e){let t=this.getEntityState();return t?(lt.addStatusEffect(e,t),!0):"no-target"},tickStatusEffects:function(){let e=this.getEntityState();e&&lt.tickStatusEffects(e)},getStatusEffects:function(){return lt.getStatusEffects(this.getEntityState())},getRank:function(){return this.getEntityState().rank},getLevel:function(){return this.getEntityState().level},getExp:function(){return this.getEntityState().exp},getHp:function(){return bt(this.getEntityState().hp)},getMp:function(){return bt(this.getEntityState().mp)},getArmorElementSlug:function(){return this.getEntityState().armorElement},getWeaponElementSlug:function(){return this.getEntityState().weaponElement},getRace:function(){return this.getEntityState().race},getSkill:function(){return this.getEntityState().skill},getStr:function(){return this.getStat(this.getEntityState().stats.str)},getDex:function(){return this.getStat(this.getEntityState().stats.dex)},getInt:function(){return this.getStat(this.getEntityState().stats.int)},getDef:function(){return this.getStat(this.getEntityState().stats.def)},getMdef:function(){return this.getStat(this.getEntityState().stats.mdef)},getDr:function(){return this.getStat(this.getEntityState().stats.dr)},getPoisonResistance:function(){return this.getStat(this.getEntityState().stats.poisonResistance)},getBleedingResistance:function(){return this.getStat(this.getEntityState().stats.bleedingResistance)},getBurningResistance:function(){return this.getStat(this.getEntityState().stats.burningResistance)},getCritPower:function(){return this.getStat(this.getEntityState().stats.critPower)},getMaxHp:function(){return this.getStat(this.getEntityState().stats.maxHp)},getMaxMp:function(){return this.getStat(this.getEntityState().stats.maxMp)},getHpRegen:function(){return this.getStat(this.getEntityState().stats.hpRegen)},getMpRegen:function(){return this.getStat(this.getEntityState().stats.mpRegen,2)},getHpRegenPercentage:function(){return this.getStat(this.getEntityState().stats.hpRegenPercentage)},getMpRegenPercentage:function(){return this.getStat(this.getEntityState().stats.mpRegenPercentage)},getStudyingSpeed:function(){return this.getStat(this.getEntityState().stats.studyingSpeed,2)},getManaEfficiency:function(){return this.getStat(this.getEntityState().stats.manaEfficiency,2)},getDiscount:function(){return this.getStat(this.getEntityState().stats.discount,2)},getElementResistance:function(e){return this.getStat(this.getEntityState().stats.elementResistances[e])},getElementHatred:function(e){return this.getStat(this.getEntityState().stats.elementHatreds[e])},getElementPower:function(e){return this.getStat(this.getEntityState().stats.elementPowers[e])},getRaceResistance:function(e){return this.getStat(this.getEntityState().stats.raceResistances[e])},getRaceHatred:function(e){return this.getStat(this.getEntityState().stats.raceHatreds[e])},getSkillExpModifier:function(e){return this.getStat(this.getEntityState().stats.skillExpModifiers[e])},getCraftingProficiency:function(e){return this.getStat(this.getEntityState().stats.craftingProficiencies[e])},getExpModifier:function(){return this.getStat(this.getEntityState().stats.expModifier)},getDropModifier:function(){return this.getStat(this.getEntityState().stats.dropModifier)},getStat:function(e,t){return bt(this.applyStatModifiers(e),t||0)},applyStatModifiers:function(e){let t=e.base,n=0,s=0;for(const o in e.modifiers){if(!e.modifiers.hasOwnProperty(o))continue;const a=e.modifiers[o];a.valueType==="flat"&&(n+=a.value),a.valueType==="percentage"&&(s+=a.value)}return(t+n)*(1+s/100)},createEntityState:function(e){var t,n,s,o,a,c,f,h,E,S,T,W,ne,Te,le,Ne,it,pt,Le,dt,Tt,He,Ft,At,hn,we,cn,yn,_t,Ms,Eo,Dt,ot,Qe,vn,as,kn,Vt,Io,nr,sr,Zt,ls;return{type:e.type,name:e.name,slug:e.slug,rank:e.rank||0,level:e.level||1,exp:e.exp||0,money:e.money||0,race:e.race||J.formless,armorElement:e.armorElement||w.neutral.slug,weaponElement:e.weaponElement||w.neutral.slug,skill:e.skill,hp:e.maxHp,mp:e.maxMp,statusEffects:[],stats:{expModifier:{base:0,modifiers:{}},dropModifier:{base:0,modifiers:{}},maxHp:{base:e.maxHp,modifiers:{}},maxMp:{base:e.maxMp,modifiers:{}},str:{base:e.str===void 0?1:e.str,modifiers:{}},dex:{base:e.dex===void 0?0:e.dex,modifiers:{}},int:{base:e.int===void 0?1:e.int,modifiers:{}},def:{base:e.def===void 0?0:e.def,modifiers:{}},mdef:{base:e.mdef===void 0?0:e.mdef,modifiers:{}},dr:{base:e.dr||0,modifiers:{}},critPower:{base:e.critPower===void 0?0:e.critPower,modifiers:{}},hpRegen:{base:e.hpRegen||0,modifiers:{}},hpRegenPercentage:{base:e.hpRegenPercentage||0,modifiers:{}},mpRegen:{base:e.mpRegen||0,modifiers:{}},mpRegenPercentage:{base:e.mpRegenPercentage||0,modifiers:{}},studyingSpeed:{base:e.studyingSpeed||0,modifiers:{}},manaEfficiency:{base:e.manaEfficiency||0,modifiers:{}},discount:{base:e.discount||0,modifiers:{}},poisonResistance:{base:e.poisonResistance||0,modifiers:{}},bleedingResistance:{base:e.bleedingResistance||0,modifiers:{}},burningResistance:{base:e.burningResistance||0,modifiers:{}},elementResistances:{neutral:{base:((t=e.elementResistances)==null?void 0:t.neutral)||0,modifiers:{}},fire:{base:((n=e.elementResistances)==null?void 0:n.fire)||0,modifiers:{}},water:{base:((s=e.elementResistances)==null?void 0:s.water)||0,modifiers:{}},wind:{base:((o=e.elementResistances)==null?void 0:o.wind)||0,modifiers:{}},earth:{base:((a=e.elementResistances)==null?void 0:a.earth)||0,modifiers:{}},shadow:{base:((c=e.elementResistances)==null?void 0:c.shadow)||0,modifiers:{}},holy:{base:((f=e.elementResistances)==null?void 0:f.holy)||0,modifiers:{}}},elementHatreds:{neutral:{base:((h=e.elementHatreds)==null?void 0:h.neutral)||0,modifiers:{}},fire:{base:((E=e.elementHatreds)==null?void 0:E.fire)||0,modifiers:{}},water:{base:((S=e.elementHatreds)==null?void 0:S.water)||0,modifiers:{}},wind:{base:((T=e.elementHatreds)==null?void 0:T.wind)||0,modifiers:{}},earth:{base:((W=e.elementHatreds)==null?void 0:W.earth)||0,modifiers:{}},shadow:{base:((ne=e.elementHatreds)==null?void 0:ne.shadow)||0,modifiers:{}},holy:{base:((Te=e.elementHatreds)==null?void 0:Te.holy)||0,modifiers:{}}},elementPowers:{neutral:{base:((le=e.elementPowers)==null?void 0:le.neutral)||0,modifiers:{}},fire:{base:((Ne=e.elementPowers)==null?void 0:Ne.fire)||0,modifiers:{}},water:{base:((it=e.elementPowers)==null?void 0:it.water)||0,modifiers:{}},wind:{base:((pt=e.elementPowers)==null?void 0:pt.wind)||0,modifiers:{}},earth:{base:((Le=e.elementPowers)==null?void 0:Le.earth)||0,modifiers:{}},shadow:{base:((dt=e.elementPowers)==null?void 0:dt.shadow)||0,modifiers:{}},holy:{base:((Tt=e.elementPowers)==null?void 0:Tt.holy)||0,modifiers:{}}},raceResistances:{humanoid:{base:((He=e.raceResistances)==null?void 0:He.humanoid)||0,modifiers:{}},beast:{base:((Ft=e.raceResistances)==null?void 0:Ft.beast)||0,modifiers:{}},angel:{base:((At=e.raceResistances)==null?void 0:At.angel)||0,modifiers:{}},demon:{base:((hn=e.raceResistances)==null?void 0:hn.demon)||0,modifiers:{}},dragon:{base:((we=e.raceResistances)==null?void 0:we.dragon)||0,modifiers:{}},fish:{base:((cn=e.raceResistances)==null?void 0:cn.fish)||0,modifiers:{}},insect:{base:((yn=e.raceResistances)==null?void 0:yn.insect)||0,modifiers:{}},plant:{base:((_t=e.raceResistances)==null?void 0:_t.plant)||0,modifiers:{}},undead:{base:((Ms=e.raceResistances)==null?void 0:Ms.undead)||0,modifiers:{}},construct:{base:((Eo=e.raceResistances)==null?void 0:Eo.construct)||0,modifiers:{}},formless:{base:((Dt=e.raceResistances)==null?void 0:Dt.formless)||0,modifiers:{}}},raceHatreds:{humanoid:{base:((ot=e.raceHatreds)==null?void 0:ot.humanoid)||0,modifiers:{}},beast:{base:((Qe=e.raceHatreds)==null?void 0:Qe.beast)||0,modifiers:{}},angel:{base:((vn=e.raceHatreds)==null?void 0:vn.angel)||0,modifiers:{}},demon:{base:((as=e.raceHatreds)==null?void 0:as.demon)||0,modifiers:{}},dragon:{base:((kn=e.raceHatreds)==null?void 0:kn.dragon)||0,modifiers:{}},fish:{base:((Vt=e.raceHatreds)==null?void 0:Vt.fish)||0,modifiers:{}},insect:{base:((Io=e.raceHatreds)==null?void 0:Io.insect)||0,modifiers:{}},plant:{base:((nr=e.raceHatreds)==null?void 0:nr.plant)||0,modifiers:{}},undead:{base:((sr=e.raceHatreds)==null?void 0:sr.undead)||0,modifiers:{}},construct:{base:((Zt=e.raceHatreds)==null?void 0:Zt.construct)||0,modifiers:{}},formless:{base:((ls=e.raceHatreds)==null?void 0:ls.formless)||0,modifiers:{}}},skillExpModifiers:(()=>{let Cn={};return Object.keys(K).forEach(Rs=>{Cn[Rs]={base:0,modifiers:{}}}),Cn})(),craftingProficiencies:(()=>{let Cn={};return Object.values(st).forEach(Rs=>{Cn[Rs]={base:0,modifiers:{}}}),Cn})()}}}},q={levelUpModifierSlug:"levelUp",maxLevel:99,maxRank:wo.length-1,handleOriginalHp:!0,...bu,getEntityState:function(){return u.get().player},handleDeath:function(){A.handlePlayerDeath()},gainExp:function(e){q.isMaxLevel()||(e=e*(1+q.getExpModifier()/100),ee.gainedExpMessage(e),q.getEntityState().exp+=e,q.handleLevelUp())},handleLevelUp:function(){let e=q.getEntityState(),t=q.getExpToNextLevel();e.exp<t||e.level>=q.maxLevel||(e.level++,ee.commonMessage("Level Up!","c-highlight"),q.setLevelUpStatModifiers(),e.exp=e.exp-t,q.handleLevelUp())},getExpToNextLevel:function(){return bt((q.getEntityState().level*2)**(2.1+q.getEntityState().rank/25),0)},setLevelUpStatModifiers:function(e){e=e===void 0?!0:e;let t=q.getEntityState(),n=t.rank+1,s=t.level-1,o=1*n,a=1*n,c=10*n,f=2*n;s!==0&&(t.stats.str.modifiers[q.levelUpModifierSlug]={sourceType:"level",value:o*s,valueType:"flat"},t.stats.int.modifiers[q.levelUpModifierSlug]={sourceType:"level",value:a*s,valueType:"flat"},t.stats.maxHp.modifiers[q.levelUpModifierSlug]={sourceType:"level",value:c*s,valueType:"flat"},t.stats.maxMp.modifiers[q.levelUpModifierSlug]={sourceType:"level",value:f*s,valueType:"flat"},e&&ee.commonMessage(`STR + ${o}, INT + ${a}, Max HP + ${c}, Max MP + ${f}!`,"c-highlight"))},getMoney:function(){return u.get().player.money},addMoney:function(e){u.get().player.money+=e,tt.moneyGained(e)},removeMoney:function(e){u.get().player.money=an(u.get().player.money-e,0),tt.moneySpent(e)},isMaxLevel:function(){return q.getEntityState().level>=q.maxLevel},isMaxRank:function(){return q.getEntityState().rank>=q.maxRank},createPlayerState:function(){return q.createEntityState({type:"player",name:"Player",slug:"player",race:J.humanoid,maxHp:100,maxMp:10,elementResistances:{},elementHatreds:{},elementPowers:{},raceResistances:{},raceHatreds:{}})}},an=(e,t)=>e<t?t:e,_n=(e,t)=>e>t?t:e,bt=function(e,t){if(t=t===void 0?2:t,t===0)return Math.round(e);let n=Math.pow(10,t);return Math.round(e*n)/n},cc=function(e){return e[Math.floor(Math.random()*e.length)]},uv=function(e){return"&lt;"+e+"&gt;"},Wt=function(e,t,n){return t?dv(t,n)+" "+e:e},dv=function(e,t){let n=wo[e];return t&&(n="SS"),"["+n+"]"},Hr=function(e){e&&(b.props=e)},Y=function(e){e&&(b.props=e,b.visible=!0)},V=function(){b.visible=!1},bs=function(e){let t=e.type==="player"?q:Ee;e.hp=bt(an(_n(e.hp,t.getMaxHp()),0)),e.mp=bt(an(_n(e.mp,t.getMaxMp()),0))},gv=function(e,t){let n=s=>{let o=s.split("_");return o.pop(),s=o.join("_"),s};switch(e=n(e),t){case"item":const s=k.getInventoryItemById(e),o=k.getItem(s);return s.isAwakened?o.awakenedName:o.getName();case"enchant":return l[n(n(e))].getName();case"statusEffect":return _e[n(e)].name;case"skill":return K[e].name;case"perk":return K[n(e)].name+" (Perk)";case"level":return"Level";case"furniture":return Ce(e);case"achievement":return Ht[e].name;case"blessing":return zt[e].name;case"rebirth":return"Rebirth"}},fv=function(e){return e.filter(t=>!t.item.isDiagram||!De.hasLearnedRecipe(t.item.getRecipe()))},mv=[{state:D(()=>u.get().player.stats.expModifier),value:D(()=>q.getExpModifier()),key:"expModifier",title:"Exp Bonus",description:"Increases the experience you gain (only level experience, not skills and equipment). One point equals 1% increase."},{state:D(()=>u.get().player.stats.dropModifier),value:D(()=>q.getDropModifier()),key:"dropModifier",title:"Drop Rate",description:"Increases drop rate. One point equals 1% increase. Effect is applied on bestiary entries."},{state:D(()=>u.get().player.stats.maxHp),value:D(()=>q.getMaxHp()),key:"maxHp",title:"Max HP",description:"Determines your survivability. You get knocked out when this reached 0."},{state:D(()=>u.get().player.stats.maxMp),value:D(()=>q.getMaxMp()),key:"maxMp",title:"Max MP",description:"Determines your magical ability. Is consumed on spell usage."},{state:D(()=>u.get().player.stats.str),value:D(()=>q.getStr()),key:"str",title:"Strength",description:"Affects damage dealt by physical attacks."},{state:D(()=>u.get().player.stats.dex),value:D(()=>q.getDex()),key:"dex",title:"Dexterity",description:"Determines critical chance. 1 point equals 0.1% chance."},{state:D(()=>u.get().player.stats.int),value:D(()=>q.getInt()),key:"int",title:"Intelligence",description:"Affects damage dealt by spells."},{state:D(()=>u.get().player.stats.def),value:D(()=>q.getDef()),key:"def",title:"Defense",description:"Determines damage received from physical attacks. Each point of defense equals 1% damage reduction (up to 95%)."},{state:D(()=>u.get().player.stats.mdef),value:D(()=>q.getMdef()),key:"mdef",title:"Magical Defense",description:"Determines damage received from spells. Each point of magical defense equals 1% damage reduction (up to 95%)."},{state:D(()=>u.get().player.stats.dr),value:D(()=>q.getDr()),key:"dr",title:"Damage Reduction",description:"Final damage reduction, applied at the very end for both physical attacks and spells damage calculation."},{state:D(()=>u.get().player.stats.poisonResistance),value:D(()=>q.getPoisonResistance()),key:"poisonResistance",title:"Poison Resistance",description:"Determines damage received from poison. Each point equals 1% reduction (up to 100%)."},{state:D(()=>u.get().player.stats.bleedingResistance),value:D(()=>q.getBleedingResistance()),key:"bleedingResistance",title:"Bleeding Resistance",description:"Determines damage received from bleeding. Each point equals 1% reduction (up to 100%)."},{state:D(()=>u.get().player.stats.burningResistance),value:D(()=>q.getBurningResistance()),key:"burningResistance",title:"Burning Resistance",description:"Determines damage received from burning. Each point equals 1% reduction (up to 100%)."},{state:D(()=>u.get().player.stats.critPower),value:D(()=>q.getCritPower()),key:"critPower",title:"Crit Power",description:"Increases damage dealt by critical hits. Default damage of critical hits is 200%. This value further increases it by 1% per 1 point."},{state:D(()=>u.get().player.stats.hpRegen),value:D(()=>q.getHpRegen()),key:"hpRegen",title:"HP Regeneration",description:"Determines the amount you get healed each tick. Works in combat."},{state:D(()=>u.get().player.stats.hpRegenPercentage),value:D(()=>q.getHpRegenPercentage()),key:"hpRegenPercentage",title:"HP Regeneration (%)",description:"Determines the amount you get healed (in percentage of your maximum health) each tick. Works in combat."},{state:D(()=>u.get().player.stats.mpRegen),value:D(()=>q.getMpRegen()),key:"mpRegen",title:"MP Regeneration",description:"Determines the amount of mana you recover each tick. Works in combat."},{state:D(()=>u.get().player.stats.mpRegenPercentage),value:D(()=>q.getMpRegenPercentage()),key:"mpRegenPercentage",title:"MP Regeneration (%)",description:"Determines the amount of mana you recover (in percentage of your maximum mana) each tick. Works in combat."},{state:D(()=>u.get().player.stats.manaEfficiency),value:D(()=>q.getManaEfficiency()),key:"manaEfficiency",title:"Mana Efficiency",description:"Decreases mana required to cast spells (in percentage)."},{state:D(()=>u.get().player.stats.studyingSpeed),value:D(()=>q.getStudyingSpeed()),key:"studyingSpeed",title:"Studying Speed",description:"Increases the efficiency of reading (by percentage)."},{state:D(()=>u.get().player.stats.discount),value:D(()=>q.getDiscount()),key:"discount",title:"Discount",description:"Decreases shop prices (by percentage, capped at 75%)."},...Object.keys(w).map(e=>({state:D(()=>u.get().player.stats.elementResistances[e]),value:D(()=>q.getElementResistance(e)),key:e+"_resistance",title:Ce(e)+" Resistance",description:"Reduces the damage you receive from "+Ce(e)+" attacks. Each point equals 1% reduction (up to 100%)."})),...Object.keys(w).map(e=>({state:D(()=>u.get().player.stats.elementHatreds[e]),value:D(()=>q.getElementHatred(e)),key:e+"_hatred",title:Ce(e)+" Hatred",description:"Increases the damage you deal against enemies with "+Ce(e)+" element. Each point equals 1% damage increase."})),...Object.keys(w).map(e=>({state:D(()=>u.get().player.stats.elementPowers[e]),value:D(()=>q.getElementPower(e)),key:e+"_power",title:Ce(e)+" Power",description:"Increases the damage you deal with "+Ce(e)+" attacks. Each point equals 1% damage increase."})),...Object.keys(J).map(e=>({state:D(()=>u.get().player.stats.raceResistances[e]),value:D(()=>q.getRaceResistance(e)),key:e+"_resistance",title:Ce(e)+" Resistance",description:"Reduces the damage you receive from enemies of the "+Ce(e)+" race. Each point equals 1% reduction (up to 100%)."})),...Object.keys(J).map(e=>({state:D(()=>u.get().player.stats.raceHatreds[e]),value:D(()=>q.getRaceHatred(e)),key:e+"_hatred",title:Ce(e)+" Hatred",description:"Increases the damage you deal against enemies of the "+Ce(e)+" race. Each point equals 1% damage increase."})),...Object.keys(K).map(e=>{const t=K[e].name;return{state:D(()=>u.get().player.stats.skillExpModifiers[e]),value:D(()=>q.getSkillExpModifier(e)),key:e+"_exp_bonus",title:t+" Exp",description:"Increase exp gained for the "+t+" skill. Each point equals 1% experience increase."}}),...Object.values(st).map(e=>{const t=Ce(e);return{state:D(()=>u.get().player.stats.craftingProficiencies[e]),value:D(()=>q.getCraftingProficiency(e)),key:e+"_proficiency",title:t+" Prof.",description:"Decreases the amount of materials required when crafting. Each point equals 1% decrease (minium of 1 material always required)."}})],Ma={getElementDamageModifier:function(e,t,n){let s=n.getArmorElementSlug(),o=Ma.getBaseModifier(e,w[s]),a=1-_n(n.getElementResistance(e.slug),100)/100,c=1+t.getElementPower(e.slug)/100,f=1+t.getElementHatred(s)/100;return o*a*c*f},getBaseModifier:function(e,t){return e===w.neutral&&t===w.neutral?1:e===w.holy&&t===w.shadow||e===w.shadow&&t===w.holy?1.5:t===e?.25:e.getWeaknesses().includes(t)?.5:t.getWeaknesses().includes(e)?1.5:1}},uc={getRaceDamageModifier:function(e,t){let n=e.getEntityState().race,s=t.getEntityState().race,o=1-_n(t.getRaceResistance(n),100)/100,a=1+e.getRaceHatred(s)/100;return o*a}},A={running:function(){return!!u.get().combat.enemyGroup},start:function(e){const t=u.get();t.combat.enemyGroup=e.createState(),t.combat.enemy=A.getEnemyGroup().nextEnemy(t.combat.enemyGroup.enemyNumber)},pause:function(){u.get().combat.paused=!0},unpause:function(){u.get().combat.paused=!1},paused:function(){return u.get().combat.paused},stop:function(){const e=u.get();A.running()&&(A.unpause(),e.combat.enemyGroup=null,e.combat.enemy=null,b.props.effectTarget==="enemy"&&(b.visible=!1))},handleCombat:function(){if(u.get().combat.paused)return;let e=!1;if(e=A.enemyHits(),e===!0){A.handlePlayerDeath();return}e=A.playerHits(),e===!0&&A.handleEnemyDeath()},enemyHits:function(){let e=!1;return Ee.isStunned()||(e=e||A.castEnemySpells(),e=e||A.dealPhysicalDamage(Ee,q)),e},castEnemySpells:function(){let e=!1;return Ee.isSilenced()||A.getEnemy().getSpells().forEach(t=>{if(t.chance<Math.random()*100||t.hpThreshold!==void 0&&Ee.getEntityState().hp/A.getEnemy().maxHp>t.hpThreshold||t.mpThreshold!==void 0&&Ee.getEntityState().mp/A.getEnemy().maxMp>t.mpThreshold||t.additionalCondition!==void 0&&!t.additionalCondition())return;let n=t.spell.use();t.onUse!==void 0&&t.onUse(),n==="target-died"&&(e=!0)}),e},handlePlayerDeath:function(){tt.playerDeath(),A.running()&&se.gainExp(K.tenacity,1),A.stop(),ee.combatMessage("You have been knocked out.","damage-received"),Re(p.bed)},playerHits:function(){let e=!1;return q.isStunned()||(fe.getEquippedInventoryItems().forEach(t=>fe.applyEquipEffects(t,!0)),e=e||A.castPlayerSpells(),e=e||A.dealPhysicalDamage(q,Ee),se.gainExp(K[Ee.getSkill()],1)),e},castPlayerSpells:function(){let e=!1;return q.isSilenced()||ho.getRunes().forEach(t=>{let n=k.getItem(t);if(n.getChance(t.rank)<Math.random()*100)return;let o=n.getSpell().use(n.getCost(t.rank),t.rank);ho.gainExp(t,1),o==="target-died"&&(e=!0)}),e},dealPhysicalDamage:function(e,t){let n=A.getPhysicalDamageDone(e,t),s=t.getEntityState();s.hp-=n,bs(s);let o=s.hp<=0;return s.type==="player"&&n>0&&se.gainExp(K.tenacity,1),tt.physicalDamageDealt(s.type,n,e.getWeaponElementSlug()),s.type==="enemy"?ee.damageDealtMessage(A.getEnemy(),n):A.getEnemy().dealsDamage&&ee.damageReceivedMessage(A.getEnemy(),n),o},getPhysicalDamageDone:function(e,t){let n=95,s=e.getStr(),o=1-_n(t.getDef(),n)/100,a=Ma.getElementDamageModifier(w[e.getWeaponElementSlug()],e,t),c=uc.getRaceDamageModifier(e,t),f=A.willCrit(e);f&&e.getEntityState().type==="player"&&se.gainExp(K.mutilation,1);let h=f?2+e.getCritPower()/100:1;return an(Math.round(s*o*a*c*h-t.getDr()),0)},dealMagicalDamage:function(e,t,n){let s=e.getEntityState();s.hp-=t,bs(s);let o=s.hp<=0;return s.type==="player"&&t>0&&se.gainExp(K.tenacity,1),tt.magicalDamageDealt(s.type,t,n),o},getMagicalDamageDone:function(e,t,n,s){let o=95,a=e.getInt()*(n/100),c=1-_n(t.getMdef(),o)/100,f=Ma.getElementDamageModifier(s,e,t),h=uc.getRaceDamageModifier(e,t),E=A.willCrit(e)?2+e.getCritPower()/100:1;return an(Math.round(a*c*f*h*E-t.getDr()),0)},willCrit:function(e){return e.getDex()/1e3>=Math.random()},handleEnemyDeath:function(){const e=u.get();let t=A.getEnemy();ee.combatMessage(t.name+" has been slain!","damage-dealt"),q.gainExp(Ee.getExp()),A.handleDrops(t),fe.gainExpAllEquip(Ee.getExp()),t.onKill(),tt.enemyKill(t);let n=++e.combat.enemyGroup.enemyNumber;e.combat.enemy=A.getEnemyGroup().nextEnemy(n),b.props.effectTarget==="enemy"&&(b.visible=!1),e.combat.enemy||(A.getEnemyGroup().groupFinished(),A.stop())},handleDrops:function(e){e.getDrops().forEach(t=>{Ee.getDropChance(t)>=Math.random()*100&&k.add(t.item,t.amount)})},getEnemy:function(){return ae[u.get().combat.enemy.slug]},getEnemyGroup:function(){return Ae[u.get().combat.enemyGroup.slug]}},Ee={...bu,getEntityState:function(){return u.get().combat.enemy},handleDeath:function(){A.handleEnemyDeath()},getDropChance:function(e){return _n(bt(e.chance*(1+q.getDropModifier()/100),3),100)},createEnemyState:function(e){return Ee.createEntityState({type:"enemy",name:e.name,slug:e.slug,rank:e.rank,level:e.level,exp:e.exp,maxHp:e.maxHp,maxMp:e.maxMp,str:e.str,dex:e.dex,int:e.int,def:e.def,mdef:e.mdef,dr:e.dr,hpRegen:e.hpRegen,hpRegenPercentage:e.hpRegenPercentage,elementResistances:e.elementResistances,elementHatreds:e.elementHatreds,elementPowers:e.elementPowers,race:e.race,armorElement:e.armorElement.slug,weaponElement:e.weaponElement.slug,skill:e.skill.slug})},getDefaultHp:function(e){return e?e.maxHp??e.level*(e.rank+1)*10:null},getDefaultMp:function(e){return e?e.maxMp??e.level*(e.rank+1)*1:null}},pv=["innerHTML"],_v={class:"descriptions"},hv=["innerHTML"],yv=["innerHTML"],Ie={__name:"InfoTooltip",setup(e){return(t,n)=>(d(),m(B,null,[g("div",{class:"title",innerHTML:r(Wt)(r(b).props.title,r(b).props.rank)},null,8,pv),g("div",_v,[r(b).props.descriptions.description?(d(),m("div",{key:0,class:"description",innerHTML:r(b).props.descriptions.description},null,8,hv)):R("",!0),r(b).props.descriptions.type?(d(),m("div",{key:1,class:"description",innerHTML:r(b).props.descriptions.type},null,8,yv)):R("",!0)])],64))}},rs=e=>(ft("data-v-337bc6a0"),e=e(),mt(),e),vv=rs(()=>g("span",{class:"c-str"},"STR",-1)),kv=rs(()=>g("span",{class:"c-dex"},"DEX",-1)),wv=rs(()=>g("span",{class:"c-int"},"INT",-1)),bv=rs(()=>g("span",{class:"c-def"},"DEF",-1)),Ev=rs(()=>g("span",{class:"c-mdef"},"MDEF",-1)),Iv=rs(()=>g("span",{class:"c-dr"},"DR",-1)),Sv=rs(()=>g("span",{class:"c-highlight"},"A",-1)),xv=rs(()=>g("span",{class:"c-highlight"},"W",-1)),Mv={__name:"BaseStats",props:["controller","style","enemy"],setup(e){var pt,Le,dt,Tt,He,Ft,At;const t=e,n=((pt=t.enemy)==null?void 0:pt.str)??D(()=>t.controller.getStr()),s=D(()=>{var hn;return((hn=t.enemy)==null?void 0:hn.dex)??t.controller.getDex()}),o=((Le=t.enemy)==null?void 0:Le.int)??D(()=>t.controller.getInt()),a=((dt=t.enemy)==null?void 0:dt.def)??D(()=>t.controller.getDef()),c=((Tt=t.enemy)==null?void 0:Tt.mdef)??D(()=>t.controller.getMdef()),f=((He=t.enemy)==null?void 0:He.dr)??D(()=>t.controller.getDr()),h=((Ft=t.enemy)==null?void 0:Ft.armorElement.slug)??D(()=>t.controller.getArmorElementSlug()),E=((At=t.enemy)==null?void 0:At.weaponElement.slug)??D(()=>t.controller.getWeaponElementSlug()),S={component:pe(Ie),title:"<span class='c-str'>Strength</span>",descriptions:{description:"Increase physical damage dealt."}},T=D(()=>({component:pe(Ie),title:"<span class='c-dex'>Dexterity</span>",descriptions:{description:"Increase critical chance.<br><br> Critical chance: "+s.value/10+"%."}})),W={component:pe(Ie),title:"<span class='c-int'>Intelligence</span>",descriptions:{description:"Increase magical damage dealt."}},ne={component:pe(Ie),title:"<span class='c-def'>Defense</span>",descriptions:{description:"Reduces physical damage received (percentage). "}},Te={component:pe(Ie),title:"<span class='c-mdef'>Magical Defense</span>",descriptions:{description:"Reduces magical damage received (percentage)."}},le={component:pe(Ie),title:"<span class='c-dr'>Damage Reduction</span>",descriptions:{description:"Reduces all damage received (flat&nbsp;amount)."}},Ne={component:pe(Ie),title:"<span class='c-highlight'>Armor Element</span>",descriptions:{description:"The element of your armor. Affects damage received based on enemy weapon element."}},it={component:pe(Ie),title:"<span class='c-highlight'>Weapon Element</span>",descriptions:{description:"The element of your weapon. Affects damage dealt based on enemy armor element."}};return(hn,we)=>{var cn,yn;return d(),m("div",{class:ie(["stats",e.style])},[g("div",{class:"stat",onMouseenter:we[0]||(we[0]=_t=>r(Y)(S)),onMouseleave:we[1]||(we[1]=_t=>r(V)())},[vv,oe(": "+C(r(n)),1)],32),g("div",{class:"stat",onMouseenter:we[2]||(we[2]=_t=>r(Y)(T.value)),onMouseleave:we[3]||(we[3]=_t=>r(V)())},[kv,oe(": "+C(s.value),1)],32),g("div",{class:"stat",onMouseenter:we[4]||(we[4]=_t=>r(Y)(W)),onMouseleave:we[5]||(we[5]=_t=>r(V)())},[wv,oe(": "+C(r(o)),1)],32),g("div",{class:"stat",onMouseenter:we[6]||(we[6]=_t=>r(Y)(ne)),onMouseleave:we[7]||(we[7]=_t=>r(V)())},[bv,oe(": "+C(r(a)),1)],32),g("div",{class:"stat",onMouseenter:we[8]||(we[8]=_t=>r(Y)(Te)),onMouseleave:we[9]||(we[9]=_t=>r(V)())},[Ev,oe(": "+C(r(c)),1)],32),g("div",{class:"stat",onMouseenter:we[10]||(we[10]=_t=>r(Y)(le)),onMouseleave:we[11]||(we[11]=_t=>r(V)())},[Iv,oe(": "+C(r(f)),1)],32),((cn=e.controller.getEntityState())==null?void 0:cn.type)==="player"?(d(),m("div",{key:0,class:"stat",onMouseenter:we[12]||(we[12]=_t=>r(Y)(Ne)),onMouseleave:we[13]||(we[13]=_t=>r(V)())},[Sv,oe(": "),g("span",{class:ie("c-"+r(h))},C(r(Ce)(r(h))),3)],32)):R("",!0),((yn=e.controller.getEntityState())==null?void 0:yn.type)==="player"?(d(),m("div",{key:1,class:"stat",onMouseenter:we[14]||(we[14]=_t=>r(Y)(it)),onMouseleave:we[15]||(we[15]=_t=>r(V)())},[xv,oe(": "),g("span",{class:ie("c-"+r(E))},C(r(Ce)(r(E))),3)],32)):R("",!0)],2)}}},Eu=j(Mv,[["__scopeId","data-v-337bc6a0"]]),Rv={class:"enemy"},Tv={class:"name"},Dv={key:0},$v={class:"level"},Hv={class:"elements"},Pv={class:"element"},Cv={class:"element"},Av={class:"element"},Bv={__name:"Enemy",props:["enemy"],setup(e){var W,ne,Te,le,Ne,it;const t=e,n=((W=t.enemy)==null?void 0:W.name)??D(()=>A.getEnemy().name),s=((ne=t.enemy)==null?void 0:ne.level)??D(()=>Ee.getLevel()),o=((Te=t.enemy)==null?void 0:Te.rank)??D(()=>Ee.getRank()),a=Ee.getDefaultHp(t.enemy)??D(()=>Ee.getMaxHp()),c=Ee.getDefaultMp(t.enemy)??D(()=>Ee.getMaxMp()),f=((le=t.enemy)==null?void 0:le.armorElement.slug)??D(()=>Ee.getArmorElementSlug()),h=((Ne=t.enemy)==null?void 0:Ne.weaponElement.slug)??D(()=>Ee.getWeaponElementSlug()),E=((it=t.enemy)==null?void 0:it.race)??D(()=>Ee.getRace()),S=Ee.getDefaultHp(t.enemy)??D(()=>Ee.getHp()),T=Ee.getDefaultMp(t.enemy)??D(()=>Ee.getMp());return(pt,Le)=>(d(),m("div",Rv,[g("div",Tv,[r(o)?(d(),m("span",Dv,C(r(Wt)("",r(o))),1)):R("",!0),oe(" "+C(r(n))+", ",1),g("span",$v,"Level "+C(r(s)),1)]),X(Xt,{label:"HP:",value:r(S),maxValue:r(a),color:"red",hideValues:!1},null,8,["value","maxValue"]),X(Xt,{label:"MP:",value:r(T),maxValue:r(c),color:"blue",hideValues:!1},null,8,["value","maxValue"]),X(Eu,{controller:r(Ee),enemy:e.enemy},null,8,["controller","enemy"]),g("div",Hv,[g("div",Pv,[oe(" Attack: "),g("span",{class:ie("c-"+r(h))},C(r(h)),3)]),g("div",Cv,[oe(" Armor: "),g("span",{class:ie("c-"+r(f))},C(r(f)),3)]),g("div",Av,[oe(" Race: "),g("span",{class:ie("c-"+r(E))},C(r(E)),3)])])]))}},Iu=j(Bv,[["__scopeId","data-v-c7c05ad1"]]),qv={class:"status-effects"},Uv=["onMouseenter"],Fv=["src"],Lv={__name:"StatusEffects",props:["effects","target"],setup(e){return(t,n)=>(d(),m("div",qv,[(d(!0),m(B,null,re(e.effects,s=>(d(),m("div",{class:"status-effect",onMouseenter:o=>r(Y)(r(lt).getTooltipProps(s,e.target)),onMouseleave:n[0]||(n[0]=o=>r(V)())},[g("img",{class:"icon",src:r(H)(s.statusEffect.slug),alt:""},null,8,Fv)],40,Uv))),256))]))}},Su=j(Lv,[["__scopeId","data-v-2e3f1192"]]),Ov={class:"wrapper"},Wv={class:"bottom"},Kv={class:"image-wrapper"},Gv=["src"],Vv={class:"meta"},jv={class:"enemyCounter"},Nv={__name:"Combat",setup(e){const t=u.get(),n=D(()=>Ee.getStatusEffects());return(s,o)=>(d(),m("div",Ov,[X(Iu),g("div",Wv,[X(Su,{effects:n.value,target:"enemy"},null,8,["effects"]),g("div",Kv,[g("img",{class:"image",src:r(A).getEnemy().image,alt:""},null,8,Gv)]),g("div",Vv,[g("div",jv,C(r(A).getEnemyGroup().name)+": "+C(r(t).combat.enemyGroup.enemyNumber)+" / "+C(r(A).getEnemyGroup().endless?"∞":r(A).getEnemyGroup().enemyAmount),1)])])]))}},Qv=j(Nv,[["__scopeId","data-v-6be148ac"]]),Jv={class:"recipe"},Yv={class:"title"},zv={class:"counts"},Xv=["onClick"],Zv={class:"content"},ek={class:"items"},tk=["onMouseenter"],nk=["src"],sk={class:"separator"},ik=["src"],ok={class:"items"},rk=["onMouseenter"],ak={class:"image-wrapper"},lk=["src"],ck=["src"],uk={class:"quantity result"},dk=["disabled"],gk={__name:"Recipe",props:["baseRecipe"],setup(e){const t=[1,5,10,25,100,"max"],n=Ye(t[0]),s=Ye(t[0]),o=e,a=D(()=>De.getRecipe(o.baseRecipe)),c=D(()=>De.canCraft(a.value,n.value)),f=D(()=>a.value.canCraft()),h=ne=>n.value=ne==="max"?S():ne,E=ne=>{s.value=ne,h(ne)},S=()=>an(a.value.materials.reduce((ne,Te)=>{const le=k.getInventoryItemQuantity(Te.getItem()),Ne=Math.floor(le/Te.quantity);return ne<Ne?ne:Ne},Number.MAX_VALUE),1),T=ne=>k.getInventoryItemQuantity(ne.getItem())>=ne.quantity*n.value,W=()=>{De.craft(a.value,n.value),h(s.value)};return(ne,Te)=>(d(),m("div",Jv,[g("div",Yv,C(a.value.name),1),g("div",zv,[(d(),m(B,null,re(t,le=>g("div",{onClick:Ne=>E(le),class:ie(["count",{active:s.value===le}])},C(le==="max"?"MAX":le+"x"),11,Xv)),64))]),g("div",Zv,[g("div",ek,[(d(!0),m(B,null,re(a.value.materials,le=>(d(),m("div",{class:"item",onMouseenter:Ne=>r(Y)(le.getItem().getTooltipProps()),onMouseleave:Te[0]||(Te[0]=Ne=>r(V)())},[g("img",{src:r(H)(le.getItem().getIcon())},null,8,nk),g("div",{class:ie(["quantity",{success:T(le),danger:!T(le)}])},[g("div",null,C(r(k).getInventoryItemQuantity(le.getItem())),1),g("div",null,C(le.quantity*n.value),1)],2)],40,tk))),256))]),g("div",sk,[g("img",{src:r(H)("separator"),alt:""},null,8,ik)]),(d(!0),m(B,null,re(a.value.results,le=>(d(),m("div",ok,[g("div",{class:"item",onMouseenter:Ne=>r(Y)(le.getItem().getTooltipProps()),onMouseleave:Te[1]||(Te[1]=Ne=>r(V)())},[g("div",ak,[le.getItem().isEnchant===!0?(d(),m("img",{key:0,class:"image enchant",src:r(H)("enchant"),alt:""},null,8,lk)):R("",!0),g("img",{class:"image",src:r(H)(le.getItem().getIcon()),alt:""},null,8,ck)]),g("div",uk,C(le.quantity*n.value),1)],40,rk)]))),256)),g("button",{disabled:!c.value,onClick:Te[2]||(Te[2]=le=>W()),class:ie(["btn","craft",{disabled:!c.value}])}," Craft ",10,dk),g("div",{class:ie(["additional-requirement",{success:f.value,danger:!f.value}])},C(a.value.additionalRequirementDescription),3)])]))}},fk=j(gk,[["__scopeId","data-v-58776061"]]),mk={class:"list"},pk={class:"crafting-nav"},_k=["onClick","onMouseenter"],hk=["src"],yk=["src"],vk={class:"nav-content"},kk={__name:"RecipeList",props:["recipeGroup","recipes"],setup(e){const t=e,n=Ye(null),s=o=>n.value=o;return po(()=>t.recipeGroup,()=>n.value=null),(o,a)=>(d(),m("div",mk,[g("div",pk,[(d(),m(B,null,re(1,c=>(d(),m(B,null,[(d(!0),m(B,null,re(e.recipes,f=>{var h;return d(),m("div",{class:ie(["crafting-item",{active:((h=n.value)==null?void 0:h.name)==f.name,insufficient:!r(De).canCraft(f)}]),onClick:E=>s(f),onMouseenter:E=>r(Y)(r(l)[f.slug].getTooltipProps()),onMouseleave:a[0]||(a[0]=E=>r(V)())},[r(l)[f.slug].isEnchant===!0?(d(),m("img",{key:0,class:"image enchant",src:r(H)("enchant"),alt:""},null,8,hk)):R("",!0),g("img",{class:"image",src:r(H)(r(l)[f.slug].getIcon()),alt:""},null,8,yk)],42,_k)}),256))],64))),64))]),g("div",vk,[n.value?(d(),Se(fk,{key:0,baseRecipe:n.value},null,8,["baseRecipe"])):R("",!0)])]))}},wk=j(kk,[["__scopeId","data-v-9c8ffb67"]]),bk={class:"wrapper"},Ek={__name:"Crafting",setup(e){const t=u.get(),n=D(()=>xt[t.activeCrafting]);return(s,o)=>(d(),m("div",bk,[X(wk,{recipeGroup:n.value,recipes:r(De).getLearnedRecipes(n.value)},null,8,["recipeGroup","recipes"])]))}},Ik=j(Ek,[["__scopeId","data-v-88e4f460"]]),xu=e=>(ft("data-v-17ed83b9"),e=e(),mt(),e),Sk={class:"enchanting-content-wrapper"},xk={class:"top"},Mk=xu(()=>g("div",{class:"heading"},"Select slot",-1)),Rk={class:"slots"},Tk=["onClick","onMouseenter"],Dk={key:0},$k={key:1,class:"c-gray"},Hk={class:"bottom"},Pk=xu(()=>g("div",{class:"heading"},"Enchanting result",-1)),Ck={class:"buttons"},Ak=["disabled"],Bk={__name:"ApplyEnchant",props:["enchantInventoryItem","inventoryItem"],setup(e){const t=e,n=Ye(null),s=c=>n.value=c,o=c=>kt.getSlottedEnchantItem(t.inventoryItem,c-1),a=D(()=>kt.fakeEnchantedInventoryItem(We(t.inventoryItem),n.value-1));return po(()=>[t.inventoryItem,t.enchantInventoryItem],()=>n.value=null),(c,f)=>(d(),m("div",Sk,[g("div",xk,[Mk,g("div",Rk,[(d(!0),m(B,null,re(r(kt).getEnchantingSlotsCount(e.inventoryItem),h=>(d(),m("div",{class:ie(["slot",{active:h===n.value}]),onClick:E=>s(h),onMouseenter:E=>{var S;return r(Y)((S=o(h))==null?void 0:S.getTooltipProps())},onMouseleave:f[0]||(f[0]=E=>r(V)())},[o(h)?(d(),m("span",Dk,[X(Mt,{arrows:!0,item:o(h)},null,8,["item"])])):(d(),m("span",$k,"Empty enchant slot"))],42,Tk))),256))])]),g("div",Hk,[Pk,n.value?(d(),m("div",{key:0,class:"result",onMouseenter:f[1]||(f[1]=h=>r(Y)(r(je).getTooltipProps(a.value))),onMouseleave:f[2]||(f[2]=h=>r(V)())},[X(Mt,{arrows:!0,inventoryItem:a.value},null,8,["inventoryItem"])],32)):(d(),m("div",{key:1,class:"result",onMouseenter:f[3]||(f[3]=h=>r(Y)(r(je).getTooltipProps(e.inventoryItem))),onMouseleave:f[4]||(f[4]=h=>r(V)())},[X(Mt,{arrows:!0,inventoryItem:e.inventoryItem},null,8,["inventoryItem"])],32)),g("div",Ck,[g("button",{class:ie(["btn","confirm",{disabled:!n.value}]),disabled:!n.value,onClick:f[5]||(f[5]=h=>r(kt).applyEnchant(e.inventoryItem,n.value-1))}," Enchant ",10,Ak),g("button",{class:"btn cancel",onClick:f[6]||(f[6]=h=>r(kt).stop())}," Cancel ")])])]))}},qk=j(Bk,[["__scopeId","data-v-17ed83b9"]]),Uk={class:"wrapper"},Fk={class:"vertical-nav secondary"},Lk=["onClick","onMouseenter"],Ok={class:"nav-content"},Wk={__name:"Enchanting",setup(e){const t=Ye(null),n=D(()=>kt.getActiveEnchantInventoryItem()),s=o=>t.value=o;return po(()=>n.value,()=>t.value=null),(o,a)=>(d(),m(B,null,[g("div",{class:"top",onMouseenter:a[0]||(a[0]=c=>r(Y)(r(je).getTooltipProps(n.value))),onMouseleave:a[1]||(a[1]=c=>r(V)())},[X(Mt,{arrows:!0,item:r(k).getItem(n.value)},null,8,["item"])],32),g("div",Uk,[g("div",Fk,[(d(!0),m(B,null,re(r(kt).getEnchantingEligibleInventoryItems(),c=>{var f;return d(),m("div",{class:ie(["nav-item",{active:((f=t.value)==null?void 0:f.id)===c.id}]),key:c.id,onClick:h=>s(c),onMouseenter:h=>r(Y)(r(je).getTooltipProps(c)),onMouseleave:a[2]||(a[2]=h=>r(V)())},[X(Mt,{arrows:!0,inventoryItem:c},null,8,["inventoryItem"]),oe(" "+C(c.isEquipped?"E":""),1)],42,Lk)}),128))]),g("div",Ok,[t.value?(d(),Se(qk,{key:0,inventoryItem:t.value,enchantInventoryItem:n.value},null,8,["inventoryItem","enchantInventoryItem"])):R("",!0)])])],64))}},Kk=j(Wk,[["__scopeId","data-v-ba9dda92"]]),Gk={class:"reading"},Vk={class:"title"},jk={class:"left"},Nk={__name:"Reading",setup(e){const t=D(()=>on.getCurrentReadingInventoryItem());return(n,s)=>(d(),m("div",Gk,[g("div",Vk,[oe(" Currently reading "),X(Mt,{arrows:"true",inventoryItem:t.value,onMouseenter:s[0]||(s[0]=o=>r(Y)(r(je).getTooltipProps(t.value))),onMouseleave:s[1]||(s[1]=o=>r(V)())},null,8,["inventoryItem"])]),g("div",jk," Reading amount left: "+C(t.value.readingDuration),1),g("button",{class:"btn cancel",onClick:s[2]||(s[2]=o=>r(on).stop()),onMouseenter:s[3]||(s[3]=o=>r(Y)({component:pe(Ie),title:"Stop Reading",descriptions:{description:"You can continue where you left off."}})),onMouseleave:s[4]||(s[4]=o=>r(V)())}," Stop reading ",32)]))}},Qk=j(Nk,[["__scopeId","data-v-67a506a1"]]),Jk={class:"filters"},Yk=["onClick"],zk={__name:"ShoppingInventoryFilters",setup(e){let t=Ye(Hn.getFilter());const n={none:"All",isEquip:"Equip",isConsumable:"Use",isEnchant:"Enchant",etc:"Etc"};return(s,o)=>(d(),m("div",Jk,[(d(),m(B,null,re(n,(a,c)=>g("div",{class:ie(["filter","nav-item",{active:r(t)===c}]),onClick:f=>{r(Hn).setFilter(c),St(t)?t.value=c:t=c}},C(a),11,Yk)),64))]))}},Xk=j(zk,[["__scopeId","data-v-b91f1291"]]),Zk={key:0,class:"card-wrapper"},ew=["src"],tw=["src"],nw={key:1,class:"card-wrapper"},sw=["src"],iw=["src"],ow=["src"],rw={__name:"ItemIcon",props:["item"],setup(e){return(t,n)=>(d(),m("div",null,[e.item.isCard===!0?(d(),m("div",Zk,[g("img",{class:"image enchant",src:r(H)("card"),alt:""},null,8,ew),g("img",{class:"image enemy",src:r(H)(e.item.getSource().slug),alt:""},null,8,tw)])):e.item.isEnchant===!0?(d(),m("div",nw,[g("img",{class:"image enchant",src:r(H)("enchant"),alt:""},null,8,sw),g("img",{class:"image enemy",src:r(H)(e.item.getIcon()),alt:""},null,8,iw)])):(d(),m("img",{key:2,class:"image",src:r(H)(e.item.getIcon()),alt:""},null,8,ow))]))}},Jr=j(rw,[["__scopeId","data-v-a62f8bac"]]),aw={key:0,class:"amount"},lw={class:"enchant-slots"},cw={class:ie(["enchant-slot"])},uw={__name:"ShoppingItem",props:["shopItem","selectedCount"],setup(e){const t=e,n=D(()=>{const o=t.selectedCount==="max"?Math.floor(q.getEntityState().money/t.shopItem.getPrice()):t.selectedCount;return o===0?1:o}),s=()=>{Hn.buyShopItem(t.shopItem.item,t.shopItem.getPrice(),n.value),Y(t.shopItem.item.getTooltipProps({price:t.shopItem.getPrice()*n.value}))};return(o,a)=>(d(),m("div",{class:ie(["item"]),onClick:a[0]||(a[0]=c=>s()),onMouseenter:a[1]||(a[1]=c=>r(Y)(e.shopItem.item.getTooltipProps({price:e.shopItem.getPrice()*n.value}))),onMouseleave:a[2]||(a[2]=c=>r(V)())},[n.value>1?(d(),m("div",aw,C(n.value),1)):R("",!0),g("div",lw,[(d(!0),m(B,null,re(e.shopItem.item.enchantSlotsCount,c=>(d(),m("div",cw))),256))]),X(Jr,{item:e.shopItem.item},null,8,["item"])],32))}},dw=j(uw,[["__scopeId","data-v-ddde74f0"]]),gw={class:"wrapper"},fw={class:"inventory-list"},mw={class:ie(["item-wrapper"])},pw={class:"counts"},_w=["onClick"],hw={__name:"ShoppingInventoryList",setup(e){const t=D(()=>Hn.getShopItems()),n=[1,5,10,25,100,"max"],s=Ye(n[0]),o=a=>{s.value=a};return(a,c)=>(d(),m("div",gw,[g("div",fw,[(d(!0),m(B,null,re(t.value,f=>(d(),m("div",mw,[X(dw,{shopItem:f,selectedCount:s.value},null,8,["shopItem","selectedCount"])]))),256))]),g("div",pw,[(d(),m(B,null,re(n,f=>g("div",{onClick:h=>o(f),class:ie(["count",{active:s.value===f}])},C(f==="max"?"MAX":f+"x"),11,_w)),64))])]))}},yw=j(hw,[["__scopeId","data-v-1611bd97"]]),vw={class:"inventory box"},kw={class:"title"},ww={__name:"ShoppingInventory",setup(e){const t=u.get(),n=D(()=>p[t.activeShopping].title);return(s,o)=>(d(),m("div",vw,[g("div",kw,C(n.value),1),X(Xk),X(yw)]))}},bw=j(ww,[["__scopeId","data-v-98f5962b"]]),Ew={__name:"Shopping",setup(e){return(t,n)=>(d(),Se(bw))}},Iw={class:"filters"},Sw=["onClick","onMouseenter"],xw={__name:"QuestSelectingFilters",setup(e){const t=Ye(Ln.getFilter()),n=function(a){a!=="none"&&!et.rankUnlocked(a)||(Ln.setFilter(a),t.value=a)},s=D(()=>u.get().reputation),o={none:"All",G:"G",F:"F"};return(a,c)=>(d(),m("div",Iw,[(d(),m(B,null,re(o,(f,h)=>g("div",{class:ie(["filter","nav-item",{active:t.value===h,locked:!r(et).rankUnlocked(h)}]),onClick:E=>n(h),onMouseenter:E=>h!=="none"&&!r(et).rankUnlocked(h)?r(Y)({component:Ie,title:"Locked",descriptions:{description:`Quests of this rank are locked.<br><br>${s.value} / ${r(et).rankReputationMapping[h]} reputation required.`}}):()=>{},onMouseleave:c[0]||(c[0]=E=>r(V)())},[h==="none"||r(et).rankUnlocked(h)?(d(),m(B,{key:0},[oe(C(f),1)],64)):(d(),m(B,{key:1},[oe(" 🔒 ")],64))],42,Sw)),64))]))}},Mw=j(xw,[["__scopeId","data-v-9c29979a"]]),Mu=e=>(ft("data-v-fd13512f"),e=e(),mt(),e),Rw={class:"title"},Tw={class:"list"},Dw=Mu(()=>g("div",{class:"subtitle"},"Requirements",-1)),$w={class:"list-wrapper"},Hw={class:"list-item"},Pw={class:"amount"},Cw=["src"],Aw={class:"list"},Bw=Mu(()=>g("div",{class:"subtitle"},"Rewards",-1)),qw={class:"list-wrapper column"},Uw={key:0,class:"money"},Fw={key:1,class:"reputation"},Lw={__name:"Quest",props:{quest:{},callback:{default:()=>()=>{}}},setup(e){return(t,n)=>(d(),m("div",{class:ie(["quest",e.quest.rank]),onClick:n[0]||(n[0]=s=>e.callback(e.quest)),onMouseenter:n[1]||(n[1]=s=>r(Y)(r(et).getTooltipProps(e.quest))),onMouseleave:n[2]||(n[2]=s=>r(V)())},[g("div",Rw,C(e.quest.getGiver().getName()),1),g("div",Tw,[Dw,g("div",$w,[(d(!0),m(B,null,re(e.quest.getRequirements(),s=>(d(),m("div",Hw,[g("div",Pw,C(s.amount),1),g("img",{class:"image",src:r(H)(s.requirement.getIcon()),alt:""},null,8,Cw)]))),256))])]),g("div",Aw,[Bw,g("div",qw,[(d(!0),m(B,null,re(e.quest.getRewards(),s=>(d(),m("div",null,[s.type===r($e).money?(d(),m("div",Uw,[X(Wn,{money:s.amount},null,8,["money"])])):R("",!0),s.type===r($e).reputation?(d(),m("div",Fw," +"+C(s.amount)+" Reputation ",1)):R("",!0)]))),256))])])],34))}},Ru=j(Lw,[["__scopeId","data-v-fd13512f"]]),Ow={class:"wrapper"},Ww={class:"list"},Kw={__name:"QuestSelectingList",setup(e){const t=D(()=>Ln.getAvailableQuests());return(n,s)=>(d(),m("div",Ow,[g("div",Ww,[(d(!0),m(B,null,re(t.value,o=>(d(),Se(Ru,{quest:o,callback:r(et).startGuildQuest},null,8,["quest","callback"]))),256))])]))}},Gw=j(Kw,[["__scopeId","data-v-3f0460ad"]]),Vw=e=>(ft("data-v-fb9f620b"),e=e(),mt(),e),jw={class:"inventory box"},Nw=Vw(()=>g("div",{class:"title"},"Job Board",-1)),Qw={__name:"QuestSelecting",setup(e){return(t,n)=>(d(),m("div",jw,[Nw,X(Mw),X(Gw)]))}},Jw=j(Qw,[["__scopeId","data-v-fb9f620b"]]),Yw={class:"wrapper"},zw={class:"list"},Xw={__name:"AcceptedQuests",props:["quests","callback"],setup(e){const t=e,n=D(()=>t.quests||et.getAcceptedQuests());return(s,o)=>(d(),m("div",Yw,[g("div",zw,[(d(!0),m(B,null,re(n.value,a=>(d(),Se(Ru,{quest:a,callback:e.callback},null,8,["quest","callback"]))),256))])]))}},Tu=j(Xw,[["__scopeId","data-v-babff7e5"]]),Zw=e=>(ft("data-v-5649d0c9"),e=e(),mt(),e),eb={class:"list box"},tb=Zw(()=>g("div",{class:"title"},"Reception",-1)),nb={__name:"QuestFinishing",setup(e){const t=D(()=>yo.getAvailableQuests());return(n,s)=>(d(),m("div",eb,[tb,X(Tu,{quests:t.value,callback:r(et).finishGuildQuest},null,8,["quests","callback"])]))}},sb=j(nb,[["__scopeId","data-v-5649d0c9"]]),ib=["src"],ob={class:"enchant-slots"},rb=["src"],ab={__name:"HeirloomInventoryItem",props:["inventoryItem"],setup(e){return(t,n)=>(d(),m("div",{class:ie(["item",{equipped:e.inventoryItem.isEquipped}])},[e.inventoryItem.isFavorite?(d(),m("img",{key:0,class:"favorite-permanent",src:r(H)("favorite"),alt:""},null,8,ib)):R("",!0),g("div",ob,[(d(!0),m(B,null,re(r(kt).getEnchantingSlotsCount(e.inventoryItem),s=>(d(),m("div",{class:ie(["enchant-slot",{active:e.inventoryItem.enchantSlots[s-1]}])},null,2))),256))]),g("img",{class:"image",src:r(H)(r(k).getItem(e.inventoryItem).getIcon()),alt:""},null,8,rb)],2))}},lb=j(ab,[["__scopeId","data-v-9ebe265a"]]),cb=e=>(ft("data-v-aca37aed"),e=e(),mt(),e),ub={class:"box"},db={class:"blessings-wrapper"},gb=["onClick","onMouseenter"],fb=["src"],mb=["src"],pb={key:0,class:"limit"},_b={class:"heirloom-wrapper"},hb=cb(()=>g("div",{class:"heirloom-title"},"Choose an Heirloom",-1)),yb={class:"heirlooms"},vb={class:"buttons"},kb={__name:"Rebirth",setup(e){const t=D(()=>ce.getBlessings()),n=Ye(null),s=Ye(null),o=f=>n.value=f,a=f=>s.value=f,c=()=>{n.value.action(s==null?void 0:s.value),V()};return(f,h)=>{var E;return d(),m("div",ub,[g("div",{class:"title",onMouseenter:h[0]||(h[0]=S=>r(Y)({component:pe(Ie),title:"Blessing Choice",descriptions:{description:"You can choose other blessings next time you rebirth.<br><br> Each blessing can only be chosen limited amount of times, except for Heirloom Blessing, which has no limit."}})),onMouseleave:h[1]||(h[1]=S=>r(V)())}," Make your choice ",32),g("div",db,[(d(!0),m(B,null,re(t.value,S=>{var T;return d(),m("div",{class:ie(["blessing",{selected:((T=n.value)==null?void 0:T.slug)===S.slug}]),onClick:W=>o(S),onMouseenter:W=>r(Y)(S.getTooltipProps()),onMouseleave:h[2]||(h[2]=W=>r(V)())},[g("img",{class:"blessing-underlay",src:r(H)("blessing"),alt:""},null,8,fb),g("img",{class:"blessing-icon",src:S.getIcon(),alt:""},null,8,mb),S.limit?(d(),m("div",pb,C(S.limit-r(ce).getTakenBonusCount(S.slug)),1)):R("",!0)],42,gb)}),256))]),g("div",_b,[((E=n.value)==null?void 0:E.type)==="blessing_heirloom"?(d(),m(B,{key:0},[hb,g("div",yb,[(d(!0),m(B,null,re(r(ce).getHeirloomEligibleInventoryItems(n.value.powerLevelLimit),S=>{var T;return d(),Se(lb,{class:ie(["heirloom-item",{selected:((T=s.value)==null?void 0:T.id)===S.id}]),onMouseenter:W=>r(Y)(r(je).getTooltipProps(S)),onMouseleave:h[3]||(h[3]=W=>r(V)()),onClick:W=>a(S),inventoryItem:S},null,8,["class","onMouseenter","onClick","inventoryItem"])}),256))])],64)):R("",!0)]),g("div",vb,[g("button",{class:ie(["btn","confirm",{disabled:!n.value||n.value.type==="blessing_heirloom"&&!s.value}]),onClick:h[4]||(h[4]=S=>c()),onMouseenter:h[5]||(h[5]=S=>r(Y)({component:pe(Ie),title:"Rebirth",descriptions:{description:"Start over and receive a blessing.<br><br>You will return to the beginning of the game.<br><br> <strong>You will keep:</strong> Permanent items (heirlooms, cards and BLANK runes), rebirth blessings, achievements (progress included), bestiary, titles, learned recipes (diagrams) and tower progress.<br><br> <strong>You will lose:</strong> everything else."}})),onMouseleave:h[6]||(h[6]=S=>r(V)())}," Rebirth ",34),g("button",{class:"btn cancel",onClick:h[7]||(h[7]=S=>r(ce).stop())}," Cancel ")])])}}},wb=j(kb,[["__scopeId","data-v-aca37aed"]]),bb={class:"action-window box"},Eb={__name:"ActionWindow",setup(e){return(t,n)=>(d(),m("div",bb,[r(A).running()?(d(),Se(Qv,{key:0})):R("",!0),r(De).running()?(d(),Se(Ik,{key:1})):R("",!0),r(kt).running()?(d(),Se(Kk,{key:2})):R("",!0),r(on).running()?(d(),Se(Qk,{key:3})):R("",!0),r(Hn).running()?(d(),Se(Ew,{key:4})):R("",!0),r(Ln).running()?(d(),Se(Jw,{key:5})):R("",!0),r(yo).running()?(d(),Se(sb,{key:6})):R("",!0),r(ce).running()?(d(),Se(wb,{key:7})):R("",!0)]))}},Ib=j(Eb,[["__scopeId","data-v-6eaa4ccb"]]),Sb={class:"filters"},xb=["onClick"],Mb=["src"],Rb={__name:"InventoryFilters",setup(e){let t=Ye(k.getFilter());const n={none:"All",isEquip:"Equip",isConsumable:"Use",isEnchant:"Enchant",etc:"Etc",isHidden:"Hidden"};return(s,o)=>(d(),m("div",Sb,[(d(),m(B,null,re(n,(a,c)=>g("div",{class:ie(["filter","nav-item",{active:r(t)===c}]),onClick:f=>{r(k).setFilter(c),St(t)?t.value=c:t=c}},C(a),11,xb)),64)),g("div",{class:"nav-item help",onMouseenter:o[0]||(o[0]=a=>r(Y)({component:pe(Ie),title:"Inventory Guide",descriptions:{description:"<strong>Controls</strong>: Press shift to show controls overlay, this allows you to set item as favorite, hide it into the hidden tab, delete it and later in the game - feed it.<br><br><strong>Hotkeys</strong>: Pressing 0-9 while hovering over an item allows you to set a hotkey. Using the hotkey uses the item. You can also hold the hotkey for rapid usage.<br><br><strong>Clean items</strong>: Some actions will remove equipment from your inventory (quests, feeding). These actions only count and remove clean equipment. An equipment is clean when it has no experience, no rank, no socketed enchant (or card) and is not an heirloom, equipped, favorite or hidden. It's basically a new piece of equipment you have not interacted with."}})),onMouseleave:o[1]||(o[1]=a=>r(V)())},[g("img",{class:"icon",src:r(H)("question_mark"),alt:""},null,8,Mb)],32)]))}},Tb=j(Rb,[["__scopeId","data-v-3a4c1d48"]]),fn={running:function(){return u.get().activeDeleting!==null},startDeleting:function(e){e.isDeletable!==!1&&(u.get().activeDeleting=e.id)},stopDeleting:function(){u.get().activeDeleting=null},getDeletingInventoryItem:function(){return k.getInventoryItemById(u.get().activeDeleting)},delete:function(){const e=fn.getDeletingInventoryItem();e.isDeletable!==!1&&(k.remove(e,e.amount),fn.stopDeleting())},massDelete:function(){if(!confirm("Are you sure?"))return;const e=fn.getDeletingInventoryItem(),t=k.getItem(e);k.getCleanInventoryItems(t).forEach(n=>k.remove(n,n.amount)),fn.stopDeleting()}},Db=["src"],$b=["src"],Hb=["src"],Pb=["src"],Cb=["src"],Ab={__name:"InventoryItemControls",props:["showControls","inventoryItem"],setup(e){const t={component:Ie,title:"Favorite",descriptions:{description:"Marking an item as favorite gives it sorting priority. It will also hide options to hide it and to delete it."}},n={component:Ie,title:"Hide / Show",descriptions:{description:"Hiding an item moves it to the 'Hidden' inventory tab. Items in this tab are not shown in any other tab."}},s={component:Ie,title:"Feed",descriptions:{description:"Feeding consumes all existing copies of the fed item. Copies must be 'clean'. Only items that are not changed in any way are considered 'clean'.<br><br> If an item has any experience, rank, enchants or is marked as favorite, hidden or is equipped, it is not considered 'clean'."}},o={component:Ie,title:"Destroy",descriptions:{description:"Destroying an item permanently removes it from your inventory. It cannot be undone. If an item is stackable, the whole stack is removed.<br><br>There is no limit to inventory space, this function exists mainly to remove unwanted equipment that is not 'clean', as 'clean' items do have a use."}};return(a,c)=>(d(),m("div",{class:ie(["controls-overlay",{active:e.showControls}])},[g("div",{class:ie(["icon-wrapper",{active:e.inventoryItem.isFavorite}]),onClick:c[0]||(c[0]=Bt(f=>r(k).toggleFavorite(e.inventoryItem),["stop"])),onMouseenter:c[1]||(c[1]=f=>r(Y)(t)),onMouseleave:c[2]||(c[2]=f=>r(V)())},[g("img",{class:"icon",src:r(H)("favorite"),alt:""},null,8,Db)],34),!e.inventoryItem.isFavorite&&!e.inventoryItem.isEquipped?(d(),m("div",{key:0,class:"icon-wrapper",onClick:c[3]||(c[3]=Bt(f=>r(k).toggleHidden(e.inventoryItem),["stop"])),onMouseenter:c[4]||(c[4]=f=>r(Y)(n)),onMouseleave:c[5]||(c[5]=f=>r(V)())},[e.inventoryItem.isHidden?(d(),m("img",{key:0,class:"icon",src:r(H)("show"),alt:""},null,8,$b)):(d(),m("img",{key:1,class:"icon",src:r(H)("hide"),alt:""},null,8,Hb))],32)):R("",!0),e.inventoryItem.startedAwakening&&!e.inventoryItem.isAwakened?(d(),m("div",{key:1,class:"icon-wrapper",onClick:c[6]||(c[6]=Bt(f=>r(fe).startFeeding(e.inventoryItem),["stop"])),onMouseenter:c[7]||(c[7]=f=>r(Y)(s)),onMouseleave:c[8]||(c[8]=f=>r(V)())},[g("img",{class:"icon",src:r(H)("feed"),alt:""},null,8,Pb)],32)):R("",!0),e.inventoryItem.isDeletable&&!e.inventoryItem.isFavorite&&!e.inventoryItem.isEquipped?(d(),m("div",{key:2,class:"icon-wrapper",onClick:c[9]||(c[9]=Bt(f=>r(fn).startDeleting(e.inventoryItem),["stop"])),onMouseenter:c[10]||(c[10]=f=>r(Y)(o)),onMouseleave:c[11]||(c[11]=f=>r(V)())},[g("img",{class:"icon",src:r(H)("red-cross"),alt:""},null,8,Cb)],32)):R("",!0)],2))}},Bb=j(Ab,[["__scopeId","data-v-d7a21e44"]]),qb={key:0,class:"awaken-overlay"},Ub=["src"],Fb={__name:"InventoryItemAwaken",props:["inventoryItem"],setup(e){return(t,n)=>e.inventoryItem.canAwaken&&!e.inventoryItem.isAwakened?(d(),m("div",qb,[g("div",{class:"awaken",onClick:n[0]||(n[0]=Bt(s=>r(fe).awaken(e.inventoryItem),["stop"])),onMouseenter:n[1]||(n[1]=s=>r(Y)({component:Ie,title:"Awakening",descriptions:{description:"This item is ready to evolve into its final form!"}})),onMouseleave:n[2]||(n[2]=s=>r(V)())},[g("img",{class:"icon",src:r(H)("awaken"),alt:""},null,8,Ub)],32)])):R("",!0)}},Lb=j(Fb,[["__scopeId","data-v-16cc5ccc"]]),Ob={key:0,class:"cooldown-overlay"},Wb=["src"],Kb={key:2,class:"amount"},Gb={key:3,class:"hotkey"},Vb={class:"enchant-slots"},jb=["src"],Nb={__name:"InventoryItem",props:["inventoryItem","showAmount"],setup(e){return(t,n)=>(d(),m("div",{class:ie(["item",{equipped:e.inventoryItem.isEquipped,heirloom:e.inventoryItem.isHeirloom}])},[e.inventoryItem.cooldown>0?(d(),m("div",Ob,C(e.inventoryItem.cooldown),1)):R("",!0),e.inventoryItem.isFavorite?(d(),m("img",{key:1,class:"favorite-permanent",src:r(H)("favorite"),alt:""},null,8,Wb)):R("",!0),e.showAmount&&!r(k).getItem(e.inventoryItem).isEquip?(d(),m("div",Kb,C(e.inventoryItem.amount),1)):R("",!0),e.inventoryItem.hotkey?(d(),m("div",Gb,C(e.inventoryItem.hotkey),1)):R("",!0),g("div",Vb,[(d(!0),m(B,null,re(r(kt).getEnchantingSlotsCount(e.inventoryItem),s=>(d(),m("div",{class:ie(["enchant-slot",{active:e.inventoryItem.enchantSlots[s-1]}])},null,2))),256))]),X(Jr,{item:r(k).getItem(e.inventoryItem)},null,8,["item"]),e.inventoryItem.isHeirloom?(d(),m("img",{key:4,class:"heirloom-underlay",src:r(H)("blessing"),alt:""},null,8,jb)):R("",!0)],2))}},Qb=j(Nb,[["__scopeId","data-v-65f9df98"]]),Jb={class:"wrapper"},Yb={class:"inventory-list"},zb={class:ie(["item-wrapper"])},Xb={__name:"InventoryList",setup(e){const t=D(()=>k.get());D(()=>stateController.get());const n=Ye(!1);let s=null;const o=["1","2","3","4","5","6","7","8","9","0"],a=E=>{Y(je.getTooltipProps(E)),s=E},c=E=>{V(),s=null},f=E=>{n.value=E.shiftKey},h=E=>{if(o.includes(E.key)){if(s===null){je.useHotkeyInventoryItem(E.key);return}if(s.hotkey===E.key){je.clearHotkey(E.key);return}je.clearHotkey(E.key),je.setHotkey(s,E.key)}};return Is(()=>{window.addEventListener("keydown",h),window.addEventListener("keydown",f),window.addEventListener("keyup",f)}),Ss(()=>{window.removeEventListener("keydown",h),window.removeEventListener("keydown",f),window.removeEventListener("keyup",f)}),(E,S)=>(d(),m("div",Jb,[g("div",Yb,[(d(!0),m(B,null,re(t.value,T=>(d(),m("div",zb,[X(Qb,{inventoryItem:T,showAmount:!0,onClick:W=>r(k).useInventoryItem(T),onMouseenter:W=>a(T),onMouseleave:c},null,8,["inventoryItem","onClick","onMouseenter"]),X(Bb,{showControls:n.value,inventoryItem:T},null,8,["showControls","inventoryItem"]),X(Lb,{inventoryItem:T},null,8,["inventoryItem"])]))),256))])]))}},Zb=j(Xb,[["__scopeId","data-v-f26a3294"]]),e1={class:"sorts"},t1=["onClick"],n1={__name:"InventorySorts",setup(e){let t=Ye("none");const n={default:"None",alpha:"ABC",quantity:"QTY"};return(s,o)=>(d(),m("div",e1,[(d(),m(B,null,re(n,(a,c)=>g("div",{class:ie(["sort","nav-item",{active:r(t)===c}]),onClick:f=>{r(k).setSort(c),St(t)?t.value=c:t=c}},C(a),11,t1)),64))]))}},s1=j(n1,[["__scopeId","data-v-99171729"]]),i1=e=>(ft("data-v-93a71afa"),e=e(),mt(),e),o1={key:0,class:"feeding"},r1=i1(()=>g("div",{class:"separator"}," is about to consume ",-1)),a1={class:"fuel"},l1={class:"buttons"},c1={__name:"Feeding",setup(e){const t=D(()=>fe.getFeedingInventoryItem()),n=D(()=>fe.getFeedableItems(t.value));return(s,o)=>r(fe).feeding()?(d(),m("div",o1,[X(Mt,{class:"consumer",arrows:!0,inventoryItem:t.value,onMouseenter:o[0]||(o[0]=a=>r(Y)(r(je).getTooltipProps(t.value))),onMouseleave:o[1]||(o[1]=a=>r(V)())},null,8,["inventoryItem"]),r1,g("div",a1,[oe(C(n.value.length)+"x ",1),X(Mt,{arrows:!0,inventoryItem:n.value[0],onMouseenter:o[2]||(o[2]=a=>r(Y)(r(je).getTooltipProps(n.value[0]))),onMouseleave:o[3]||(o[3]=a=>r(V)())},null,8,["inventoryItem"])]),g("div",l1,[g("button",{class:"btn confirm",onClick:o[4]||(o[4]=a=>r(fe).feed())}," Feed "),g("button",{class:"btn cancel",onClick:o[5]||(o[5]=a=>r(fe).stopFeeding())}," Cancel ")])])):R("",!0)}},u1=j(c1,[["__scopeId","data-v-93a71afa"]]),d1=e=>(ft("data-v-f1dc8efa"),e=e(),mt(),e),g1={key:0,class:"deleting"},f1=d1(()=>g("div",null,"You are about to destroy",-1)),m1={class:"item"},p1={class:"buttons"},_1={key:0,class:"mass-delete"},h1={__name:"Deleting",setup(e){const t=D(()=>fn.getDeletingInventoryItem());return(n,s)=>r(fn).running()?(d(),m("div",g1,[f1,g("div",m1,[oe(C(t.value.amount)+"x ",1),X(Mt,{class:"consumer",arrows:!0,inventoryItem:t.value,onMouseenter:s[0]||(s[0]=o=>r(Y)(r(je).getTooltipProps(t.value))),onMouseleave:s[1]||(s[1]=o=>r(V)())},null,8,["inventoryItem"])]),g("div",p1,[g("button",{class:"btn confirm",onClick:s[2]||(s[2]=o=>r(fn).delete())}," Destroy "),g("button",{class:"btn cancel",onClick:s[3]||(s[3]=o=>r(fn).stopDeleting())}," Cancel ")]),r(k).getItem(t.value).isEquip?(d(),m("div",_1,[g("button",{class:"btn confirm",onClick:s[4]||(s[4]=o=>r(fn).massDelete())}," Destroy ALL clean copies ")])):R("",!0)])):R("",!0)}},y1=j(h1,[["__scopeId","data-v-f1dc8efa"]]),v1={class:"inventory box"},k1={class:"bottom"},w1={__name:"Inventory",setup(e){const t=D(()=>q.getMoney());return u.get(),(n,s)=>(d(),m("div",v1,[r(fe).feeding()?(d(),Se(u1,{key:0})):R("",!0),r(fn).running()?(d(),Se(y1,{key:1})):R("",!0),X(Tb),X(Zb),g("div",k1,[X(s1),X(Wn,{money:t.value},null,8,["money"])])]))}},b1=j(w1,[["__scopeId","data-v-a9c332ce"]]),E1=["src"],I1=["src"],S1={class:"item"},x1={__name:"SceneOption",props:["option"],setup(e){return(t,n)=>(d(),m(B,null,[e.option.type==="normal"?(d(),m("div",{key:0,class:ie(["option",e.option.class]),onClick:n[0]||(n[0]=s=>e.option.action())},[e.option.getIcon?(d(),m("img",{key:0,class:"icon",src:e.option.getIcon(),alt:""},null,8,E1)):R("",!0),oe(" "+C(e.option.getContent()),1)],2)):R("",!0),e.option.type==="quest_start"||e.option.type==="quest_finish"?(d(),m("div",{key:1,class:ie(["option",e.option.class]),onClick:n[1]||(n[1]=s=>e.option.action()),onMouseenter:n[2]||(n[2]=s=>r(Y)(r(et).getTooltipProps(e.option.quest))),onMouseleave:n[3]||(n[3]=s=>r(V)())},C(e.option.getContent()),35)):R("",!0),e.option.type==="separator"?(d(),m("div",{key:2,class:ie(["option",e.option.class])},[e.option.getIcon?(d(),m("img",{key:0,class:"icon",src:e.option.getIcon(),alt:""},null,8,I1)):R("",!0),oe(" "+C(e.option.getContent()),1)],2)):R("",!0),e.option.type==="station"?(d(),m("div",{key:3,class:"option split station",onClick:n[4]||(n[4]=s=>e.option.action())},[oe(" Access to "+C(r(Ce)(e.option.station))+" Station ",1),X(Wn,{money:e.option.price},null,8,["money"])])):R("",!0),e.option.type==="heirloom"?(d(),m("div",{key:4,class:"option split",onClick:n[5]||(n[5]=s=>e.option.action()),onMouseenter:n[6]||(n[6]=s=>r(Y)(r(je).getTooltipProps(e.option.inventoryItem))),onMouseleave:n[7]||(n[7]=s=>r(V)())},[g("div",S1,[X(Mt,{inventoryItem:e.option.inventoryItem,arrows:!0},null,8,["inventoryItem"])])],32)):R("",!0)],64))}},M1=j(x1,[["__scopeId","data-v-2e89223a"]]),R1={class:"scene box"},T1={key:0,class:"overlay"},D1={class:"top"},$1={class:"left"},H1={class:"name"},P1={key:0,class:"description"},C1={class:"right"},A1={class:"datetime"},B1=["src"],q1={class:"day"},U1=["innerHTML"],F1={class:"messages"},L1=["innerHTML"],O1={class:"options"},W1={__name:"Scene",setup(e){const t=u.get(),n=D(()=>p[t.scene]),s=D(()=>n.value.getDescription()),o=D(()=>n.value.getMessages()),a=D(()=>n.value.messagesTitle),c=D(()=>Je.getTimeIcon()),f=D(()=>n.value.options());let h=D(()=>kt.running()||on.running());return(E,S)=>(d(),m("div",R1,[r(h)?(d(),m("div",T1)):R("",!0),g("div",D1,[g("div",$1,[g("div",H1,C(n.value.title),1),s.value?(d(),m("div",P1,C(s.value),1)):R("",!0)]),g("div",C1,[g("div",A1,[g("img",{class:"time-icon",src:r(H)(c.value),alt:""},null,8,B1),oe(" "+C(r(Je).getTimeString()),1)]),g("div",q1,C(r(Je).getDayString()),1)])]),o.value?(d(),m(B,{key:1},[a.value?(d(),m("div",{key:0,class:"message-title",innerHTML:a.value},null,8,U1)):R("",!0),g("div",F1,[(d(!0),m(B,null,re(o.value,T=>(d(),m("div",{class:"message",innerHTML:T},null,8,L1))),256))])],64)):R("",!0),g("div",O1,[(d(!0),m(B,null,re(f.value,T=>(d(),m(B,null,[T.isVisible()?(d(),Se(M1,{key:0,option:T},null,8,["option"])):R("",!0)],64))),256))])]))}},K1=j(W1,[["__scopeId","data-v-3ae9298a"]]),G1={__name:"CommonMessage",props:["message"],setup(e){return(t,n)=>(d(),m("div",{class:ie(["message",e.message.color])},C(e.message.message),3))}},V1=j(G1,[["__scopeId","data-v-e5ebafd6"]]),j1=e=>(ft("data-v-9782c3d1"),e=e(),mt(),e),N1=j1(()=>g("span",{class:"c-success label"},"Item acquired:",-1)),Q1={__name:"ItemMessage",props:["message"],setup(e){const t=e;let n=k.getItem({slug:t.message.item});return(s,o)=>(d(),m("div",{class:"message",onMouseenter:o[0]||(o[0]=a=>r(Y)(r(n).getTooltipProps())),onMouseleave:o[1]||(o[1]=a=>r(V)())},[N1,X(Jr,{item:r(n),class:"item"},null,8,["item"]),oe(" x"+C(e.message.amount),1)],32))}},J1=j(Q1,[["__scopeId","data-v-9782c3d1"]]),Y1={class:"message"},z1={__name:"SkillMessage",props:["message"],setup(e){let n=K[e.message.skill];return(s,o)=>(d(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(Y)(r(se).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(V)())},[g("div",Y1,C(r(n).name)+" has reached level "+C(e.message.level)+"! ",1)],32))}},X1=j(z1,[["__scopeId","data-v-1088ce5d"]]),Z1=e=>(ft("data-v-f94fe600"),e=e(),mt(),e),eE=Z1(()=>g("span",{class:"c-highlight"},"Item rank up! ",-1)),tE={__name:"InventoryItemRankUpMessage",props:["message"],setup(e){return(t,n)=>(d(),m("div",{class:"message",onMouseenter:n[0]||(n[0]=s=>r(Y)(r(je).getTooltipProps(e.message.inventoryItem))),onMouseleave:n[1]||(n[1]=s=>r(V)())},[eE,X(Mt,{arrows:!0,inventoryItem:e.message.inventoryItem},null,8,["inventoryItem"])],32))}},nE=j(tE,[["__scopeId","data-v-f94fe600"]]),sE={class:"message"},iE={__name:"AchievementMessage",props:["message"],setup(e){let n=Ht[e.message.achievement];return(s,o)=>(d(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(Y)(r(Et).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(V)())},[g("div",sE," New achievement unlocked! <"+C(r(n).name)+"> ",1)],32))}},oE=j(iE,[["__scopeId","data-v-f45c75f3"]]),rE={class:"message"},aE={__name:"TitleMessage",props:["message"],setup(e){let n=Dn[e.message.title];return(s,o)=>(d(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(Y)(r(uo).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(V)())},[g("div",rE," New title unlocked! <"+C(r(n).name)+"> ",1)],32))}},lE=j(aE,[["__scopeId","data-v-f69ce431"]]),Du=e=>(ft("data-v-c4a61835"),e=e(),mt(),e),cE={class:"message"},uE=Du(()=>g("br",null,null,-1)),dE=Du(()=>g("span",{class:"c-danger"},"has consumed",-1)),gE={__name:"FeedingMessage",props:["message"],setup(e){const t=e,n=k.getInventoryItemById(t.message.inventoryItem),s=l[t.message.item];return(o,a)=>(d(),m("div",cE,[X(Mt,{arrows:!0,inventoryItem:r(n),onMouseenter:a[0]||(a[0]=c=>r(Y)(r(je).getTooltipProps(r(n)))),onMouseleave:a[1]||(a[1]=c=>r(V)())},null,8,["inventoryItem"]),uE,dE,oe(" "+C(e.message.amount)+"x ",1),X(Mt,{arrows:!0,item:r(s),onMouseenter:a[2]||(a[2]=c=>r(Y)(r(s).getTooltipProps())),onMouseleave:a[3]||(a[3]=c=>r(V)())},null,8,["item"])]))}},fE=j(gE,[["__scopeId","data-v-c4a61835"]]),mE=e=>(ft("data-v-e1ddd978"),e=e(),mt(),e),pE={class:"message"},_E=mE(()=>g("span",{class:"c-danger"},"grows hungry...",-1)),hE={__name:"StartAwakeningMessage",props:["message"],setup(e){const t=e,n=k.getInventoryItemById(t.message.inventoryItem);return(s,o)=>(d(),m("div",pE,[X(Mt,{class:"mr",arrows:!0,inventoryItem:r(n),onMouseenter:o[0]||(o[0]=a=>r(Y)(r(je).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(V)())},null,8,["inventoryItem"]),_E]))}},yE=j(hE,[["__scopeId","data-v-e1ddd978"]]),$u=e=>(ft("data-v-f1201b72"),e=e(),mt(),e),vE={class:"message"},kE=$u(()=>g("span",{class:"c-highlight"},"has awakened and became",-1)),wE=$u(()=>g("br",null,null,-1)),bE={__name:"AwakeningMessage",props:["message"],setup(e){const t=e,n=k.getInventoryItemById(t.message.inventoryItem),s=k.getItem(n);return(o,a)=>(d(),m("div",vE,[X(Mt,{item:r(s),class:"mr"},null,8,["item"]),kE,wE,X(Mt,{arrows:!0,inventoryItem:r(n),onMouseenter:a[0]||(a[0]=c=>r(Y)(r(je).getTooltipProps(r(n)))),onMouseleave:a[1]||(a[1]=c=>r(V)())},null,8,["inventoryItem"]),oe("! ")]))}},EE=j(bE,[["__scopeId","data-v-f1201b72"]]),IE=e=>(ft("data-v-ddb8b88a"),e=e(),mt(),e),SE={class:"message"},xE=IE(()=>g("span",{class:"c-highlight"},"can be awakened!",-1)),ME={__name:"AwakeningAvailableMessage",props:["message"],setup(e){const t=e,n=k.getItemById(t.message.inventoryItem);return(s,o)=>(d(),m("div",SE,[X(Mt,{class:"mr",item:r(n)},null,8,["item"]),xE]))}},RE=j(ME,[["__scopeId","data-v-ddb8b88a"]]),TE={class:"message"},DE={__name:"SeparatorMessage",props:["message"],setup(e){return(t,n)=>(d(),m("div",TE))}},$E=j(DE,[["__scopeId","data-v-76e8bc57"]]),HE={class:"message"},PE={__name:"MoneyMessage",props:["message"],setup(e){return(t,n)=>(d(),m("div",HE,[oe(" + "),X(Wn,{money:e.message.money},null,8,["money"])]))}},CE=j(PE,[["__scopeId","data-v-0dddfbf2"]]),AE={__name:"SpellMessage",props:["message"],setup(e){const t=e,n=ue[t.message.spell],s=t.message.message,o=t.message.caster,a=t.message.cost,c=t.message.rank;return(f,h)=>(d(),m("div",{class:"message",onMouseenter:h[0]||(h[0]=E=>r(Y)(r(n).getTooltipProps(r(c),r(a)))),onMouseleave:h[1]||(h[1]=E=>r(V)())},[g("span",{class:ie(r(o))},C(r(s)),3)],32))}},BE=j(AE,[["__scopeId","data-v-7d612d54"]]),qE={class:"filters"},UE=["onClick"],FE={__name:"LogFilters",setup(e){let t=Ye(ee.getFilter());const n={none:"All",combat:"Combat",item:"Item",other:"Other"};return(s,o)=>(d(),m("div",qE,[(d(),m(B,null,re(n,(a,c)=>g("div",{class:ie(["filter","nav-item",{active:r(t)===c}]),onClick:f=>{r(ee).setFilter(c),St(t)?t.value=c:t=c}},C(a),11,UE)),64))]))}},LE=j(FE,[["__scopeId","data-v-0e533284"]]),OE={class:"log"},WE={__name:"Log",setup(e){const t={CommonMessage:V1,ItemMessage:J1,SpellMessage:BE,SkillMessage:X1,InventoryItemRankUpMessage:nE,AchievementMessage:oE,TitleMessage:lE,FeedingMessage:fE,AwakeningMessage:EE,StartAwakeningMessage:yE,AwakeningAvailableMessage:RE,SeparatorMessage:$E,MoneyMessage:CE},n=Ye(null),s=D(()=>ee.getMessages());let o=!0;const a=()=>{o=Math.abs(n.value.scrollHeight-n.value.clientHeight-n.value.scrollTop)<=1};return Is(()=>{n.value.scrollTop=n.value.scrollHeight,n.value.addEventListener("scroll",a)}),Qc(()=>{o&&(n.value.scrollTop=n.value.scrollHeight)}),Jc(()=>n.value.removeEventListener("scroll",a)),(c,f)=>(d(),m("div",OE,[X(LE),g("div",{class:"messages",ref_key:"list",ref:n},[(d(!0),m(B,null,re(s.value,h=>(d(),Se(ko(t[h.type]),{key:h.id,message:h},null,8,["message"]))),128))],512)]))}},KE=j(WE,[["__scopeId","data-v-b70cc469"]]),GE=function(){return[{isVisible:()=>u.get().tower_variables.kathryn_first_meeting_bar_completed,content:["A helpful guy providing information to rookie Travelers.","I can find him at the bar in the Adventurers' Guild."]}]},VE=function(){return[{isVisible:()=>u.get().tower_variables.kacadu_meditation_rune_gift_completed,content:["After accepting the last rune blessing, the tower shone with light and a voice appeared in my mind.","It felt similar to being in the presence of Shadow, but less... ominous.","A rune materialized in front of me, already bonded to me like other heirlooms.","Supposedly a gift for my magical prowess.","The voice told me to keep climbing, to defy my mortal fate and become something greater.","I wonder what that means...","Despite not being a traveller, I will keep a note of this encounter here, under the Shadow's name.","I think the voice and shadow are linked somehow, so I'll name the entry after the Shadow - Kacadu."]}]},jE=function(){return[{isVisible:()=>u.get().tower_variables.kathryn_first_meeting_completed,content:["I met a woman called Kathryn, she seems to know what's going on when it comes to the tower and these blessings...","I should meet her in the Adventurers' Guild's Bar when I have some spare time."]},{isVisible:()=>u.get().tower_variables.kathryn_first_meeting_bar_completed,content:["Met her again, she was pretty surprised that I met the 'Shadow', as she calls it, on the very first floor. Apparently that's not normal. Wonder where and when we'll meet again.","I should talk to Jake in the Bar if I want more information."]},{isVisible:()=>u.get().tower_variables.kathryn_third_floor_secret_room_completed,content:["This time she was on the third floor, right in front of the boss gate.","We teamed up and explored a secret room, which contained powerful creature and some diagrams.","Wonder where we'll meet next..."]}]},NE=function(){return[{isVisible:()=>u.get().tower_variables.lomsi_bear_cave_meeting_completed,content:["A hunter I have met after beating a bear in the forest cave.","I should talk to him in the Hunter's Cabin when I am free."]},{isVisible:()=>u.get().tower_variables.lomsi_hunting_cabin_meeting_completed,content:["He is selling books that teach everything there is to know about a monster.","Just like acquiring a card, but without having to hunt for days.","I can usually meet him in the Hunter's Cabin in the evening.","He also mentioned something about being a traveler."]}]},ma={kathryn:jE(),jake:GE(),lomsi:NE(),kacadu:VE()},QE={class:"people"},JE={class:"vertical-nav secondary"},YE=["onClick"],zE={class:"nav-title"},XE={key:0,class:"nav-content"},ZE={class:"person-title"},eI={class:"entries"},tI={key:0,class:"entry"},nI=["innerHTML"],sI={__name:"People",setup(e){const t=D(()=>Object.keys(ma).filter(c=>ma[c].some(f=>f.isVisible()))),n=u.get(),s=D(()=>n.journal.selectedPerson),o=function(c){n.journal.selectedPerson=c},a=D(()=>[...ma[s.value]].reverse());return(c,f)=>(d(),m("div",QE,[g("div",JE,[(d(!0),m(B,null,re(t.value,h=>(d(),m("div",{class:ie(["nav-item",{active:s.value===h}]),onClick:E=>o(h)},[g("span",zE,C(r(be)[h].getName()),1)],10,YE))),256))]),s.value?(d(),m("div",XE,[g("div",ZE,C(r(be)[s.value].getName()),1),(d(!0),m(B,null,re(a.value,h=>(d(),m("div",eI,[h.isVisible()?(d(),m("div",tI,[(d(!0),m(B,null,re(h.content,E=>(d(),m("div",{class:"entry-content",innerHTML:E},null,8,nI))),256))])):R("",!0)]))),256))])):R("",!0)]))}},iI=j(sI,[["__scopeId","data-v-d7050961"]]),oI={class:"enemy"},rI={class:"image-wrapper"},aI=["src"],lI={class:"description"},cI={key:0,class:"heading spells"},uI={class:"spells"},dI={key:0},gI={key:1},fI={class:"spell header"},mI={class:"spell"},pI=["onMouseenter"],_I={class:"spell-cell"},hI={class:"spell-cell"},yI={class:"spell-cell"},vI={key:1,class:"heading heading-drops"},kI={class:"drops"},wI={class:"drop"},bI={class:"amount"},EI={class:"chance"},II={__name:"BestiaryEntry",props:["enemy","clearSelected"],setup(e){return(t,n)=>(d(),m(B,null,[g("button",{class:"btn",onClick:n[0]||(n[0]=s=>e.clearSelected())},"← Back to Bestiary"),g("div",oI,[X(Iu,{enemy:e.enemy},null,8,["enemy"]),g("div",rI,[g("img",{class:"image",src:e.enemy.image,alt:""},null,8,aI)]),g("div",lI,C(e.enemy.description),1),e.enemy.getSpells()?(d(),m("div",cI,"Spells")):R("",!0),g("div",uI,[e.enemy.getSpells().length===0?(d(),m("div",dI," This creature does not cast any spells. ")):(d(),m("div",gI,[g("div",fI,[g("div",{class:"spell-cell",onMouseenter:n[1]||(n[1]=s=>r(Y)({component:pe(Ie),title:"<span class='c-highlight'>Spell</span>",descriptions:{description:"The enemy spell.<br><br> Enemies can both attack and cast spells in the same game tick."}})),onMouseleave:n[2]||(n[2]=s=>r(V)())}," Spell ",32),g("div",{class:"spell-cell",onMouseenter:n[3]||(n[3]=s=>r(Y)({component:pe(Ie),title:"<span class='c-highlight'>Chance</span>",descriptions:{description:"The chance to cast a spell in each tick.<br><br>  Provided the enemy has enough required resource, all spells can be casted within the same tick."}})),onMouseleave:n[4]||(n[4]=s=>r(V)())}," Chance ",32),g("div",{class:"spell-cell",onMouseenter:n[5]||(n[5]=s=>r(Y)({component:pe(Ie),title:"<span class='c-highlight'>Health Threshold</span>",descriptions:{description:"The health threshold an enemy has to reach to be able to cast this spell.<br><br> Additional constraints may be applicable (e.g. casting the spell only once per battle)."}})),onMouseleave:n[6]||(n[6]=s=>r(V)())}," HPT ",32),g("div",{class:"spell-cell",onMouseenter:n[7]||(n[7]=s=>r(Y)({component:pe(Ie),title:"<span class='c-highlight'>Mana Threshold</span>",descriptions:{description:"The mana threshold an enemy has to reach to be able to cast this spell.<br><br> Additional constraints may be applicable (e.g. casting the spell only once per battle)."}})),onMouseleave:n[8]||(n[8]=s=>r(V)())}," MPT ",32)])])),(d(!0),m(B,null,re(e.enemy.getSpells(),s=>(d(),m("div",mI,[g("div",{class:"spell-cell",onMouseenter:o=>r(Y)(s.spell.getTooltipProps()),onMouseleave:n[9]||(n[9]=o=>r(V)())}," <"+C(s.spell.name)+"> ",41,pI),g("div",_I,C(s.chance)+"%",1),g("div",hI,C(s.hpThreshold===void 0?100:s.hpThreshold*100)+"% ",1),g("div",yI,C(s.mpThreshold===void 0?100:s.mpThreshold*100)+"% ",1)]))),256))]),e.enemy.getDrops()?(d(),m("div",vI,"Drops")):R("",!0),g("div",kI,[(d(!0),m(B,null,re(e.enemy.getDrops(),s=>(d(),m("div",wI,[X(Jr,{class:"item",item:s.item,onMouseenter:o=>r(Y)(s.item.getTooltipProps()),onMouseleave:n[10]||(n[10]=o=>r(V)())},null,8,["item","onMouseenter"]),g("div",bI,"x"+C(s.amount),1),g("div",EI,C(r(Ee).getDropChance(s))+"%",1)]))),256))])])],64))}},SI=j(II,[["__scopeId","data-v-51557830"]]),xI={class:"bestiary"},MI={key:0,class:"cards"},RI=["onClick"],TI={class:"name"},DI={class:"image-wrapper"},$I=["src"],HI={__name:"Bestiary",setup(e){const t=u.get(),n=Ye(null),s=a=>{t.bestiary[a]&&(n.value=a)},o=()=>n.value=null;return(a,c)=>(d(),m("div",xI,[n.value?R("",!0):(d(),m("div",MI,[(d(!0),m(B,null,re(r(t).bestiary,(f,h)=>(d(),m("div",{class:ie(["card",{disabled:!r(t).bestiary[h]}]),onClick:E=>s(h)},[r(t).bestiary[h]?(d(),m(B,{key:0},[g("div",TI,C(r(ae)[h].name),1),g("div",DI,[g("img",{class:"image",src:r(H)(h)},null,8,$I)])],64)):(d(),m("div",{key:1,class:"unknown",onMouseenter:c[0]||(c[0]=E=>r(Y)({component:pe(Ie),title:"Locked",descriptions:{description:"Acquire the enemy card in order to unlock this entry."}})),onMouseleave:c[1]||(c[1]=E=>r(V)())}," 🔒 ",32))],10,RI))),256))])),n.value?(d(),Se(SI,{key:1,enemy:r(ae)[n.value],clearSelected:o},null,8,["enemy"])):R("",!0)]))}},PI=j(HI,[["__scopeId","data-v-cf6b750f"]]),CI={class:"wrapper"},AI={class:"title"},BI={class:"achievements"},qI=["onMouseenter"],UI=["src"],FI={key:1,class:"achievement disabled"},LI=["src"],OI={__name:"Achievements",setup(e){let t=Object.values(Ht),n=D(()=>Et.getUnlockedAchievements());return(s,o)=>(d(),m("div",CI,[g("div",AI," Unlocked: "+C(r(n).length)+" / "+C(r(t).length),1),g("div",BI,[(d(!0),m(B,null,re(r(t),a=>(d(),m(B,null,[r(n).includes(a)?(d(),m("div",{key:0,class:"achievement",onMouseenter:c=>r(Y)(r(Et).getTooltipProps(a)),onMouseleave:o[0]||(o[0]=c=>r(V)())},[g("img",{class:"icon",src:r(H)(a.getIcon())},null,8,UI)],40,qI)):(d(),m("div",FI,[g("img",{class:"icon",src:r(H)(a.getIcon())},null,8,LI)]))],64))),256))])]))}},WI=j(OI,[["__scopeId","data-v-cf6f8141"]]),Hu=e=>(ft("data-v-124fb6ac"),e=e(),mt(),e),KI={class:"detail"},GI={class:"heading"},VI={class:"description"},jI={class:"value"},NI={class:"sources"},QI=Hu(()=>g("div",{class:"sources-heading"},"Sources:",-1)),JI={class:"base"},YI=Hu(()=>g("span",null,"Base:",-1)),zI={class:"source"},XI={__name:"StatDetail",props:["stat"],setup(e){return(t,n)=>(d(),m("div",KI,[g("div",GI,C(e.stat.title),1),g("div",VI,C(e.stat.description),1),g("div",jI,"Value: "+C(e.stat.value),1),g("div",NI,[QI,g("div",JI,[YI,oe(),g("span",null,C(e.stat.state.base),1)]),(d(!0),m(B,null,re(e.stat.state.modifiers,(s,o)=>(d(),m("div",zI,[g("span",null,C(r(gv)(o,s.sourceType))+":",1),g("span",null,C(r(bt)(s.value)+(s.valueType==="percentage"?"%":"")),1)]))),256))])]))}},ZI=j(XI,[["__scopeId","data-v-124fb6ac"]]),eS={class:"stats"},tS={class:"vertical-nav secondary"},nS=["onClick"],sS={class:"stat"},iS={class:"stat-value"},oS={class:"nav-content"},rS={__name:"Stats",setup(e){let t=mv;const n=u.get(),s=D(()=>n.journal.selectedStat),o=function(a){n.journal.selectedStat=a};return(a,c)=>(d(),m("div",eS,[g("div",tS,[(d(!0),m(B,null,re(r(t),f=>{var h;return d(),m("div",{class:ie(["nav-item",{active:((h=s.value)==null?void 0:h.key)==f.key}]),onClick:E=>o(f)},[g("span",sS,C(f.title),1),g("span",iS,C(f.value),1)],10,nS)}),256))]),g("div",oS,[s.value?(d(),Se(ZI,{key:0,stat:s.value},null,8,["stat"])):R("",!0)])]))}},aS=j(rS,[["__scopeId","data-v-5bb4f4e5"]]),ln=e=>(ft("data-v-6b9f3af7"),e=e(),mt(),e),lS={class:"guidebook"},cS={class:"vertical-nav secondary"},uS=["onClick"],dS={class:"category"},gS={class:"nav-content"},fS={key:0,class:"content-item"},mS=ln(()=>g("br",null,null,-1)),pS=ln(()=>g("br",null,null,-1)),_S=ln(()=>g("br",null,null,-1)),hS=ln(()=>g("br",null,null,-1)),yS=ln(()=>g("br",null,null,-1)),vS=ln(()=>g("br",null,null,-1)),kS={key:1,class:"content-item"},wS=ln(()=>g("br",null,null,-1)),bS=ln(()=>g("br",null,null,-1)),ES=ln(()=>g("br",null,null,-1)),IS=ln(()=>g("br",null,null,-1)),SS=ln(()=>g("br",null,null,-1)),xS=ln(()=>g("br",null,null,-1)),MS={__name:"Guidebook",setup(e){const t=u.get(),n=D(()=>t.journal.selectedGuidebookEntry),s=function(a){t.journal.selectedGuidebookEntry=a},o={titles:"Titles",cards:"Cards"};return(a,c)=>(d(),m("div",lS,[g("div",cS,[(d(),m(B,null,re(o,f=>{var h;return g("div",{class:ie(["nav-item",{active:((h=n.value)==null?void 0:h.key)==f.key}]),onClick:E=>s(f)},[g("span",dS,C(f),1)],10,uS)}),64))]),g("div",gS,[n.value===o.titles?(d(),m("div",fS,[oe(" Certain feats in the game will unlock titles."),mS,pS,oe(" When a title has certain bonuses specified to it, these bonuses are received automatically with the title and are permanent."),_S,hS,oe(" The bonuses do not require you to actively use the title."),yS,vS,oe(" Therefore, choosing which title to use is simply a matter of preference ")])):R("",!0),n.value===o.cards?(d(),m("div",kS,[oe(" Every enemy in the world has a chance to drop a card."),wS,bS,oe(" Getting a card will unlock bestiary entry for that enemy."),ES,IS,oe(" Cards can also be used to apply an enchant to equipment with enchanting slot."),SS,xS,oe(" The card is used up in this process (the bestiary pages stay). ")])):R("",!0)])]))}},RS=j(MS,[["__scopeId","data-v-6b9f3af7"]]),TS={class:"journal"},DS={class:"nav"},$S={class:"content"},HS={__name:"Journal",setup(e){const t=u.get(),n=D(()=>t.journal.selectedTab),s=function(a){t.journal.selectedTab=a};let o={People:iI,AcceptedQuests:Tu,Bestiary:PI,Achievements:WI,Stats:aS,Guidebook:RS};return(a,c)=>(d(),m("div",TS,[g("div",DS,[g("div",{class:ie(["nav-item",{active:n.value=="AcceptedQuests"}]),onClick:c[0]||(c[0]=f=>s("AcceptedQuests"))}," Quests ",2),g("div",{class:ie(["nav-item",{active:n.value=="People"}]),onClick:c[1]||(c[1]=f=>s("People"))}," Travelers ",2),g("div",{class:ie(["nav-item",{active:n.value=="Bestiary"}]),onClick:c[2]||(c[2]=f=>s("Bestiary"))}," Bestiary ",2),g("div",{class:ie(["nav-item",{active:n.value=="Achievements"}]),onClick:c[3]||(c[3]=f=>s("Achievements"))}," Achievements ",2),g("div",{class:ie(["nav-item",{active:n.value=="Stats"}]),onClick:c[4]||(c[4]=f=>s("Stats"))}," Stats ",2)]),g("div",$S,[(d(),Se(ko(r(o)[n.value])))])]))}},PS=j(HS,[["__scopeId","data-v-38b0a611"]]),Ra=e=>{const t=u.get();if(t.activeOverlay===e){t.activeOverlay=null;return}u.get().activeOverlay=e},Ta={blessings:"blessings",about:"about",settings:"settings"},CS={class:"menu"},AS={class:"left"},BS=["src"],qS=["src"],US=["src"],FS=["src"],LS=["src"],OS=["src"],WS={class:"right"},KS=["src"],GS=["src"],VS=["src"],jS=["src"],NS=["src"],QS={__name:"Menu",setup(e){return(t,n)=>(d(),m("div",CS,[g("div",AS,[g("div",{class:"icon-wrapper-small",onMouseenter:n[0]||(n[0]=s=>r(Y)({component:pe(Ie),title:"Pause",descriptions:{description:"Pauses the game."}})),onMouseleave:n[1]||(n[1]=s=>r(V)()),onClick:n[2]||(n[2]=Bt(s=>r(Je).pauseGame(),["stop"]))},[g("img",{class:"icon",src:r(H)("speed0"),alt:""},null,8,BS)],32),g("div",{class:"icon-wrapper-small",onMouseenter:n[3]||(n[3]=s=>r(Y)({component:pe(Ie),title:"Normal Speed",descriptions:{description:"Runs the game at normal speed."}})),onMouseleave:n[4]||(n[4]=s=>r(V)()),onClick:n[5]||(n[5]=Bt(s=>r(Je).setSpeed(1),["stop"]))},[g("img",{class:"icon",src:r(H)("speed1"),alt:""},null,8,qS)],32),(d(),m("div",{key:0,class:"icon-wrapper-small",onMouseenter:n[6]||(n[6]=s=>r(Y)({component:pe(Ie),title:"Double Speed",descriptions:{description:"Runs the game at double speed."}})),onMouseleave:n[7]||(n[7]=s=>r(V)()),onClick:n[8]||(n[8]=Bt(s=>r(Je).setSpeed(2),["stop"]))},[g("img",{class:"icon",src:r(H)("speed2"),alt:""},null,8,US)],32)),r(u).debug?(d(),m("div",{key:1,class:"icon-wrapper-small",onMouseenter:n[9]||(n[9]=s=>r(Y)({component:pe(Ie),title:"Super Speed",descriptions:{description:"Runs the game at 10 times the normal speed."}})),onMouseleave:n[10]||(n[10]=s=>r(V)()),onClick:n[11]||(n[11]=Bt(s=>r(Je).setSpeed(10),["stop"]))},[g("img",{class:"icon",src:r(H)("speed3"),alt:""},null,8,FS)],32)):R("",!0),r(u).debug?(d(),m("div",{key:2,class:"icon-wrapper-small",onMouseenter:n[12]||(n[12]=s=>r(Y)({component:pe(Ie),title:"Super Speed",descriptions:{description:"Runs the game at 50 times the normal speed."}})),onMouseleave:n[13]||(n[13]=s=>r(V)()),onClick:n[14]||(n[14]=Bt(s=>r(Je).setSpeed(50),["stop"]))},[g("img",{class:"icon",src:r(H)("speed3"),alt:""},null,8,LS)],32)):R("",!0),r(u).debug?(d(),m("div",{key:3,class:"icon-wrapper-small",onMouseenter:n[15]||(n[15]=s=>r(Y)({component:pe(Ie),title:"Super Speed",descriptions:{description:"Runs the game at 100 times the normal speed."}})),onMouseleave:n[16]||(n[16]=s=>r(V)()),onClick:n[17]||(n[17]=Bt(s=>r(Je).setSpeed(100),["stop"]))},[g("img",{class:"icon",src:r(H)("speed3"),alt:""},null,8,OS)],32)):R("",!0)]),g("div",WS,[r(u).isSaved()?(d(),m("div",{key:0,class:"icon-wrapper",onMouseenter:n[18]||(n[18]=s=>r(Y)({component:pe(Ie),title:"Save",descriptions:{description:"Your progress is saved."}})),onMouseleave:n[19]||(n[19]=s=>r(V)())},[g("img",{class:"icon",src:r(H)("save-good"),alt:""},null,8,KS)],32)):(d(),m("div",{key:1,class:"icon-wrapper",onMouseenter:n[20]||(n[20]=s=>r(Y)({component:pe(Ie),title:"Old Save",descriptions:{description:"Your save is older than it should be.<br> Click this icon to save manually"}})),onMouseleave:n[21]||(n[21]=s=>r(V)()),onClick:n[22]||(n[22]=Bt(s=>r(u).save(),["stop"]))},[g("img",{class:"icon",src:r(H)("save-bad"),alt:""},null,8,GS)],32)),g("div",{class:"icon-wrapper",onMouseenter:n[23]||(n[23]=s=>r(Y)({component:pe(Ie),title:"Save Export",descriptions:{description:"Click this to export your save into a text file."}})),onMouseleave:n[24]||(n[24]=s=>r(V)()),onClick:n[25]||(n[25]=Bt(s=>r(u).exportSave(),["stop"]))},[g("img",{class:"icon",src:r(H)(r(Xe).export_save),alt:""},null,8,VS)],32),g("div",{class:"icon-wrapper",onMouseenter:n[26]||(n[26]=s=>r(Y)({component:pe(Ie),title:"About",descriptions:{description:"Opens the about overlay."}})),onMouseleave:n[27]||(n[27]=s=>r(V)()),onClick:n[28]||(n[28]=Bt(s=>r(Ra)(r(Ta).about),["stop"]))},[g("img",{class:"icon",src:r(H)("question_mark"),alt:""},null,8,jS)],32),g("div",{class:"icon-wrapper",onMouseenter:n[29]||(n[29]=s=>r(Y)({component:pe(Ie),title:"Settings",descriptions:{description:"Opens the settings overlay."}})),onMouseleave:n[30]||(n[30]=s=>r(V)()),onClick:n[31]||(n[31]=Bt(s=>r(Ra)(r(Ta).settings),["stop"]))},[g("img",{class:"icon",src:r(H)("settings"),alt:""},null,8,NS)],32)])]))}},JS=j(QS,[["__scopeId","data-v-2e15c2e4"]]),YS={class:"information-window box"},zS={class:"nav"},XS={class:"content"},ZS={__name:"InfoWIndow",setup(e){const t=u.get(),n=D(()=>t.selectedInfoTab),s=function(a){t.selectedInfoTab=a};let o={Log:KE,Journal:PS};return(a,c)=>(d(),m("div",YS,[g("div",zS,[g("div",{class:ie(["nav-item",{active:n.value=="Log"}]),onClick:c[0]||(c[0]=f=>s("Log"))}," Log ",2),g("div",{class:ie(["nav-item",{active:n.value=="Journal"}]),onClick:c[1]||(c[1]=f=>s("Journal"))}," Journal ",2)]),g("div",XS,[(d(),Se(ko(r(o)[n.value])))]),X(JS)]))}},ex=j(ZS,[["__scopeId","data-v-67b01a47"]]),tx={__name:"Tooltip",setup(e){const t=function(n,s,o){let a=o.getBoundingClientRect(),c=30,f=6,h=n.clientX,E=n.clientY,S=E+c,T=h+c,W=E+s.offsetHeight+c+f,ne=h+s.offsetWidth+c+f;a.bottom<W&&(S=S-(W-a.bottom)),a.right<ne&&(T=h-s.offsetWidth-c/2),s.style.top=S+"px",s.style.left=T+"px"};return Is(()=>{const n=document.getElementById("tooltipElement"),s=document.getElementById("container");window.addEventListener("mousemove",o=>t(o,n,s))}),Ss(()=>{window.removeEventListener("mousemove",t)}),(n,s)=>(d(),m("div",{id:"tooltipElement",class:ie(["tooltip",{active:r(b).visible,split:r(b).props.split}])},[(d(),Se(ko(r(b).props.component)))],2))}},nx=j(tx,[["__scopeId","data-v-3ddd1579"]]),sx={class:"wrapper"},ix={__name:"Overlay",props:["hideCallback"],setup(e){const t=e,n=Ye(null),s=a=>{if(n.value.contains(a.target)){a.stopPropagation();return}t.hideCallback()},o=a=>{a.key==="Escape"&&t.hideCallback()};return Is(()=>{window.addEventListener("click",s),window.addEventListener("keydown",o)}),Ss(()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",o)}),(a,c)=>(d(),m("div",sx,[g("div",{class:"overlay",ref_key:"self",ref:n},[Gd(a.$slots,"default",{},void 0)],512)]))}},Na=j(ix,[["__scopeId","data-v-2ed5b685"]]),Yr=e=>(ft("data-v-a1be0ce8"),e=e(),mt(),e),ox=Yr(()=>g("div",{class:"title"},"Thank you for playing!",-1)),rx=Yr(()=>g("div",{class:"author"},"Brought to you by Motas.",-1)),ax=Yr(()=>g("div",{class:"credits-title"},"Credits:",-1)),lx=Yr(()=>g("div",{class:"credits"},[g("div",{class:"credits-item"}," Wife ♥ (Playtesting, graphical edits and overall support) "),g("div",{class:"credits-item"},[g("a",{target:"_blank",href:"http://www.akashics.moe/"},"Aekashics"),oe(" (Battlers) ")]),g("div",{class:"credits-item"},[g("a",{target:"_blank",href:"https://pipoya.itch.io/free-rpg-monster-pack"},"Pipoya"),oe(" (Battlers) ")]),g("div",{class:"credits-item"},[g("a",{target:"_blank",href:"https://clockworkraven.itch.io/"},"Clockwork Raven"),oe(" (Icons) ")]),g("div",{class:"credits-item"},[g("a",{target:"_blank",href:"https://finalbossblues.itch.io/"},"finalbossblues"),oe(" (Icons) ")])],-1)),cx={__name:"AboutOverlay",props:["hideCallback"],setup(e){return(t,n)=>(d(),Se(Na,{hideCallback:e.hideCallback},{default:Wr(()=>[ox,rx,ax,lx]),_:1},8,["hideCallback"]))}},ux=j(cx,[["__scopeId","data-v-a1be0ce8"]]),dx=e=>(ft("data-v-8f817492"),e=e(),mt(),e),gx=dx(()=>g("div",{class:"title"},"Settings",-1)),fx={class:"save-controls"},mx={class:"button-group"},px={class:"button-group"},_x={__name:"SettingsOverlay",props:["hideCallback"],setup(e){const t=Ye(null),n=Ye(null),s=()=>{n.value.value===""||!confirm("Are you sure?")||(u.loadFromString(n.value.value),u.get().activeOverlay=null,V())},o=()=>{!confirm("Are you sure?")||!confirm("Really?")||!confirm("Last chance!")||!confirm("As you wish...")||(u.init(),V())};return(a,c)=>(d(),Se(Na,{hideCallback:e.hideCallback},{default:Wr(()=>[gx,g("div",fx,[g("div",mx,[g("button",{class:"btn cancel",onMouseenter:c[0]||(c[0]=f=>r(Y)({component:pe(Ie),title:"Generate save",descriptions:{description:"Clicking this button will generate a save text into the text input next to it.<br><br> This save text can be imported below to return to this game state later, or it can be saved into a file as a backup."}})),onMouseleave:c[1]||(c[1]=f=>r(V)()),onClick:c[2]||(c[2]=f=>t.value.value=r(u).getStateString())}," Generate Save ",32),g("input",{class:"input",type:"text",ref_key:"saveInput",ref:t},null,512)]),g("div",px,[g("button",{class:"btn cancel",onMouseenter:c[3]||(c[3]=f=>r(Y)({component:pe(Ie),title:"Import save",descriptions:{description:"Inputting a valid save text into the input next to this button and then pressing this button will set the game state to the state preserved in the save text.<br><br> This action cannot be undone, and it is recommended to create a backup first."}})),onMouseleave:c[4]||(c[4]=f=>r(V)()),onClick:c[5]||(c[5]=f=>s())}," Import Save ",32),g("input",{class:"input",type:"text",ref_key:"loadInput",ref:n},null,512)])]),g("button",{class:"btn cancel reset",onMouseenter:c[6]||(c[6]=f=>r(Y)({component:pe(Ie),title:"Reset game",descriptions:{description:"This will completely reset the game. Everything will be removed, including permanent progression.<br><br> This cannot be undone."}})),onMouseleave:c[7]||(c[7]=f=>r(V)()),onClick:c[8]||(c[8]=f=>o())}," Reset Game ",32)]),_:1},8,["hideCallback"]))}},hx=j(_x,[["__scopeId","data-v-8f817492"]]),yx=e=>(ft("data-v-e0615d74"),e=e(),mt(),e),vx=yx(()=>g("div",{class:"title"},"Acquired Blessings",-1)),kx={class:"floor-wrapper"},wx={class:"floor-title"},bx={class:"blessings-wrapper"},Ex=["onMouseenter"],Ix=["src"],Sx=["src"],xx={key:0,class:"limit"},Mx={__name:"BlessingsOverlay",props:["hideCallback"],setup(e){const t=ce.getTakenBonusesCount(),n={},s=[];let o;for(const[a,c]of Object.entries(t)){let f=a.split("_");const h=f[f.length-1];n[h]===void 0&&(n[h]=[],s.push(h)),o=zt[a],o.takenCount=c,n[h].push(o)}return s.sort((a,c)=>a-c),(a,c)=>(d(),Se(Na,{hideCallback:e.hideCallback},{default:Wr(()=>[vx,(d(),m(B,null,re(s,f=>g("div",kx,[g("div",wx,"Floor "+C(f),1),g("div",bx,[(d(!0),m(B,null,re(n[f],h=>(d(),m("div",{class:"blessing",onMouseenter:E=>r(Y)(h.getTooltipProps()),onMouseleave:c[0]||(c[0]=E=>r(V)())},[g("img",{class:"blessing-underlay",src:r(H)("blessing"),alt:""},null,8,Ix),g("img",{class:"blessing-icon",src:h.getIcon(),alt:""},null,8,Sx),h.limit?(d(),m("div",xx,C(h.takenCount),1)):R("",!0)],40,Ex))),256))])])),64))]),_:1},8,["hideCallback"]))}},Rx=j(Mx,[["__scopeId","data-v-e0615d74"]]),Tx={class:"top"},Dx=["src"],$x={class:"label"},Hx={key:0,class:"rank"},Px={class:"bottom"},Cx={key:1,class:"maxed"},Ax={__name:"Skill",props:["skill"],setup(e){return(t,n)=>(d(),m("div",{class:"skill",onMouseenter:n[0]||(n[0]=s=>r(Y)(r(se).getTooltipProps(e.skill))),onMouseleave:n[1]||(n[1]=s=>r(V)())},[g("div",Tx,[g("img",{class:"icon",src:r(H)(e.skill.getIcon())},null,8,Dx),g("span",$x,[r(se).getRank(e.skill)?(d(),m("span",Hx,C(r(Wt)("",r(se).getRank(e.skill))),1)):R("",!0),oe(" "+C(r(se).getLevel(e.skill))+" / "+C(r(se).getMaxLevel(e.skill)),1)])]),g("div",Px,[r(se).isMaxLevel(e.skill)?(d(),m("div",Cx,"MAX")):(d(),Se(Xt,{key:0,value:r(se).getExp(e.skill),maxValue:r(se).getExpToNextLevel(e.skill),color:"item-rank",hideValues:!0},null,8,["value","maxValue"]))])],32))}},Bx=j(Ax,[["__scopeId","data-v-0ffeacfb"]]),qx={class:"wrapper"},Ux={class:"skills"},Fx={__name:"Skills",setup(e){return(t,n)=>(d(),m("div",qx,[g("div",Ux,[(d(!0),m(B,null,re(r(se).getLearnedSkills(),s=>(d(),Se(Bx,{skill:s},null,8,["skill"]))),256))])]))}},Lx=j(Fx,[["__scopeId","data-v-112e1603"]]),Ox={key:0,class:"enchant-slots"},Wx=["src"],Kx=["src"],Gx=["src"],Vx={__name:"EquipmentSlot",props:["type","slot","slots","locked"],setup(e){function t(c){c&&k.useInventoryItem(c)}const n=e,s=D(()=>n.slots[n.slot]),o=D(()=>k.getInventoryItemById(n.slots[n.slot])),a=D(()=>s.value?k.getItemById(n.slots[n.slot]):null);return(c,f)=>(d(),m("div",{class:ie([e.type,"slot",{filled:s.value}]),onClick:f[0]||(f[0]=h=>t(o.value)),onMouseenter:f[1]||(f[1]=h=>r(Y)(r(je).getTooltipProps(o.value))),onMouseleave:f[2]||(f[2]=h=>r(V)())},[s.value?(d(),m("div",Ox,[(d(!0),m(B,null,re(r(kt).getEnchantingSlotsCount(o.value),h=>(d(),m("div",{class:ie(["enchant-slot",{active:o.value.enchantSlots[h-1]}])},null,2))),256))])):R("",!0),e.locked?(d(),m("img",{key:2,src:r(H)("equipment_locked"),alt:""},null,8,Gx)):(d(),m(B,{key:1},[g("img",{src:s.value?r(H)(a.value.getIcon()):r(H)("equipment_"+e.type),alt:""},null,8,Wx),s.value&&o.value.isHeirloom?(d(),m("img",{key:0,class:"heirloom-underlay",src:r(H)("blessing"),alt:""},null,8,Kx)):R("",!0)],64))],34))}},dc=j(Vx,[["__scopeId","data-v-fb869c31"]]),jx={class:"equipment"},Nx={class:"equip"},Qx={class:"runes"},Jx={__name:"Equipment",setup(e){const t=s=>s>=n.runes.availableSlots,n=u.get();return(s,o)=>(d(),m("div",jx,[g("div",Nx,[(d(!0),m(B,null,re(r(fe).getEquipmentSlots(),a=>(d(),Se(dc,{type:a,slot:a,slots:r(n).equipment},null,8,["type","slot","slots"]))),256))]),g("div",Qx,[(d(!0),m(B,null,re(r(n).runes.maxSlots,(a,c)=>(d(),Se(dc,{type:"rune",slot:c,slots:r(n).runes.slots,locked:t(c)},null,8,["slot","slots","locked"]))),256))])]))}},Yx=j(Jx,[["__scopeId","data-v-e5b6c103"]]),zx=["onClick","onMouseenter"],Xx={__name:"Title",setup(e){const t=D(()=>uo.getCurrentTitle()),n=Ye(""),s=D(()=>uo.getUnlockedTitles(n.value)),o=Ye(!1),a=Ye(null),c=Ye(null),f=Ye(null),h=E=>{let S=a.value.contains(E.target)||c.value.contains(E.target);S&&E.stopPropagation(),S||(o.value=!1)};return Is(()=>{window.addEventListener("click",h)}),Ss(()=>{window.removeEventListener("click",h)}),(E,S)=>(d(),m(B,null,[g("div",{class:"title",ref_key:"dropdownTrigger",ref:c,onClick:S[0]||(S[0]=T=>{o.value=!o.value,Wa(()=>f.value.focus())})},C(t.value.name),513),g("div",{class:ie(["titles vertical-nav",o.value?"active":""]),ref_key:"dropdown",ref:a},[Vc(g("input",{type:"text",class:"title-search","onUpdate:modelValue":S[1]||(S[1]=T=>n.value=T),ref_key:"search",ref:f},null,512),[[mu,n.value]]),(d(!0),m(B,null,re(s.value,T=>(d(),m("div",{class:"nav-item",onClick:W=>{r(uo).setCurrentTitle(T),o.value=!1},onMouseenter:W=>r(Y)(r(uo).getTooltipProps(T)),onMouseleave:S[2]||(S[2]=W=>r(V)())},C(T.name),41,zx))),256))],2)],64))}},Zx=j(Xx,[["__scopeId","data-v-84c4a7d1"]]),eM={__name:"Name",setup(e){const t=u.get(),n=Ye(!1),s=Ye(null),o=Ye(null),a=Ye(null),c=h=>{let E=s.value.contains(h.target)||o.value.contains(h.target);E&&h.stopPropagation(),E||(n.value=!1)},f=h=>{(h.key==="Escape"||h.key==="Enter")&&(n.value=!1)};return Is(()=>{window.addEventListener("click",c),window.addEventListener("keydown",f)}),Ss(()=>{window.removeEventListener("click",c),window.addEventListener("keydown",f)}),(h,E)=>(d(),m(B,null,[g("div",{class:"name",ref_key:"dropdownTrigger",ref:o,onClick:E[2]||(E[2]=S=>{n.value=!n.value,Wa(()=>a.value.focus())})},[r(t).player.rank?(d(),m("span",{key:0,onMouseenter:E[0]||(E[0]=S=>r(Y)({component:pe(Ie),title:"Rank",descriptions:{description:"Your rank.<br> Doubles the amount of stats you gain each time you level up (additively)."}})),onMouseleave:E[1]||(E[1]=S=>r(V)())},C(r(Wt)("",r(t).player.rank)),33)):R("",!0),oe(" "+C(r(t).player.name)+",  ",1)],512),g("div",{class:ie(["dropdown vertical-nav",n.value?"active":""]),ref_key:"dropdown",ref:s},[Vc(g("input",{type:"text",class:"input","onUpdate:modelValue":E[3]||(E[3]=S=>r(t).player.name=S),ref_key:"input",ref:a,maxlength:"20"},null,512),[[mu,r(t).player.name]])],2)],64))}},tM=j(eM,[["__scopeId","data-v-1b400e40"]]),gc=(e,t)=>(t=t===void 0?2:t,e>1e3?bt(e/1e3,t)+"k":e>1e6?bt(e/1e6,t)+"m":e),Pu=e=>(ft("data-v-9d310b8a"),e=e(),mt(),e),nM={class:"status"},sM={class:"top"},iM=["src"],oM={class:"bottom"},rM={class:"left"},aM=Pu(()=>g("div",{class:"subtitle"},"Vitals",-1)),lM={class:"right"},cM=Pu(()=>g("div",{class:"subtitle"},"Equipment",-1)),uM={__name:"Status",setup(e){const t=u.get(),n=D(()=>q.getStatusEffects()),s=D(()=>q.getHp()),o=D(()=>q.getMaxHp()),a=D(()=>q.getMp()),c=D(()=>q.getMaxMp()),f={component:pe(Ie),title:"<span class='c-hp'>Health</span>",descriptions:{description:"If this reaches zero, you wil get knocked out and saved by some random stranger that will drag you to your bed."}},h={component:pe(Ie),title:"<span class='c-mp'>Mana</span>",descriptions:{description:"Required to cast magical spells."}},E={component:pe(Ie),title:"<span class='c-exp-lighter'>Experience</span>",descriptions:{description:"Earned mainly by fighting enemies. After reaching the required amount, you will level up, granting you bonus stats."}};return(S,T)=>(d(),m("div",nM,[g("div",sM,[X(tM),X(Zx),Object.keys(r(ce).getTakenBonusesCount()).length>0?(d(),m("div",{key:0,class:"blessing-toggle",onMouseenter:T[0]||(T[0]=W=>r(Y)({component:pe(Ie),title:"Blessings",descriptions:{description:"Shows acquired blessings."}})),onMouseleave:T[1]||(T[1]=W=>r(V)()),onClick:T[2]||(T[2]=Bt(W=>r(Ra)(r(Ta).blessings),["stop"]))},[g("img",{class:"icon",src:r(H)("blessing_charisma"),alt:""},null,8,iM)],32)):R("",!0)]),g("div",oM,[g("div",rM,[aM,X(Xt,{label:"HP:",value:s.value,maxValue:o.value,color:"red",onMouseenter:T[3]||(T[3]=W=>r(Y)(f)),onMouseleave:T[4]||(T[4]=W=>r(V)())},null,8,["value","maxValue"]),X(Xt,{label:"MP:",value:a.value,maxValue:c.value,color:"blue",onMouseenter:T[5]||(T[5]=W=>r(Y)(h)),onMouseleave:T[6]||(T[6]=W=>r(V)())},null,8,["value","maxValue"]),X(Xt,{label:r(q).isMaxLevel()?"Level: "+r(q).maxLevel:"Level: "+r(t).player.level+" | Exp: "+r(gc)(r(t).player.exp,0)+"/"+r(gc)(r(q).getExpToNextLevel(),0),value:r(t).player.exp,maxValue:r(q).getExpToNextLevel(),color:"exp",hideValues:!0,onMouseenter:T[7]||(T[7]=W=>r(Y)(E)),onMouseleave:T[8]||(T[8]=W=>r(V)())},null,8,["label","value","maxValue"]),X(Eu,{controller:r(q),style:"column"},null,8,["controller"]),X(Su,{effects:n.value,target:"player"},null,8,["effects"])]),g("div",lM,[cM,X(Yx)])])]))}},dM=j(uM,[["__scopeId","data-v-9d310b8a"]]),gM={class:"tabs box"},fM={class:"nav"},mM={class:"content"},pM={__name:"Tabs",setup(e){let t=Ye("Status"),n={Skills:Lx,Status:dM};return(s,o)=>(d(),m("div",gM,[g("div",fM,[g("div",{class:ie(["nav-item",{active:r(t)=="Status"}]),onClick:o[0]||(o[0]=a=>St(t)?t.value="Status":t="Status")},"Status",2),g("div",{class:ie(["nav-item",{active:r(t)=="Skills"}]),onClick:o[1]||(o[1]=a=>St(t)?t.value="Skills":t="Skills")},"Skills",2)]),g("div",mM,[(d(),Se(ko(r(n)[r(t)])))])]))}},_M=j(pM,[["__scopeId","data-v-2bf88ed4"]]),hM=()=>{let e=0,t=0,n=0;for(let s=1;s<=99;s++)t=(s*2)**(2.1+n/25),e+=t,console.log(`${s}: ${t}`);console.log(`sum: ${e}`)},yM={class:"container",id:"container"},vM={__name:"App",setup(e){const t={blessings:Rx,about:ux,settings:hx},n=u.get(),s=()=>n.activeOverlay=null;return Ke.run(),(o,a)=>(d(),m("div",yM,[r(n).activeOverlay?(d(),Se(ko(t[r(n).activeOverlay]),{key:0,hideCallback:s})):R("",!0),r(u).debug?(d(),m(B,{key:1},[g("button",{onClick:a[0]||(a[0]=c=>r(u).init())},"reset"),g("button",{onClick:a[1]||(a[1]=c=>r(u).save())},"save"),g("button",{onClick:a[2]||(a[2]=c=>r(u).load())},"load"),g("button",{onClick:a[3]||(a[3]=c=>r(n).elapsedTime+=60)},"addHour"),g("button",{onClick:a[4]||(a[4]=c=>r(n).elapsedTime+=24*60)},"addDay"),g("button",{onClick:a[5]||(a[5]=c=>r(se).gainExp(r(K).runecarving,1))}," add runecarving exp "),g("button",{onClick:a[6]||(a[6]=c=>r(hM)())},"printExpTable"),g("button",{onClick:a[7]||(a[7]=c=>r(q).addMoney(1e4))},"Give money"),g("button",{onClick:a[8]||(a[8]=c=>r(q).gainExp(1e4))},"Give exp"),g("button",{onClick:a[9]||(a[9]=c=>r(Re)(r(p).bed))},"To bed"),g("button",{onClick:a[10]||(a[10]=c=>r(Re)(r(p).floor5_cleared))}," To rebirth ")],64)):R("",!0),X(_M),X(Ib),X(b1),X(K1),X(ex),X(nx)]))}};Yg(vM).mount("#app");
